
> backend@0.1.0 dev
> ts-node-dev --respawn --transpile-only src/index.ts

[INFO] 00:39:30 ts-node-dev ver. 2.0.0 (using ts-node ver. 10.9.2, typescript ver. 5.9.2)

══════════════════════════════════════════════════════════════════════
🚀 LEARN-X BACKEND STARTING
══════════════════════════════════════════════════════════════════════
📍 Configuration:
   PORT: 8000
   FRONTEND_URLS: http://localhost:5173, http://localhost:5174
   REDIS_URL: redis://localhost:6379
   GEMINI_API_KEY: ✅ SET
   USE_VISUAL_VERSION: v3
   LOG_LEVEL: debug
══════════════════════════════════════════════════════════════════════

🔌 Connecting to Redis...
🎭 Initializing orchestrator...
🧹 Clearing stale job queues on startup...
2025-10-11T19:39:30.516Z [debug] NEW Plan worker created
2025-10-11T19:39:30.516Z [debug] NEW Gen worker created
2025-10-11T19:39:30.516Z [debug] NEW Parallel worker created
✅ Orchestrator initialized


══════════════════════════════════════════════════════════════════════
✅ SERVER READY
══════════════════════════════════════════════════════════════════════
🌐 Backend URL: http://localhost:8000
🔗 Health Check: http://localhost:8000/health
📡 WebSocket Ready: ws://localhost:8000
══════════════════════════════════════════════════════════════════════

2025-10-11T19:39:30.520Z [debug] Server listening on port 8000
✅ Redis connected
It is highly recommended to use a minimum Redis version of 6.2.0
             Current: 6.0.16
It is highly recommended to use a minimum Redis version of 6.2.0
             Current: 6.0.16
It is highly recommended to use a minimum Redis version of 6.2.0
             Current: 6.0.16
It is highly recommended to use a minimum Redis version of 6.2.0
             Current: 6.0.16
It is highly recommended to use a minimum Redis version of 6.2.0
             Current: 6.0.16
It is highly recommended to use a minimum Redis version of 6.2.0
             Current: 6.0.16
It is highly recommended to use a minimum Redis version of 6.2.0
             Current: 6.0.16
It is highly recommended to use a minimum Redis version of 6.2.0
             Current: 6.0.16
It is highly recommended to use a minimum Redis version of 6.2.0
             Current: 6.0.16
2025-10-11T19:40:30.533Z [debug] [monitor] Metrics updated:
2025-10-11T19:41:30.537Z [debug] [monitor] Metrics updated:
2025-10-11T19:41:58.150Z [debug] Received request on /api/query {"body":{"query":"gravity and acceleration"}}
2025-10-11T19:41:58.150Z [debug] [api] Stored query for session 66dcb19f-dac0-48b7-b8a1-75ca5e4dfba6: "gravity and acceleration"
2025-10-11T19:41:58.150Z [debug] [orchestrator] Enqueuing plan for session 66dcb19f-dac0-48b7-b8a1-75ca5e4dfba6
2025-10-11T19:41:58.152Z [debug] [orchestrator] Plan job added with id 17 for session 66dcb19f-dac0-48b7-b8a1-75ca5e4dfba6

──────────────────────────────────────────────────────────────────────
📋 PLAN WORKER STARTED
──────────────────────────────────────────────────────────────────────
Session: 66dcb19f-dac0-48b7-b8a1-75ca5e4dfba6
Query: gravity and acceleration
Time: 2025-10-11T19:41:58.154Z
──────────────────────────────────────────────────────────────────────
2025-10-11T19:41:58.154Z [debug] [plan] START: session=66dcb19f-dac0-48b7-b8a1-75ca5e4dfba6 query=gravity and acceleration
2025-10-11T19:41:58.154Z [debug] [monitor] Started tracking request 66dcb19f-dac0-48b7-b8a1-75ca5e4dfba6
2025-10-11T19:41:58.154Z [debug] [cache] MISS - No cached plan for query: "gravity and acceleration..."
2025-10-11T19:41:58.155Z [debug] [planner] Sending enhanced prompt to Gemini...
2025-10-11T19:41:58.167Z [debug] [timeout] Setting 120000ms timeout for planner/gemini
2025-10-11T19:41:58.193Z [debug] [socket] New connection: uH7rLpAnp75U16udAAAB
2025-10-11T19:41:58.194Z [debug] [socket] Socket uH7rLpAnp75U16udAAAB joined session 66dcb19f-dac0-48b7-b8a1-75ca5e4dfba6
2025-10-11T19:41:58.194Z [debug] [socket] Socket uH7rLpAnp75U16udAAAB is now in rooms: uH7rLpAnp75U16udAAAB, 66dcb19f-dac0-48b7-b8a1-75ca5e4dfba6
2025-10-11T19:42:13.796Z [debug] [planner] Received response from Gemini in 15641ms
2025-10-11T19:42:13.796Z [debug] [planner] JSON parsed successfully on first attempt
2025-10-11T19:42:13.796Z [debug] [monitor] Plan generation for 66dcb19f-dac0-48b7-b8a1-75ca5e4dfba6 took 15642ms
2025-10-11T19:42:13.796Z [debug] [cache] Cached plan for query: "gravity and acceleration..."
=== NEW STRUCTURED PLAN ===
Session: 66dcb19f-dac0-48b7-b8a1-75ca5e4dfba6
Query: gravity and acceleration
Plan title: Gravity's Constant Tug: Understanding Acceleration When Things Fall
Plan subtitle: You'll learn how gravity isn't just a downward pull, but a force that continuously increases an object's speed.
Plan toc: [
  {
    minute: 1,
    title: 'The Intuition',
    summary: "Why falling objects don't just move, they speed up, building from everyday experience."
  },
  {
    minute: 2,
    title: 'How It Works',
    summary: 'Gravity causes a constant acceleration, meaning speed increases predictably over time.'
  },
  {
    minute: 3,
    title: 'Real Applications',
    summary: 'Where understanding gravity and acceleration is vital, from Earth to space.'
  }
]
Plan steps count: 3
Step 0: id=1, tag=intuition, desc="Imagine dropping a ball. It doesn't just travel downwards at a steady pace; it picks up speed the longer it falls. That feeling of increasing speed is 'acceleration'. Gravity isn't just a force pulling the ball down; it's a continuous push that makes its downward velocity grow stronger every moment. Think about the difference in impact between dropping something from your waist versus dropping it from a tall building – the longer fall allows gravity more time to accelerate the object, making it hit harder."
Step 1: id=2, tag=mechanics, desc="The core mechanic is that Earth's gravity provides a *constant acceleration* to all objects falling freely near its surface (ignoring air resistance). This acceleration is about 9.8 meters per second squared (9.8 m/s²). What does 'constant acceleration' mean? It means for every second an object falls, its downward speed increases by roughly 9.8 meters per second. So, if you drop a rock, after 1 second it's moving at 9.8 m/s; after 2 seconds, it's moving at 19.6 m/s; after 3 seconds, 29.4 m/s, and so on. Gravity is relentlessly adding to its speed."
Step 2: id=3, tag=applications, desc="Understanding gravity and acceleration is fundamental to countless real-world applications. Engineers use these principles to design everything from the safe, thrilling drops of rollercoasters to the precise launch trajectories of rockets escaping Earth's pull. It’s how scientists predict satellite orbits, how architects ensure buildings withstand forces, and even how athletes calculate the arc and speed needed to throw a football or shoot a basketball. This constant acceleration dictates how everything falls, moves, and interacts within our gravitational field."
=== END NEW STRUCTURED PLAN ===
2025-10-11T19:42:13.797Z [debug] [plan] OK: session=66dcb19f-dac0-48b7-b8a1-75ca5e4dfba6 plan received with 3 steps
2025-10-11T19:42:13.797Z [debug] [plan] Enqueuing PARALLEL generation of all 3 steps
2025-10-11T19:42:13.798Z [debug] [plan] END: session=66dcb19f-dac0-48b7-b8a1-75ca5e4dfba6

====================================================================================================
🔥 PARALLEL WORKER CALLED
====================================================================================================
Job ID: 17
Job name: parallel-generate
Job data keys: [ 'plan', 'sessionId', 'query' ]
====================================================================================================


──────────────────────────────────────────────────────────────────────
⚡ PARALLEL WORKER STARTED
──────────────────────────────────────────────────────────────────────
Session: 66dcb19f-dac0-48b7-b8a1-75ca5e4dfba6
Query: gravity and acceleration
Steps to generate: 3
Time: 2025-10-11T19:42:13.799Z
──────────────────────────────────────────────────────────────────────
2025-10-11T19:42:13.799Z [info] [parallel] ⚡ STARTING parallel generation for 3 steps (session: 66dcb19f-dac0-48b7-b8a1-75ca5e4dfba6)
2025-10-11T19:42:13.799Z [info] [parallel] ⏸️  Staggering 5000ms before step 2 to avoid rate limits
2025-10-11T19:42:13.800Z [debug] [cache] MISS - No cached chunk for step 1
2025-10-11T19:42:13.800Z [info] [parallel] 🚀 Step 1: Using v3 TRUE GENERATION
2025-10-11T19:42:13.800Z [info] [codegenV3WithRetry] Attempt 1/2 for step 1
2025-10-11T19:42:13.800Z [info] [codegenV3] Generating step 1: Imagine dropping a ball. It doesn't just travel downwards at a steady pace; it picks up speed the longer it falls. That feeling of increasing speed is 'acceleration'. Gravity isn't just a force pulling the ball down; it's a continuous push that makes its downward velocity grow stronger every moment. Think about the difference in impact between dropping something from your waist versus dropping it from a tall building – the longer fall allows gravity more time to accelerate the object, making it hit harder.
2025-10-11T19:42:13.800Z [info] [codegenV3] Topic: "gravity and acceleration"
2025-10-11T19:42:13.800Z [debug] [codegenV3] Prompt length: 1035 chars
2025-10-11T19:42:18.800Z [info] [parallel] ⏸️  Staggering 5000ms before step 3 to avoid rate limits
2025-10-11T19:42:18.800Z [debug] [cache] MISS - No cached chunk for step 2
2025-10-11T19:42:18.800Z [info] [parallel] 🚀 Step 2: Using v3 TRUE GENERATION
2025-10-11T19:42:18.800Z [info] [codegenV3WithRetry] Attempt 1/2 for step 2
2025-10-11T19:42:18.800Z [info] [codegenV3] Generating step 2: The core mechanic is that Earth's gravity provides a *constant acceleration* to all objects falling freely near its surface (ignoring air resistance). This acceleration is about 9.8 meters per second squared (9.8 m/s²). What does 'constant acceleration' mean? It means for every second an object falls, its downward speed increases by roughly 9.8 meters per second. So, if you drop a rock, after 1 second it's moving at 9.8 m/s; after 2 seconds, it's moving at 19.6 m/s; after 3 seconds, 29.4 m/s, and so on. Gravity is relentlessly adding to its speed.
2025-10-11T19:42:18.800Z [info] [codegenV3] Topic: "gravity and acceleration"
2025-10-11T19:42:18.800Z [debug] [codegenV3] Prompt length: 1077 chars
2025-10-11T19:42:23.801Z [debug] [cache] MISS - No cached chunk for step 3
2025-10-11T19:42:23.801Z [info] [parallel] 🚀 Step 3: Using v3 TRUE GENERATION
2025-10-11T19:42:23.801Z [info] [codegenV3WithRetry] Attempt 1/2 for step 3
2025-10-11T19:42:23.801Z [info] [codegenV3] Generating step 3: Understanding gravity and acceleration is fundamental to countless real-world applications. Engineers use these principles to design everything from the safe, thrilling drops of rollercoasters to the precise launch trajectories of rockets escaping Earth's pull. It’s how scientists predict satellite orbits, how architects ensure buildings withstand forces, and even how athletes calculate the arc and speed needed to throw a football or shoot a basketball. This constant acceleration dictates how everything falls, moves, and interacts within our gravitational field.
2025-10-11T19:42:23.801Z [info] [codegenV3] Topic: "gravity and acceleration"
2025-10-11T19:42:23.801Z [debug] [codegenV3] Prompt length: 1092 chars
2025-10-11T19:42:30.540Z [debug] [monitor] Metrics updated:
2025-10-11T19:43:03.598Z [debug] [codegenV3] Finish reason: STOP
2025-10-11T19:43:03.598Z [debug] [codegenV3] Received 3240 chars from API
2025-10-11T19:43:03.598Z [info] [codegenV3] ✅ Generated SVG in 49.80s (3240 chars)
2025-10-11T19:43:03.598Z [info] [codegenV3] 🎬 ANIMATIONS: 4 total (<animate>: 3, <animateMotion>: 0, <animateTransform>: 1)
2025-10-11T19:43:03.598Z [info] [codegenV3] 📊 CONTENT: labels=4, shapes=5
2025-10-11T19:43:03.598Z [info] [codegenV3] ✅ ANIMATIONS PRESENT - Quality check passed
2025-10-11T19:43:03.598Z [info] [codegenV3] Reference saved to: /tmp/debug-step1-WITH-ANIMATIONS.svg
2025-10-11T19:43:03.598Z [info] [codegenV3WithRetry] ✅ SUCCESS (1 actions)
2025-10-11T19:43:03.598Z [debug] compilerRouter: routing to js
2025-10-11T19:43:03.598Z [debug] [debugger] START: Received chunk for stepId=1
2025-10-11T19:43:03.598Z [debug] [debugger] Chunk type: actions
2025-10-11T19:43:03.598Z [debug] [debugger] Has actions: true
2025-10-11T19:43:03.598Z [debug] [debugger] Actions count: 1
2025-10-11T19:43:03.598Z [debug] [debugger] Chunk is valid with 1 actions, allowing all for rich visualizations
2025-10-11T19:43:03.599Z [debug] [cache] Cached chunk for query step 1
2025-10-11T19:43:03.599Z [debug] [monitor] Step 1 generation for 66dcb19f-dac0-48b7-b8a1-75ca5e4dfba6 took 49800ms
2025-10-11T19:43:03.599Z [info] [parallel] ✅ Step 1 COMPLETE in 49800ms with 1 actions

══════════════════════════════════════════════════════════════════════
🚀 ABOUT TO EMIT STEP
══════════════════════════════════════════════════════════════════════
SessionId: 66dcb19f-dac0-48b7-b8a1-75ca5e4dfba6
StepId: 1
Actions: 1
Room sockets: 1
══════════════════════════════════════════════════════════════════════
✅ EMITTED SUCCESSFULLY

2025-10-11T19:43:03.599Z [info] [parallel] 🚀 IMMEDIATELY EMITTED step 1 to frontend (1 sockets)
2025-10-11T19:43:18.078Z [debug] [codegenV3] Finish reason: STOP
2025-10-11T19:43:18.078Z [debug] [codegenV3] Received 4019 chars from API
2025-10-11T19:43:18.078Z [info] [codegenV3] ✅ Generated SVG in 59.28s (4019 chars)
2025-10-11T19:43:18.078Z [info] [codegenV3] 🎬 ANIMATIONS: 11 total (<animate>: 11, <animateMotion>: 0, <animateTransform>: 0)
2025-10-11T19:43:18.078Z [info] [codegenV3] 📊 CONTENT: labels=14, shapes=4
2025-10-11T19:43:18.078Z [info] [codegenV3] ✅ ANIMATIONS PRESENT - Quality check passed
2025-10-11T19:43:18.078Z [info] [codegenV3WithRetry] ✅ SUCCESS (1 actions)
2025-10-11T19:43:18.078Z [debug] compilerRouter: routing to js
2025-10-11T19:43:18.078Z [debug] [debugger] START: Received chunk for stepId=2
2025-10-11T19:43:18.078Z [debug] [debugger] Chunk type: actions
2025-10-11T19:43:18.078Z [debug] [debugger] Has actions: true
2025-10-11T19:43:18.078Z [debug] [debugger] Actions count: 1
2025-10-11T19:43:18.079Z [debug] [debugger] Chunk is valid with 1 actions, allowing all for rich visualizations
2025-10-11T19:43:18.079Z [debug] [cache] Cached chunk for query step 2
2025-10-11T19:43:18.079Z [debug] [monitor] Step 2 generation for 66dcb19f-dac0-48b7-b8a1-75ca5e4dfba6 took 59279ms
2025-10-11T19:43:18.079Z [info] [parallel] ✅ Step 2 COMPLETE in 59279ms with 1 actions

══════════════════════════════════════════════════════════════════════
🚀 ABOUT TO EMIT STEP
══════════════════════════════════════════════════════════════════════
SessionId: 66dcb19f-dac0-48b7-b8a1-75ca5e4dfba6
StepId: 2
Actions: 1
Room sockets: 1
══════════════════════════════════════════════════════════════════════
✅ EMITTED SUCCESSFULLY

2025-10-11T19:43:18.079Z [info] [parallel] 🚀 IMMEDIATELY EMITTED step 2 to frontend (1 sockets)
2025-10-11T19:43:30.541Z [debug] [monitor] Metrics updated:
2025-10-11T19:43:36.964Z [debug] [codegenV3] Finish reason: STOP
2025-10-11T19:43:36.964Z [debug] [codegenV3] Received 5218 chars from API
2025-10-11T19:43:36.964Z [info] [codegenV3] ✅ Generated SVG in 73.16s (5218 chars)
2025-10-11T19:43:36.964Z [info] [codegenV3] 🎬 ANIMATIONS: 11 total (<animate>: 9, <animateMotion>: 2, <animateTransform>: 0)
2025-10-11T19:43:36.964Z [info] [codegenV3] 📊 CONTENT: labels=8, shapes=9
2025-10-11T19:43:36.964Z [info] [codegenV3] ✅ ANIMATIONS PRESENT - Quality check passed
2025-10-11T19:43:36.964Z [info] [codegenV3WithRetry] ✅ SUCCESS (1 actions)
2025-10-11T19:43:36.964Z [debug] compilerRouter: routing to js
2025-10-11T19:43:36.964Z [debug] [debugger] START: Received chunk for stepId=3
2025-10-11T19:43:36.964Z [debug] [debugger] Chunk type: actions
2025-10-11T19:43:36.964Z [debug] [debugger] Has actions: true
2025-10-11T19:43:36.964Z [debug] [debugger] Actions count: 1
2025-10-11T19:43:36.964Z [debug] [debugger] Chunk is valid with 1 actions, allowing all for rich visualizations
2025-10-11T19:43:36.965Z [debug] [cache] Cached chunk for query step 3
2025-10-11T19:43:36.965Z [debug] [monitor] Step 3 generation for 66dcb19f-dac0-48b7-b8a1-75ca5e4dfba6 took 73164ms
2025-10-11T19:43:36.965Z [info] [parallel] ✅ Step 3 COMPLETE in 73164ms with 1 actions

══════════════════════════════════════════════════════════════════════
🚀 ABOUT TO EMIT STEP
══════════════════════════════════════════════════════════════════════
SessionId: 66dcb19f-dac0-48b7-b8a1-75ca5e4dfba6
StepId: 3
Actions: 1
Room sockets: 1
══════════════════════════════════════════════════════════════════════
✅ EMITTED SUCCESSFULLY

2025-10-11T19:43:36.965Z [info] [parallel] 🚀 IMMEDIATELY EMITTED step 3 to frontend (1 sockets)
2025-10-11T19:43:36.966Z [debug] [parallel] Parallel generation complete: 3/3 successful in 83167ms
2025-10-11T19:43:36.966Z [debug] [monitor] Completed request 66dcb19f-dac0-48b7-b8a1-75ca5e4dfba6 in 98812ms (success: true)
2025-10-11T19:43:36.966Z [debug] [parallel] Job complete for session 66dcb19f-dac0-48b7-b8a1-75ca5e4dfba6
2025-10-11T19:43:38.971Z [debug] [socket] Socket uH7rLpAnp75U16udAAAB disconnected: client namespace disconnect
2025-10-11T19:44:30.541Z [debug] [monitor] Metrics updated:
2025-10-11T19:45:30.544Z [debug] [monitor] Metrics updated:
2025-10-11T19:46:30.546Z [debug] [monitor] Metrics updated:
2025-10-11T19:47:30.547Z [debug] [monitor] Metrics updated:
2025-10-11T19:48:30.553Z [debug] [monitor] Metrics updated:
2025-10-11T19:49:30.558Z [debug] [monitor] Metrics updated:
2025-10-11T19:50:30.562Z [debug] [monitor] Metrics updated:
2025-10-11T19:51:30.564Z [debug] [monitor] Metrics updated:
2025-10-11T19:52:30.565Z [debug] [monitor] Metrics updated:
2025-10-11T19:53:30.569Z [debug] [monitor] Metrics updated:
2025-10-11T19:54:30.572Z [debug] [monitor] Metrics updated:
2025-10-11T19:55:30.575Z [debug] [monitor] Metrics updated:
2025-10-11T19:56:30.574Z [debug] [monitor] Metrics updated:
2025-10-11T19:57:30.580Z [debug] [monitor] Metrics updated:
2025-10-11T19:58:30.585Z [debug] [monitor] Metrics updated:
[INFO] 00:58:58 Restarting: /home/komail/LEAF/Learn-X/app/backend/src/agents/codegenV3.ts has been modified
2025-10-11T19:58:58.099Z [debug] Shutting down server...
2025-10-11T19:58:58.100Z [debug] Server shut down.

══════════════════════════════════════════════════════════════════════
🚀 LEARN-X BACKEND STARTING
══════════════════════════════════════════════════════════════════════
📍 Configuration:
   PORT: 8000
   FRONTEND_URLS: http://localhost:5173, http://localhost:5174
   REDIS_URL: redis://localhost:6379
   GEMINI_API_KEY: ✅ SET
   USE_VISUAL_VERSION: v3
   LOG_LEVEL: debug
══════════════════════════════════════════════════════════════════════

🔌 Connecting to Redis...
🎭 Initializing orchestrator...
🧹 Clearing stale job queues on startup...
2025-10-11T19:58:58.272Z [debug] NEW Plan worker created
2025-10-11T19:58:58.273Z [debug] NEW Gen worker created
2025-10-11T19:58:58.273Z [debug] NEW Parallel worker created
✅ Orchestrator initialized


══════════════════════════════════════════════════════════════════════
✅ SERVER READY
══════════════════════════════════════════════════════════════════════
🌐 Backend URL: http://localhost:8000
🔗 Health Check: http://localhost:8000/health
📡 WebSocket Ready: ws://localhost:8000
══════════════════════════════════════════════════════════════════════

2025-10-11T19:58:58.277Z [debug] Server listening on port 8000
✅ Redis connected
It is highly recommended to use a minimum Redis version of 6.2.0
             Current: 6.0.16
It is highly recommended to use a minimum Redis version of 6.2.0
             Current: 6.0.16
It is highly recommended to use a minimum Redis version of 6.2.0
             Current: 6.0.16
It is highly recommended to use a minimum Redis version of 6.2.0
             Current: 6.0.16
It is highly recommended to use a minimum Redis version of 6.2.0
             Current: 6.0.16
It is highly recommended to use a minimum Redis version of 6.2.0
             Current: 6.0.16
It is highly recommended to use a minimum Redis version of 6.2.0
             Current: 6.0.16
It is highly recommended to use a minimum Redis version of 6.2.0
             Current: 6.0.16
It is highly recommended to use a minimum Redis version of 6.2.0
             Current: 6.0.16
[INFO] 00:59:46 Restarting: /home/komail/LEAF/Learn-X/app/backend/src/agents/codegenV3.ts has been modified
2025-10-11T19:59:46.693Z [debug] Shutting down server...
2025-10-11T19:59:46.694Z [debug] Server shut down.

══════════════════════════════════════════════════════════════════════
🚀 LEARN-X BACKEND STARTING
══════════════════════════════════════════════════════════════════════
📍 Configuration:
   PORT: 8000
   FRONTEND_URLS: http://localhost:5173, http://localhost:5174
   REDIS_URL: redis://localhost:6379
   GEMINI_API_KEY: ✅ SET
   USE_VISUAL_VERSION: v3
   LOG_LEVEL: debug
══════════════════════════════════════════════════════════════════════

🔌 Connecting to Redis...
🎭 Initializing orchestrator...
🧹 Clearing stale job queues on startup...
2025-10-11T19:59:46.868Z [debug] NEW Plan worker created
2025-10-11T19:59:46.869Z [debug] NEW Gen worker created
2025-10-11T19:59:46.869Z [debug] NEW Parallel worker created
✅ Orchestrator initialized

Error: listen EADDRINUSE: address already in use :::8000
    at Server.setupListenHandle [as _listen2] (node:net:1817:16)
    at listenInCluster (node:net:1865:12)
    at Server.listen (node:net:1953:7)
    at main (/home/komail/LEAF/Learn-X/app/backend/src/index.ts:294:10)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
[ERROR] 00:59:46 Error: listen EADDRINUSE: address already in use :::8000
✅ Redis connected
2025-10-11T19:59:46.882Z [debug] Shutting down server...
2025-10-11T19:59:46.883Z [debug] Server shut down.
[INFO] 01:00:57 Restarting: /home/komail/LEAF/Learn-X/app/backend/src/agents/codegenV3.ts has been modified

══════════════════════════════════════════════════════════════════════
🚀 LEARN-X BACKEND STARTING
══════════════════════════════════════════════════════════════════════
📍 Configuration:
   PORT: 8000
   FRONTEND_URLS: http://localhost:5173, http://localhost:5174
   REDIS_URL: redis://localhost:6379
   GEMINI_API_KEY: ✅ SET
   USE_VISUAL_VERSION: v3
   LOG_LEVEL: debug
══════════════════════════════════════════════════════════════════════

🔌 Connecting to Redis...
🎭 Initializing orchestrator...
🧹 Clearing stale job queues on startup...
2025-10-11T20:00:57.955Z [debug] NEW Plan worker created
2025-10-11T20:00:57.956Z [debug] NEW Gen worker created
2025-10-11T20:00:57.956Z [debug] NEW Parallel worker created
✅ Orchestrator initialized

Error: listen EADDRINUSE: address already in use :::8000
    at Server.setupListenHandle [as _listen2] (node:net:1817:16)
    at listenInCluster (node:net:1865:12)
    at Server.listen (node:net:1953:7)
    at main (/home/komail/LEAF/Learn-X/app/backend/src/index.ts:294:10)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
[ERROR] 01:00:57 Error: listen EADDRINUSE: address already in use :::8000
✅ Redis connected
2025-10-11T20:00:57.968Z [debug] Shutting down server...
2025-10-11T20:00:57.968Z [debug] Server shut down.
