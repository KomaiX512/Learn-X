<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="800" height="600" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <title>Human Heart: Blood Circulation</title>

  <!-- 1. STYLES (fonts, classes) -->
  <style>
    .label { font-family: Arial, sans-serif; font-size: 14px; fill: #ffffff; font-weight: 500; }
    .title { font-family: Arial, sans-serif; font-size: 20px; fill: #ffffff; font-weight: 700; }
    .annotation { font-family: Arial, sans-serif; font-size: 12px; fill: #cccccc; }
    .myocardium { fill: #ffcccc; stroke: #cc9999; stroke-width: 2; }
    .right-blood { fill: #3498db; stroke: #2a72b0; stroke-width: 1.5; }
    .left-blood { fill: #e74c3c; stroke: #b53b30; stroke-width: 1.5; }
    .valve-leaflet { fill: #ffffff; stroke: #aaaaaa; stroke-width: 0.5; opacity: 0.8; }
    .blood-flow-path-blue { stroke: #3498db; stroke-width: 3; fill: none; stroke-linecap: round; }
    .blood-flow-path-red { stroke: #e74c3c; stroke-width: 3; fill: none; stroke-linecap: round; }
    .particle-blue { fill: #87ceeb; }
    .particle-red { fill: #ff4500; }
  </style>

  <!-- 2. DEFS (reusable components) -->
  <defs>
    <!-- Blood flow particles -->
    <circle id="bloodParticleBlue" r="3" class="particle-blue" />
    <circle id="bloodParticleRed" r="3" class="particle-red" />

    <!-- Reusable valve leaflet shape -->
    <path id="valveLeaflet" d="M0,0 Q5,5 10,0 Q5,-5 0,0 Z" class="valve-leaflet" />

    <!-- Reusable arrow head -->
    <path id="arrowHead" d="M0,0 L-5,-5 L-5,5 Z" fill="#ffffff" />
  </defs>

  <!-- 3. MAIN TITLE -->
  <text class="title" x="400" y="30" text-anchor="middle">Blood Circulation in the Human Heart</text>

  <!-- 4. VISUAL CONTENT (organized in groups) -->
  <g transform="translate(0, 60)">
    <!-- Overall Heart Shape (Myocardium) -->
    <path d="M400,100 C280,50 200,200 200,300 C200,450 400,550 400,550 C400,550 600,450 600,300 C600,200 520,50 400,100 Z"
          class="myocardium" stroke-width="4" stroke="#8b0000" />

    <!-- INTERVENTRICULAR SEPTUM -->
    <path d="M400,280 C410,340 400,450 400,500" class="myocardium" stroke-width="4" stroke="#8b0000" fill="none" />

    <!-- Right Atrium (RA) -->
    <path d="M400,140 Q310,140 280,200 L280,260 Q340,260 400,280 Z" class="right-blood" opacity="0.8"/>
    <!-- Right Ventricle (RV) -->
    <path d="M400,280 Q320,290 280,380 L290,480 Q350,510 400,500 Z" class="right-blood" opacity="0.8"/>

    <!-- Left Atrium (LA) -->
    <path d="M400,140 Q490,140 520,200 L520,260 Q460,260 400,280 Z" class="left-blood" opacity="0.8"/>
    <!-- Left Ventricle (LV) -->
    <path d="M400,280 Q480,290 520,380 L510,480 Q450,510 400,500 Z" class="left-blood" opacity="0.8"/>

    <!-- Valves -->
    <!-- Tricuspid Valve -->
    <g transform="translate(340,270) rotate(-15)">
      <use xlink:href="#valveLeaflet" transform="translate(0,0) scale(1.2)" />
      <use xlink:href="#valveLeaflet" transform="translate(10,5) rotate(40) scale(1.2)" />
      <use xlink:href="#valveLeaflet" transform="translate(-5,10) rotate(-40) scale(1.2)" />
    </g>
    <!-- Pulmonary Valve -->
    <g transform="translate(360,180) rotate(-10)" class="right-blood">
      <circle r="10" fill="none" stroke="#2a72b0" stroke-width="1.5" />
      <use xlink:href="#valveLeaflet" transform="translate(-10, -5) rotate(90) scale(0.8)" />
      <use xlink:href="#valveLeaflet" transform="translate(10, -5) rotate(90) scale(0.8)" />
      <use xlink:href="#valveLeaflet" transform="translate(0, 5) rotate(180) scale(0.8)" />
    </g>
    <!-- Mitral Valve -->
    <g transform="translate(460,270) rotate(15)">
      <use xlink:href="#valveLeaflet" transform="translate(0,0) scale(1.2)" />
      <use xlink:href="#valveLeaflet" transform="translate(10,5) rotate(40) scale(1.2)" />
    </g>
    <!-- Aortic Valve -->
    <g transform="translate(440,180) rotate(10)" class="left-blood">
      <circle r="10" fill="none" stroke="#b53b30" stroke-width="1.5" />
      <use xlink:href="#valveLeaflet" transform="translate(-10, -5) rotate(90) scale(0.8)" />
      <use xlink:href="#valveLeaflet" transform="translate(10, -5) rotate(90) scale(0.8)" />
      <use xlink:href="#valveLeaflet" transform="translate(0, 5) rotate(180) scale(0.8)" />
    </g>

    <!-- Major Vessels Stubs -->
    <!-- Superior Vena Cava -->
    <path d="M280,100 L280,150 Q280,140 310,140" class="right-blood" stroke-width="5" />
    <!-- Inferior Vena Cava -->
    <path d="M250,550 L250,450 Q280,450 280,380" class="right-blood" stroke-width="5" />
    <!-- Pulmonary Artery -->
    <path d="M360,180 L360,100 Q380,80 400,80" class="right-blood" stroke-width="5" />
    <!-- Pulmonary Veins (entering LA) -->
    <path d="M520,100 L520,150 Q520,140 490,140" class="left-blood" stroke-width="5" />
    <path d="M550,550 L550,450 Q520,450 520,380" class="left-blood" stroke-width="5" />
    <!-- Aorta -->
    <path d="M440,180 L440,100 Q420,80 400,80" class="left-blood" stroke-width="5" />

    <!-- Blood Flow Paths (for animation) -->
    <path id="deoxygenatedFlowPath" d="M280,100 C280,130 310,130 310,140 Q280,200 280,260 Q340,260 340,270 C340,290 320,290 280,380 L290,480 Q350,510 360,490 Q360,200 360,180 L360,100" fill="none" stroke="#3498db" stroke-width="0" />
    <path id="oxygenatedFlowPath" d="M520,100 C520,130 490,130 490,140 Q520,200 520,260 Q460,260 460,270 C460,290 480,290 520,380 L510,480 Q450,510 440,490 Q440,200 440,180 L440,100" fill="none" stroke="#e74c3c" stroke-width="0" />

    <!-- SMIL Animations for Blood Particles -->
    <g>
      <use xlink:href="#bloodParticleBlue">
        <animateMotion dur="6s" repeatCount="indefinite" path="M280,100 C280,130 310,130 310,140 Q280,200 280,260 Q340,260 340,270 L360,275 C360,290 320,290 280,380 L290,480 Q350,510 360,490 Q360,200 360,180 L360,100"/>
      </use>
      <use xlink:href="#bloodParticleBlue">
        <animateMotion dur="6s" begin="2s" repeatCount="indefinite" path="M280,100 C280,130 310,130 310,140 Q280,200 280,260 Q340,260 340,270 L360,275 C360,290 320,290 280,380 L290,480 Q350,510 360,490 Q360,200 360,180 L360,100"/>
      </use>
      <use xlink:href="#bloodParticleRed">
        <animateMotion dur="6s" repeatCount="indefinite" path="M520,100 C520,130 490,130 490,140 Q520,200 520,260 Q460,260 460,270 L440,275 C440,290 480,290 520,380 L510,480 Q450,510 440,490 Q440,200 440,180 L440,100"/>
      </use>
      <use xlink:href="#bloodParticleRed">
        <animateMotion dur="6s" begin="2s" repeatCount="indefinite" path="M520,100 C520,130 490,130 490,140 Q520,200 520,260 Q460,260 460,270 L440,275 C440,290 480,290 520,380 L510,480 Q450,510 440,490 Q440,200 440,180 L440,100"/>
      </use>
    </g>

    <!-- Ventricle Pulsing Animation -->
    <rect x="280" y="380" width="240" height="100" fill="none" stroke="none">
      <animateTransform attributeName="transform" type="scale" values="1;1.02;1"
                        keyTimes="0;0.5;1" dur="2s" repeatCount="indefinite" additive="sum"
                        begin="0s;4s"/>
      <animate attributeName="opacity" values="0.8;0.9;0.8" dur="2s" repeatCount="indefinite"
               begin="0s;4s"/>
    </rect>

  </g>

  <!-- 5. LABELS & ANNOTATIONS -->
  <g transform="translate(0, 60)">
    <!-- Chambers -->
    <text class="label" x="340" y="190" text-anchor="middle">Right Atrium</text>
    <text class="label" x="340" y="400" text-anchor="middle">Right Ventricle</text>
    <text class="label" x="460" y="190" text-anchor="middle">Left Atrium</text>
    <text class="label" x="460" y="400" text-anchor="middle">Left Ventricle</text>

    <!-- Septum -->
    <text class="label" x="400" y="380" text-anchor="middle">Interventricular Septum</text>

    <!-- Valves -->
    <text class="label" x="310" y="270" text-anchor="end">Tricuspid Valve</text>
    <text class="label" x="380" y="150" text-anchor="end">Pulmonary Valve</text>
    <text class="label" x="490" y="270" text-anchor="start">Mitral Valve</text>
    <text class="label" x="420" y="150" text-anchor="start">Aortic Valve</text>

    <!-- Major Vessels -->
    <text class="label" x="240" y="120" text-anchor="end">Superior Vena Cava</text>
    <text class="label" x="210" y="520" text-anchor="end">Inferior Vena Cava</text>
    <text class="label" x="300" y="80" text-anchor="end">Pulmonary Artery</text>
    <text class="label" x="580" y="120" text-anchor="start">Pulmonary Veins</text>
    <text class="label" x="500" y="80" text-anchor="start">Aorta</text>

    <!-- Myocardial tissue label -->
    <text class="annotation" x="650" y="250" text-anchor="middle">Myocardial Tissue</text>
    <line x1="600" y1="260" x2="630" y2="260" stroke="#cccccc" stroke-width="1"/>
    <line x1="630" y1="260" x2="630" y2="300" stroke="#cccccc" stroke-width="1"/>
    <use xlink:href="#arrowHead" transform="translate(630,300) rotate(90)" />

    <!-- Blood Flow Direction Arrows -->
    <line x1="280" y1="130" x2="280" y2="150" stroke="#3498db" stroke-width="2" marker-end="url(#arrowEndBlue)"/>
    <line x1="280" y1="200" x2="280" y2="220" stroke="#3498db" stroke-width="2" marker-end="url(#arrowEndBlue)"/>
    <line x1="360" y1="120" x2="360" y2="140" stroke="#3498db" stroke-width="2" marker-end="url(#arrowEndBlue)"/>

    <line x1="520" y1="130" x2="520" y2="150" stroke="#e74c3c" stroke-width="2" marker-end="url(#arrowEndRed)"/>
    <line x1="520" y1="200" x2="520" y2="220" stroke="#e74c3c" stroke-width="2" marker-end="url(#arrowEndRed)"/>
    <line x1="440" y1="120" x2="440" y2="140" stroke="#e74c3c" stroke-width="2" marker-end="url(#arrowEndRed)"/>

  </g>

  <!-- 6. LEGEND -->
  <g transform="translate(50, 500)">
    <rect x="0" y="0" width="20" height="20" class="right-blood" />
    <text class="annotation" x="25" y="15">Deoxygenated Blood / Right Heart</text>

    <rect x="0" y="30" width="20" height="20" class="left-blood" />
    <text class="annotation" x="25" y="45">Oxygenated Blood / Left Heart</text>

    <rect x="0" y="60" width="20" height="20" class="myocardium" />
    <text class="annotation" x="25" y="75">Myocardial Tissue</text>
  </g>
</svg>