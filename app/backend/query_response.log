2025-09-25T19:02:55.763Z [debug] Plan worker created
2025-09-25T19:02:55.764Z [debug] Gen worker created
2025-09-25T19:02:55.772Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:02:56.277Z [debug] Shutting down server...
2025-09-25T19:02:56.616Z [debug] Plan worker created
2025-09-25T19:02:56.618Z [debug] Gen worker created
2025-09-25T19:02:56.625Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:03:02.988Z [debug] Plan worker created
2025-09-25T19:03:09.165Z [debug] Shutting down server...
2025-09-25T19:03:14.866Z [debug] Plan worker created
2025-09-25T19:03:14.868Z [debug] Gen worker created
2025-09-25T19:03:14.877Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:03:25.296Z [debug] Received request on /api/query {"body":{"query":"what is the capital of France?","sessionId":"test-session"}}
2025-09-25T19:03:25.296Z [debug] [orchestrator] Enqueuing plan for session test-session
2025-09-25T19:03:25.301Z [debug] [plan] START: session=test-session query=what is the capital of France?
2025-09-25T19:03:25.303Z [debug] [planner] Sending prompt to Gemini...
2025-09-25T19:03:33.019Z [debug] Received request on /api/query {"body":{"query":"test quadratic equations","sessionId":"test-debug-session"}}
2025-09-25T19:03:33.020Z [debug] [orchestrator] Enqueuing plan for session test-debug-session
2025-09-25T19:03:44.283Z [debug] [planner] Received response from Gemini in 18980ms
2025-09-25T19:03:44.283Z [debug] [planner] Raw response length: 3072
2025-09-25T19:03:44.283Z [debug] [planner] Extracted title: The Capital of France: A Journey to Paris
2025-09-25T19:03:44.284Z [debug] [planner] Extracted plan with 6 steps
2025-09-25T19:03:44.284Z [debug] [plan] OK: session=test-session plan received with 6 steps
2025-09-25T19:03:44.285Z [debug] [plan] Enqueuing first step: session=test-session stepId=0
2025-09-25T19:03:44.286Z [debug] [plan] END: session=test-session
2025-09-25T19:03:44.287Z [debug] [gen] START: session=test-session step=0 tag=title
2025-09-25T19:03:44.288Z [debug] [codegen] START: stepId=0 tag=title {"params":{},"query":"what is the capital of France?"}
2025-09-25T19:03:44.288Z [debug] [codegen] Fast-path title step emitted without LLM.
2025-09-25T19:03:44.288Z [debug] [gen] OK: codegen completed for session=test-session step=0 in 0ms
2025-09-25T19:03:44.288Z [debug] compilerRouter: routing to js
2025-09-25T19:03:44.289Z [debug] [gen] OK: compiler completed for session=test-session step=0 in 1ms
2025-09-25T19:03:44.289Z [debug] [debugger] START: Received chunk for stepId=0
2025-09-25T19:03:44.289Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-25T19:03:44.289Z [debug] [gen] OK: debugger completed for session=test-session step=0 in 0ms
2025-09-25T19:03:44.291Z [debug] [gen] END: session=test-session step=0, emitted 'rendered' event
2025-09-25T19:03:44.291Z [debug] [orchestrator] triggerNextStep called for session test-session
2025-09-25T19:03:44.291Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-25T19:03:44.292Z [debug] [orchestrator] Plan found for session test-session
2025-09-25T19:03:44.292Z [debug] [orchestrator] Enqueuing next step: session=test-session stepId=1
2025-09-25T19:04:07.307Z [debug] Plan worker created
2025-09-25T19:04:29.007Z [debug] Shutting down server...
2025-09-25T19:04:35.875Z [debug] Plan worker created
2025-09-25T19:04:35.877Z [debug] Gen worker created
2025-09-25T19:04:35.884Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:04:56.540Z [debug] Received request on /api/query {"body":{"query":"explain photosynthesis","sessionId":"debug-complete-session"}}
2025-09-25T19:04:56.540Z [debug] [orchestrator] Enqueuing plan for session debug-complete-session
2025-09-25T19:04:56.545Z [debug] [plan] START: session=debug-complete-session query=explain photosynthesis
2025-09-25T19:04:56.546Z [debug] [planner] Sending prompt to Gemini...
2025-09-25T19:05:19.081Z [debug] [planner] Received response from Gemini in 22535ms
2025-09-25T19:05:19.082Z [debug] [planner] Raw response length: 5992
2025-09-25T19:05:19.082Z [debug] [planner] Extracted title: Photosynthesis: Unlocking Life's Energy
2025-09-25T19:05:19.083Z [debug] [planner] Extracted plan with 9 steps
2025-09-25T19:05:19.083Z [debug] [plan] OK: session=debug-complete-session plan received with 9 steps
2025-09-25T19:05:19.085Z [debug] [plan] Enqueuing first step: session=debug-complete-session stepId=0
2025-09-25T19:05:19.086Z [debug] [plan] END: session=debug-complete-session
2025-09-25T19:05:19.088Z [debug] [gen] START: session=debug-complete-session step=0 tag=title
2025-09-25T19:05:19.089Z [debug] [codegen] START: stepId=0 tag=title {"params":{},"query":"explain photosynthesis"}
2025-09-25T19:05:19.090Z [debug] [codegen] Fast-path title step emitted without LLM.
2025-09-25T19:05:19.090Z [debug] [gen] OK: codegen completed for session=debug-complete-session step=0 in 1ms
2025-09-25T19:05:19.090Z [debug] compilerRouter: routing to js
2025-09-25T19:05:19.090Z [debug] [gen] OK: compiler completed for session=debug-complete-session step=0 in 0ms
2025-09-25T19:05:19.090Z [debug] [debugger] START: Received chunk for stepId=0
2025-09-25T19:05:19.090Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-25T19:05:19.090Z [debug] [gen] OK: debugger completed for session=debug-complete-session step=0 in 0ms
2025-09-25T19:05:19.092Z [debug] [gen] END: session=debug-complete-session step=0, emitted 'rendered' event
2025-09-25T19:05:19.092Z [debug] [orchestrator] triggerNextStep called for session debug-complete-session
2025-09-25T19:05:19.092Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-25T19:05:19.093Z [debug] [orchestrator] Plan found for session debug-complete-session
2025-09-25T19:05:19.093Z [debug] [orchestrator] Enqueuing next step: session=debug-complete-session stepId=1
2025-09-25T19:05:32.805Z [debug] Received request on /api/query {"body":{"query":"test quadratic equations","sessionId":"test-debug-session"}}
2025-09-25T19:05:32.806Z [debug] [orchestrator] Enqueuing plan for session test-debug-session
2025-09-25T19:05:32.809Z [debug] [plan] START: session=test-debug-session query=test quadratic equations
2025-09-25T19:05:32.810Z [debug] [planner] Sending prompt to Gemini...
2025-09-25T19:06:01.161Z [debug] [planner] Received response from Gemini in 28351ms
2025-09-25T19:06:01.161Z [debug] [planner] Raw response length: 5630
2025-09-25T19:06:01.161Z [debug] [planner] Extracted title: Mastering Quadratic Equations: From Basics to Applications
2025-09-25T19:06:01.161Z [debug] [planner] Extracted plan with 5 steps
2025-09-25T19:06:01.162Z [debug] [plan] OK: session=test-debug-session plan received with 5 steps
2025-09-25T19:06:01.163Z [debug] [plan] Enqueuing first step: session=test-debug-session stepId=0
2025-09-25T19:06:01.165Z [debug] [plan] END: session=test-debug-session
2025-09-25T19:06:01.166Z [debug] [gen] START: session=test-debug-session step=0 tag=title
2025-09-25T19:06:01.167Z [debug] [codegen] START: stepId=0 tag=title {"params":{},"query":"test quadratic equations"}
2025-09-25T19:06:01.168Z [debug] [codegen] Fast-path title step emitted without LLM.
2025-09-25T19:06:01.168Z [debug] [gen] OK: codegen completed for session=test-debug-session step=0 in 1ms
2025-09-25T19:06:01.168Z [debug] compilerRouter: routing to js
2025-09-25T19:06:01.168Z [debug] [gen] OK: compiler completed for session=test-debug-session step=0 in 0ms
2025-09-25T19:06:01.168Z [debug] [debugger] START: Received chunk for stepId=0
2025-09-25T19:06:01.168Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-25T19:06:01.168Z [debug] [gen] OK: debugger completed for session=test-debug-session step=0 in 0ms
2025-09-25T19:06:01.169Z [debug] [gen] END: session=test-debug-session step=0, emitted 'rendered' event
2025-09-25T19:06:01.169Z [debug] [orchestrator] triggerNextStep called for session test-debug-session
2025-09-25T19:06:01.170Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-25T19:06:01.170Z [debug] [orchestrator] Plan found for session test-debug-session
2025-09-25T19:06:01.171Z [debug] [orchestrator] Enqueuing next step: session=test-debug-session stepId=1
2025-09-25T19:06:19.558Z [debug] Shutting down server...
2025-09-25T19:06:19.897Z [debug] Plan worker created
2025-09-25T19:06:19.898Z [debug] Gen worker created
2025-09-25T19:06:19.905Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:06:29.252Z [debug] Shutting down server...
2025-09-25T19:06:36.698Z [debug] Plan worker created
2025-09-25T19:06:36.700Z [debug] Gen worker created
2025-09-25T19:06:36.707Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:06:58.710Z [debug] Received request on /api/query {"body":{"query":"simple test","sessionId":"debug-worker-session"}}
2025-09-25T19:06:58.711Z [debug] [orchestrator] Enqueuing plan for session debug-worker-session
2025-09-25T19:06:58.721Z [debug] [genWorker] Received job: plan id=817
2025-09-25T19:07:58.969Z [debug] Shutting down server...
2025-09-25T19:07:59.349Z [debug] Plan worker created
2025-09-25T19:07:59.351Z [debug] Gen worker created
2025-09-25T19:07:59.358Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:08:08.063Z [debug] Shutting down server...
2025-09-25T19:08:08.429Z [debug] Plan worker created
2025-09-25T19:08:08.430Z [debug] Gen worker created
2025-09-25T19:08:08.438Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:08:16.151Z [debug] Shutting down server...
2025-09-25T19:08:24.223Z [debug] Plan worker created
2025-09-25T19:08:24.224Z [debug] Gen worker created
2025-09-25T19:08:24.232Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:08:46.950Z [debug] Received request on /api/query {"body":{"query":"test complete flow","sessionId":"final-test-session"}}
2025-09-25T19:08:46.950Z [debug] [orchestrator] Enqueuing plan for session final-test-session
2025-09-25T19:08:46.958Z [debug] [genWorker] Received job: plan id=818
2025-09-25T19:09:36.120Z [debug] Shutting down server...
2025-09-25T19:09:46.117Z [debug] Plan worker created
2025-09-25T19:09:46.118Z [debug] Gen worker created
2025-09-25T19:09:46.126Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:10:08.426Z [debug] Received request on /api/query {"body":{"query":"timeout test","sessionId":"timeout-test-session"}}
2025-09-25T19:10:08.426Z [debug] [orchestrator] Enqueuing plan for session timeout-test-session
2025-09-25T19:10:08.432Z [debug] [genWorker] Received job: plan id=819
2025-09-25T19:11:04.021Z [debug] Shutting down server...
2025-09-25T19:11:12.352Z [debug] Plan worker created
2025-09-25T19:11:12.354Z [debug] Gen worker created
2025-09-25T19:11:12.361Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:11:54.188Z [debug] Shutting down server...
2025-09-25T19:11:54.609Z [debug] Plan worker created
2025-09-25T19:11:54.611Z [debug] Gen worker created
2025-09-25T19:11:54.619Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:12:09.461Z [debug] Shutting down server...
2025-09-25T19:12:17.361Z [debug] Plan worker created
2025-09-25T19:12:17.363Z [debug] Gen worker created
2025-09-25T19:12:17.371Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:13:04.203Z [debug] Shutting down server...
2025-09-25T19:13:04.481Z [debug] Plan worker created
2025-09-25T19:13:04.483Z [debug] Gen worker created
2025-09-25T19:13:04.490Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:13:13.643Z [debug] Shutting down server...
2025-09-25T19:13:22.346Z [debug] Plan worker created
2025-09-25T19:13:22.348Z [debug] Gen worker created
2025-09-25T19:13:22.359Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:13:28.668Z [debug] Received request on /api/query {"body":{"query":"teach me supply demand game","sessionId":"supply-demand-test"}}
2025-09-25T19:13:28.669Z [debug] [orchestrator] Enqueuing plan for session supply-demand-test
2025-09-25T19:13:28.676Z [debug] [genWorker] Received job: plan id=820
2025-09-25T19:14:19.393Z [debug] Shutting down server...
2025-09-25T19:14:19.759Z [debug] Plan worker created
2025-09-25T19:14:19.761Z [debug] Gen worker created
2025-09-25T19:14:19.768Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:14:28.210Z [debug] Shutting down server...
2025-09-25T19:14:36.084Z [debug] Plan worker created
2025-09-25T19:14:36.086Z [debug] Gen worker created
2025-09-25T19:14:36.093Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:15:00.676Z [debug] Received request on /api/query {"body":{"query":"final test for timeout","sessionId":"timeout-final-test"}}
2025-09-25T19:15:00.677Z [debug] [orchestrator] Enqueuing plan for session timeout-final-test
2025-09-25T19:15:00.681Z [debug] [genWorker] Received job: plan id=821
2025-09-25T19:16:15.639Z [debug] Shutting down server...
2025-09-25T19:16:15.909Z [debug] Plan worker created
2025-09-25T19:16:15.911Z [debug] Gen worker created
2025-09-25T19:16:15.919Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:16:25.046Z [debug] Shutting down server...
2025-09-25T19:16:34.928Z [debug] Plan worker created
2025-09-25T19:16:34.930Z [debug] Gen worker created
2025-09-25T19:16:34.937Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:16:57.948Z [debug] Received request on /api/query {"body":{"query":"force timeout test","sessionId":"force-timeout-test"}}
2025-09-25T19:16:57.949Z [debug] [orchestrator] Enqueuing plan for session force-timeout-test
2025-09-25T19:16:57.956Z [debug] [genWorker] Received job: plan id=822
2025-09-25T19:17:34.491Z [debug] Shutting down server...
2025-09-25T19:17:34.782Z [debug] Plan worker created
2025-09-25T19:17:34.783Z [debug] Gen worker created
2025-09-25T19:17:34.791Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:17:43.312Z [debug] Shutting down server...
2025-09-25T19:17:51.908Z [debug] Plan worker created
2025-09-25T19:17:51.911Z [debug] Gen worker created
2025-09-25T19:17:51.923Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:18:16.134Z [debug] Received request on /api/query {"body":{"query":"debug complete flow","sessionId":"debug-complete-flow"}}
2025-09-25T19:18:16.134Z [debug] [orchestrator] Enqueuing plan for session debug-complete-flow
2025-09-25T19:18:16.140Z [debug] [genWorker] Received job: plan id=823
2025-09-25T19:18:16.140Z [debug] [plan] START: session=debug-complete-flow query=debug complete flow
2025-09-25T19:18:16.142Z [debug] [planner] Sending prompt to Gemini...
2025-09-25T19:18:16.159Z [debug] [timeout] Setting 1000ms timeout for planner/gemini
2025-09-25T19:18:17.160Z [debug] [timeout] planner/gemini timed out after 1000ms
2025-09-25T19:18:17.161Z [debug] plannerAgent: Gemini error, using fallback. Error: planner/gemini timeout after 1000ms
2025-09-25T19:18:17.161Z [debug] [plan] OK: session=debug-complete-flow plan received with 3 steps
2025-09-25T19:18:17.162Z [debug] [plan] Enqueuing first step: session=debug-complete-flow stepId=1
2025-09-25T19:18:17.163Z [debug] [plan] END: session=debug-complete-flow
2025-09-25T19:18:17.165Z [debug] [genWorker] Received job: gen id=824
2025-09-25T19:18:17.165Z [debug] [gen] START: session=debug-complete-flow step=1 tag=intro
2025-09-25T19:18:17.167Z [debug] [codegen] START: stepId=1 tag=intro {"params":{},"query":"debug complete flow"}
2025-09-25T19:18:17.168Z [debug] [codegen] Sending prompt to Gemini for tag=intro
2025-09-25T19:18:34.143Z [debug] [codegen] Received response from Gemini for tag=intro, length: 2244
2025-09-25T19:18:34.143Z [debug] [gen] OK: codegen completed for session=debug-complete-flow step=1 in 16976ms
2025-09-25T19:18:34.143Z [debug] compilerRouter: routing to js
2025-09-25T19:18:34.143Z [debug] [gen] OK: compiler completed for session=debug-complete-flow step=1 in 0ms
2025-09-25T19:18:34.143Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-25T19:18:34.144Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-25T19:18:34.144Z [debug] [gen] OK: debugger completed for session=debug-complete-flow step=1 in 1ms
2025-09-25T19:18:34.146Z [debug] [gen] END: session=debug-complete-flow step=1, emitted 'rendered' event
2025-09-25T19:18:34.146Z [debug] [orchestrator] triggerNextStep called for session debug-complete-flow
2025-09-25T19:18:34.147Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-25T19:18:34.147Z [debug] [orchestrator] Plan found for session debug-complete-flow
2025-09-25T19:18:34.148Z [debug] [orchestrator] Enqueuing next step: session=debug-complete-flow stepId=2
2025-09-25T19:18:34.150Z [debug] [genWorker] Received job: gen id=825
2025-09-25T19:20:06.193Z [debug] Shutting down server...
2025-09-25T19:20:06.548Z [debug] Plan worker created
2025-09-25T19:20:06.550Z [debug] Gen worker created
2025-09-25T19:20:06.557Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:20:16.156Z [debug] Shutting down server...
2025-09-25T19:20:25.599Z [debug] Plan worker created
2025-09-25T19:20:25.601Z [debug] Gen worker created
2025-09-25T19:20:25.608Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:20:51.320Z [debug] Received request on /api/query {"body":{"query":"final comprehensive test","sessionId":"final-comprehensive-test"}}
2025-09-25T19:20:51.321Z [debug] [orchestrator] Enqueuing plan for session final-comprehensive-test
2025-09-25T19:20:51.328Z [debug] [genWorker] Received job: plan id=826
2025-09-25T19:21:55.171Z [debug] Shutting down server...
2025-09-25T19:21:55.461Z [debug] Plan worker created
2025-09-25T19:21:55.463Z [debug] Gen worker created
2025-09-25T19:21:55.470Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:22:04.201Z [debug] Shutting down server...
2025-09-25T19:22:15.044Z [debug] Plan worker created
2025-09-25T19:22:15.046Z [debug] Gen worker created
2025-09-25T19:22:15.053Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:22:46.090Z [debug] Received request on /api/query {"body":{"query":"console test","sessionId":"console-test"}}
2025-09-25T19:22:46.091Z [debug] [orchestrator] Enqueuing plan for session console-test
2025-09-25T19:22:46.098Z [debug] [genWorker] Received job: plan id=827
2025-09-25T19:22:46.098Z [debug] [plan] START: session=console-test query=console test
2025-09-25T19:22:46.101Z [debug] [planner] Sending prompt to Gemini...
2025-09-25T19:22:46.124Z [debug] [timeout] Setting 1000ms timeout for planner/gemini
2025-09-25T19:22:47.124Z [debug] [timeout] planner/gemini timed out after 1000ms
2025-09-25T19:22:47.124Z [debug] plannerAgent: Gemini error, using fallback. Error: planner/gemini timeout after 1000ms
2025-09-25T19:22:47.124Z [debug] [plan] OK: session=console-test plan received with 3 steps
2025-09-25T19:22:47.125Z [debug] [plan] Enqueuing first step: session=console-test stepId=1
2025-09-25T19:22:47.126Z [debug] [plan] END: session=console-test
2025-09-25T19:22:47.127Z [debug] [genWorker] Received job: gen id=828
2025-09-25T19:22:47.129Z [debug] [gen] START: session=console-test step=1 tag=intro
2025-09-25T19:22:47.130Z [debug] [codegen] START: stepId=1 tag=intro {"params":{},"query":"console test"}
2025-09-25T19:22:47.131Z [debug] [codegen] Sending prompt to Gemini for tag=intro
2025-09-25T19:22:47.135Z [debug] Shutting down server...
2025-09-25T19:24:10.863Z [debug] Plan worker created
2025-09-25T19:24:10.864Z [debug] Gen worker created
2025-09-25T19:24:10.872Z [debug] Backend listening on http://localhost:3001
2025-09-25T19:24:40.891Z [debug] [genWorker] Received job: gen id=828
2025-09-25T19:24:41.443Z [debug] Received request on /api/query {"body":{"query":"comprehensive final test","sessionId":"comprehensive-final"}}
2025-09-25T19:24:41.443Z [debug] [orchestrator] Enqueuing plan for session comprehensive-final
2025-09-25T19:24:41.448Z [debug] [genWorker] Received job: plan id=829
2025-09-26T03:47:51.049Z [debug] Received request on /api/query {"body":{"query":"brutal debug test - explain quantum physics","sessionId":"brutal-debug-test"}}
2025-09-26T03:47:51.051Z [debug] [orchestrator] Enqueuing plan for session brutal-debug-test
2025-09-26T03:47:51.058Z [debug] [genWorker] Received job: plan id=830
2025-09-26T03:48:15.564Z [debug] Shutting down server...
2025-09-26T03:48:21.772Z [debug] Plan worker created
2025-09-26T03:48:21.774Z [debug] Gen worker created
2025-09-26T03:48:21.781Z [debug] Backend listening on http://localhost:3001
2025-09-26T03:48:41.319Z [debug] Received request on /api/query {"body":{"query":"debug test - machine learning basics","sessionId":"ml-debug-test"}}
2025-09-26T03:48:41.320Z [debug] [orchestrator] Enqueuing plan for session ml-debug-test
2025-09-26T03:48:41.329Z [debug] [genWorker] Received job: plan id=831
2025-09-26T03:48:41.329Z [debug] [plan] START: session=ml-debug-test query=debug test - machine learning basics
2025-09-26T03:48:41.330Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T03:48:41.346Z [debug] [timeout] Setting 1000ms timeout for planner/gemini
2025-09-26T03:48:42.346Z [debug] [timeout] planner/gemini timed out after 1000ms
2025-09-26T03:48:42.347Z [debug] plannerAgent: Gemini error, using fallback. Error: planner/gemini timeout after 1000ms
2025-09-26T03:48:42.348Z [debug] [plan] OK: session=ml-debug-test plan received with 3 steps
2025-09-26T03:48:42.349Z [debug] [plan] Enqueuing first step: session=ml-debug-test stepId=1
2025-09-26T03:48:42.351Z [debug] [plan] END: session=ml-debug-test
2025-09-26T03:48:42.355Z [debug] [genWorker] Received job: gen id=832
2025-09-26T03:48:42.355Z [debug] [gen] START: session=ml-debug-test step=1 tag=intro
2025-09-26T03:48:42.357Z [debug] [codegen] START: stepId=1 tag=intro {"params":{},"query":"debug test - machine learning basics"}
2025-09-26T03:48:42.358Z [debug] [codegen] Sending prompt to Gemini for tag=intro
2025-09-26T03:48:47.362Z [debug] codegenAgent: Gemini error for tag=intro, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T03:48:47.362Z [debug] [gen] OK: codegen completed for session=ml-debug-test step=1 in 5006ms
2025-09-26T03:48:47.362Z [debug] compilerRouter: routing to js
2025-09-26T03:48:47.362Z [debug] [gen] OK: compiler completed for session=ml-debug-test step=1 in 0ms
2025-09-26T03:48:47.362Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T03:48:47.362Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T03:48:47.362Z [debug] [gen] OK: debugger completed for session=ml-debug-test step=1 in 0ms
2025-09-26T03:48:47.366Z [debug] [gen] END: session=ml-debug-test step=1, emitted 'rendered' event
2025-09-26T03:48:47.367Z [debug] [orchestrator] triggerNextStep called for session ml-debug-test
2025-09-26T03:48:47.369Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T03:48:47.369Z [debug] [orchestrator] Plan found for session ml-debug-test
2025-09-26T03:48:47.370Z [debug] [orchestrator] Enqueuing next step: session=ml-debug-test stepId=2
2025-09-26T03:48:47.373Z [debug] [genWorker] Received job: gen id=833
2025-09-26T03:49:46.955Z [debug] Shutting down server...
2025-09-26T03:49:47.219Z [debug] Plan worker created
2025-09-26T03:49:47.220Z [debug] Gen worker created
2025-09-26T03:49:47.228Z [debug] Backend listening on http://localhost:3001
2025-09-26T03:49:53.577Z [debug] Shutting down server...
2025-09-26T03:50:00.101Z [debug] Plan worker created
2025-09-26T03:50:00.103Z [debug] Gen worker created
2025-09-26T03:50:00.112Z [debug] Backend listening on http://localhost:3001
2025-09-26T03:50:20.933Z [debug] Received request on /api/query {"body":{"query":"final brutal test - calculus derivatives","sessionId":"calculus-final-test"}}
2025-09-26T03:50:20.933Z [debug] [orchestrator] Enqueuing plan for session calculus-final-test
2025-09-26T03:50:20.941Z [debug] [genWorker] Received job: plan id=834
2025-09-26T03:50:53.747Z [debug] Shutting down server...
2025-09-26T03:50:54.053Z [debug] Plan worker created
2025-09-26T03:50:54.055Z [debug] Gen worker created
2025-09-26T03:50:54.062Z [debug] Backend listening on http://localhost:3001
2025-09-26T03:51:00.864Z [debug] Shutting down server...
2025-09-26T03:51:06.444Z [debug] Plan worker created
2025-09-26T03:51:06.445Z [debug] Gen worker created
2025-09-26T03:51:06.453Z [debug] Backend listening on http://localhost:3001
2025-09-26T03:51:27.599Z [debug] Received request on /api/query {"body":{"query":"debug console log test","sessionId":"console-log-test"}}
2025-09-26T03:51:27.599Z [debug] [orchestrator] Enqueuing plan for session console-log-test
2025-09-26T03:51:27.606Z [debug] [genWorker] Received job: plan id=835
2025-09-26T03:51:27.606Z [debug] [plan] START: session=console-log-test query=debug console log test
2025-09-26T03:51:27.608Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T03:51:27.622Z [debug] [timeout] Setting 1000ms timeout for planner/gemini
2025-09-26T03:51:28.624Z [debug] [timeout] planner/gemini timed out after 1000ms
2025-09-26T03:51:28.625Z [debug] plannerAgent: Gemini error, using fallback. Error: planner/gemini timeout after 1000ms
2025-09-26T03:51:28.625Z [debug] [plan] OK: session=console-log-test plan received with 3 steps
2025-09-26T03:51:28.627Z [debug] [plan] Enqueuing first step: session=console-log-test stepId=1
2025-09-26T03:51:28.629Z [debug] [plan] END: session=console-log-test
2025-09-26T03:51:28.632Z [debug] [genWorker] Received job: gen id=836
2025-09-26T03:51:28.632Z [debug] [gen] START: session=console-log-test step=1 tag=intro
2025-09-26T03:51:28.634Z [debug] [codegen] START: stepId=1 tag=intro {"params":{},"query":"debug console log test"}
2025-09-26T03:51:28.635Z [debug] [codegen] Sending prompt to Gemini for tag=intro
2025-09-26T03:51:28.635Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T03:51:33.637Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T03:51:33.638Z [debug] codegenAgent: Gemini error for tag=intro, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T03:51:33.638Z [debug] [gen] OK: codegen completed for session=console-log-test step=1 in 5004ms
2025-09-26T03:51:33.638Z [debug] compilerRouter: routing to js
2025-09-26T03:51:33.641Z [debug] [gen] OK: compiler completed for session=console-log-test step=1 in 3ms
2025-09-26T03:51:33.642Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T03:51:33.642Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T03:51:33.642Z [debug] [gen] OK: debugger completed for session=console-log-test step=1 in 1ms
2025-09-26T03:51:33.648Z [debug] [gen] END: session=console-log-test step=1, emitted 'rendered' event
2025-09-26T03:51:33.649Z [debug] [orchestrator] triggerNextStep called for session console-log-test
2025-09-26T03:51:33.650Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T03:52:50.288Z [debug] Plan worker created
2025-09-26T03:52:50.289Z [debug] Gen worker created
2025-09-26T03:52:50.298Z [debug] Backend listening on http://localhost:3001
2025-09-26T03:53:11.884Z [debug] Received request on /api/query {"body":{"query":"BRUTAL FINAL TEST - explain machine learning workflow","sessionId":"brutal-final-test"}}
2025-09-26T03:53:11.884Z [debug] [orchestrator] Enqueuing plan for session brutal-final-test
2025-09-26T03:53:11.888Z [debug] [genWorker] Received job: plan id=837
2025-09-26T03:53:11.888Z [debug] [plan] START: session=brutal-final-test query=BRUTAL FINAL TEST - explain machine learning workflow
2025-09-26T03:53:11.888Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T03:53:11.901Z [debug] [timeout] Setting 1000ms timeout for planner/gemini
2025-09-26T03:53:12.902Z [debug] [timeout] planner/gemini timed out after 1000ms
2025-09-26T03:53:12.903Z [debug] plannerAgent: Gemini error, using fallback. Error: planner/gemini timeout after 1000ms
2025-09-26T03:53:12.904Z [debug] [plan] OK: session=brutal-final-test plan received with 3 steps
2025-09-26T03:53:12.905Z [debug] [plan] Enqueuing first step: session=brutal-final-test stepId=1
2025-09-26T03:53:12.907Z [debug] [plan] END: session=brutal-final-test
2025-09-26T03:53:12.910Z [debug] [genWorker] Received job: gen id=838
2025-09-26T03:53:12.911Z [debug] [gen] START: session=brutal-final-test step=1 tag=intro
2025-09-26T03:53:12.912Z [debug] [codegen] START: stepId=1 tag=intro {"params":{},"query":"BRUTAL FINAL TEST - explain machine learning workflow"}
2025-09-26T03:53:12.913Z [debug] [codegen] Sending prompt to Gemini for tag=intro
2025-09-26T03:53:12.913Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T03:53:17.914Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T03:53:17.914Z [debug] codegenAgent: Gemini error for tag=intro, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T03:53:17.915Z [debug] [gen] OK: codegen completed for session=brutal-final-test step=1 in 5003ms
2025-09-26T03:53:17.915Z [debug] compilerRouter: routing to js
2025-09-26T03:53:17.915Z [debug] [gen] OK: compiler completed for session=brutal-final-test step=1 in 5003ms
2025-09-26T03:53:17.915Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T03:53:17.915Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T03:53:17.915Z [debug] [gen] OK: debugger completed for session=brutal-final-test step=1 in 0ms
2025-09-26T03:53:17.918Z [debug] [gen] END: session=brutal-final-test step=1, emitted 'rendered' event
2025-09-26T03:53:17.918Z [debug] [orchestrator] triggerNextStep called for session brutal-final-test
2025-09-26T03:53:17.918Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T03:53:17.919Z [debug] [orchestrator] Plan found for session brutal-final-test
2025-09-26T03:53:17.919Z [debug] [orchestrator] Enqueuing next step: session=brutal-final-test stepId=2
2025-09-26T03:53:17.922Z [debug] [genWorker] Received job: gen id=839
2025-09-26T03:53:20.321Z [debug] [genWorker] Received job: gen id=836
2025-09-26T04:09:48.069Z [debug] Received request on /api/query {"body":{"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H","sessionId":"07a50e21-abf4-456b-84d0-3cb3834a11fd"}}
2025-09-26T04:09:48.069Z [debug] [orchestrator] Enqueuing plan for session 07a50e21-abf4-456b-84d0-3cb3834a11fd
2025-09-26T04:09:48.076Z [debug] [genWorker] Received job: plan id=840
2025-09-26T04:09:48.077Z [debug] socket joined session 07a50e21-abf4-456b-84d0-3cb3834a11fd
2025-09-26T04:13:37.142Z [debug] Shutting down server...
2025-09-26T04:15:54.534Z [debug] Shutting down server...
2025-09-26T04:15:54.534Z [debug] Shutting down server...
2025-09-26T04:16:03.210Z [debug] Plan worker created
2025-09-26T04:16:03.212Z [debug] Gen worker created
2025-09-26T04:16:03.219Z [debug] Backend listening on http://localhost:3001
2025-09-26T04:16:27.781Z [debug] Received request on /api/query {"body":{"query":"test separate queues - photosynthesis basics","sessionId":"separate-queues-test"}}
2025-09-26T04:16:27.782Z [debug] [orchestrator] Enqueuing plan for session separate-queues-test
2025-09-26T04:16:27.787Z [debug] [planWorker] Received job: plan id=1
2025-09-26T04:16:27.788Z [debug] [plan] START: session=separate-queues-test query=test separate queues - photosynthesis basics
2025-09-26T04:16:27.789Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T04:16:27.803Z [debug] [timeout] Setting 1000ms timeout for planner/gemini
2025-09-26T04:16:28.805Z [debug] [timeout] planner/gemini timed out after 1000ms
2025-09-26T04:16:28.806Z [debug] plannerAgent: Gemini error, using fallback. Error: planner/gemini timeout after 1000ms
2025-09-26T04:16:28.807Z [debug] [plan] OK: session=separate-queues-test plan received with 3 steps
2025-09-26T04:16:28.808Z [debug] [plan] Enqueuing first step: session=separate-queues-test stepId=1
2025-09-26T04:16:28.810Z [debug] [plan] END: session=separate-queues-test
2025-09-26T04:16:28.814Z [debug] [genWorker] Received job: gen id=1
2025-09-26T04:16:28.814Z [debug] [gen] START: session=separate-queues-test step=1 tag=intro
2025-09-26T04:16:28.816Z [debug] [codegen] START: stepId=1 tag=intro {"params":{},"query":"test separate queues - photosynthesis basics"}
2025-09-26T04:16:28.816Z [debug] [codegen] Sending prompt to Gemini for tag=intro
2025-09-26T04:16:28.816Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:16:33.819Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:16:33.820Z [debug] codegenAgent: Gemini error for tag=intro, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:16:33.820Z [debug] [gen] OK: codegen completed for session=separate-queues-test step=1 in 5005ms
2025-09-26T04:16:33.820Z [debug] compilerRouter: routing to js
2025-09-26T04:16:33.820Z [debug] [gen] OK: compiler completed for session=separate-queues-test step=1 in 5005ms
2025-09-26T04:16:33.820Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T04:16:33.821Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:16:33.821Z [debug] [gen] OK: debugger completed for session=separate-queues-test step=1 in 1ms
2025-09-26T04:16:33.824Z [debug] [gen] END: session=separate-queues-test step=1, emitted 'rendered' event
2025-09-26T04:16:33.826Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:16:33.828Z [debug] [orchestrator] Plan found for session separate-queues-test
2025-09-26T04:16:33.828Z [debug] [orchestrator] Enqueuing next step: session=separate-queues-test stepId=2
2025-09-26T04:16:33.831Z [debug] [genWorker] Received job: gen id=2
2025-09-26T04:16:33.831Z [debug] [gen] START: session=separate-queues-test step=2 tag=concepts
2025-09-26T04:16:33.832Z [debug] [codegen] START: stepId=2 tag=concepts {"params":{},"query":"test separate queues - photosynthesis basics"}
2025-09-26T04:16:33.833Z [debug] [codegen] Sending prompt to Gemini for tag=concepts
2025-09-26T04:16:33.833Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:16:38.836Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:16:38.837Z [debug] codegenAgent: Gemini error for tag=concepts, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:16:38.837Z [debug] [gen] OK: codegen completed for session=separate-queues-test step=2 in 5005ms
2025-09-26T04:16:38.837Z [debug] compilerRouter: routing to js
2025-09-26T04:16:38.837Z [debug] [gen] OK: compiler completed for session=separate-queues-test step=2 in 5005ms
2025-09-26T04:16:38.837Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T04:16:38.837Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:16:38.837Z [debug] [gen] OK: debugger completed for session=separate-queues-test step=2 in 0ms
2025-09-26T04:16:38.839Z [debug] [gen] END: session=separate-queues-test step=2, emitted 'rendered' event
2025-09-26T04:16:38.840Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:16:38.841Z [debug] [orchestrator] Plan found for session separate-queues-test
2025-09-26T04:16:38.842Z [debug] [orchestrator] Enqueuing next step: session=separate-queues-test stepId=3
2025-09-26T04:16:38.844Z [debug] [genWorker] Received job: gen id=3
2025-09-26T04:16:38.844Z [debug] [gen] START: session=separate-queues-test step=3 tag=examples
2025-09-26T04:16:38.845Z [debug] [codegen] START: stepId=3 tag=examples {"params":{},"query":"test separate queues - photosynthesis basics"}
2025-09-26T04:16:38.845Z [debug] [codegen] Sending prompt to Gemini for tag=examples
2025-09-26T04:16:38.845Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:16:43.845Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:16:43.845Z [debug] codegenAgent: Gemini error for tag=examples, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:16:43.846Z [debug] [gen] OK: codegen completed for session=separate-queues-test step=3 in 5001ms
2025-09-26T04:16:43.846Z [debug] compilerRouter: routing to js
2025-09-26T04:16:43.846Z [debug] [gen] OK: compiler completed for session=separate-queues-test step=3 in 5001ms
2025-09-26T04:16:43.846Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T04:16:43.846Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:16:43.846Z [debug] [gen] OK: debugger completed for session=separate-queues-test step=3 in 0ms
2025-09-26T04:16:43.848Z [debug] [gen] END: session=separate-queues-test step=3, emitted 'rendered' event
2025-09-26T04:16:43.848Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:16:43.849Z [debug] [orchestrator] Plan found for session separate-queues-test
2025-09-26T04:16:43.849Z [debug] [orchestrator] All steps completed for session separate-queues-test
2025-09-26T04:17:00.995Z [debug] Received request on /api/query {"body":{"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H","sessionId":"07a50e21-abf4-456b-84d0-3cb3834a11fd"}}
2025-09-26T04:17:00.995Z [debug] [orchestrator] Enqueuing plan for session 07a50e21-abf4-456b-84d0-3cb3834a11fd
2025-09-26T04:17:00.997Z [debug] [planWorker] Received job: plan id=2
2025-09-26T04:17:00.997Z [debug] [plan] START: session=07a50e21-abf4-456b-84d0-3cb3834a11fd query=tell me H20 structure and draw Grah between the intermolecular force between OH and H
2025-09-26T04:17:00.997Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T04:17:00.998Z [debug] [timeout] Setting 1000ms timeout for planner/gemini
2025-09-26T04:17:01.998Z [debug] [timeout] planner/gemini timed out after 1000ms
2025-09-26T04:17:01.999Z [debug] plannerAgent: Gemini error, using fallback. Error: planner/gemini timeout after 1000ms
2025-09-26T04:17:01.999Z [debug] [plan] OK: session=07a50e21-abf4-456b-84d0-3cb3834a11fd plan received with 3 steps
2025-09-26T04:17:01.999Z [debug] [plan] Enqueuing first step: session=07a50e21-abf4-456b-84d0-3cb3834a11fd stepId=1
2025-09-26T04:17:02.001Z [debug] [plan] END: session=07a50e21-abf4-456b-84d0-3cb3834a11fd
2025-09-26T04:17:02.001Z [debug] [genWorker] Received job: gen id=4
2025-09-26T04:17:02.001Z [debug] [gen] START: session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=1 tag=intro
2025-09-26T04:17:02.002Z [debug] [codegen] START: stepId=1 tag=intro {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T04:17:02.002Z [debug] [codegen] Sending prompt to Gemini for tag=intro
2025-09-26T04:17:02.002Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:17:07.003Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:17:07.003Z [debug] codegenAgent: Gemini error for tag=intro, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:17:07.004Z [debug] [gen] OK: codegen completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=1 in 5002ms
2025-09-26T04:17:07.004Z [debug] compilerRouter: routing to js
2025-09-26T04:17:07.004Z [debug] [gen] OK: compiler completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=1 in 5002ms
2025-09-26T04:17:07.004Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T04:17:07.004Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:17:07.004Z [debug] [gen] OK: debugger completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=1 in 0ms
2025-09-26T04:17:07.006Z [debug] [gen] END: session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=1, emitted 'rendered' event
2025-09-26T04:17:07.006Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:17:07.007Z [debug] [orchestrator] Plan found for session 07a50e21-abf4-456b-84d0-3cb3834a11fd
2025-09-26T04:17:07.007Z [debug] [orchestrator] Enqueuing next step: session=07a50e21-abf4-456b-84d0-3cb3834a11fd stepId=2
2025-09-26T04:17:07.011Z [debug] [genWorker] Received job: gen id=5
2025-09-26T04:17:07.011Z [debug] [gen] START: session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=2 tag=concepts
2025-09-26T04:17:07.011Z [debug] [codegen] START: stepId=2 tag=concepts {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T04:17:07.012Z [debug] [codegen] Sending prompt to Gemini for tag=concepts
2025-09-26T04:17:07.012Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:17:12.013Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:17:12.013Z [debug] codegenAgent: Gemini error for tag=concepts, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:17:12.013Z [debug] [gen] OK: codegen completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=2 in 5002ms
2025-09-26T04:17:12.013Z [debug] compilerRouter: routing to js
2025-09-26T04:17:12.014Z [debug] [gen] OK: compiler completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=2 in 5003ms
2025-09-26T04:17:12.014Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T04:17:12.014Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:17:12.014Z [debug] [gen] OK: debugger completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=2 in 0ms
2025-09-26T04:17:12.015Z [debug] [gen] END: session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=2, emitted 'rendered' event
2025-09-26T04:17:12.016Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:17:12.016Z [debug] [orchestrator] Plan found for session 07a50e21-abf4-456b-84d0-3cb3834a11fd
2025-09-26T04:17:12.017Z [debug] [orchestrator] Enqueuing next step: session=07a50e21-abf4-456b-84d0-3cb3834a11fd stepId=3
2025-09-26T04:17:12.019Z [debug] [genWorker] Received job: gen id=6
2025-09-26T04:17:12.019Z [debug] [gen] START: session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=3 tag=examples
2025-09-26T04:17:12.020Z [debug] [codegen] START: stepId=3 tag=examples {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T04:17:12.021Z [debug] [codegen] Sending prompt to Gemini for tag=examples
2025-09-26T04:17:12.022Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:17:17.023Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:17:17.023Z [debug] codegenAgent: Gemini error for tag=examples, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:17:17.023Z [debug] [gen] OK: codegen completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=3 in 5003ms
2025-09-26T04:17:17.023Z [debug] compilerRouter: routing to js
2025-09-26T04:17:17.023Z [debug] [gen] OK: compiler completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=3 in 5003ms
2025-09-26T04:17:17.024Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T04:17:17.024Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:17:17.024Z [debug] [gen] OK: debugger completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=3 in 1ms
2025-09-26T04:17:17.025Z [debug] [gen] END: session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=3, emitted 'rendered' event
2025-09-26T04:17:17.025Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:17:17.026Z [debug] [orchestrator] Plan found for session 07a50e21-abf4-456b-84d0-3cb3834a11fd
2025-09-26T04:17:17.026Z [debug] [orchestrator] All steps completed for session 07a50e21-abf4-456b-84d0-3cb3834a11fd
2025-09-26T04:19:15.373Z [debug] Shutting down server...
2025-09-26T04:19:15.654Z [debug] Plan worker created
2025-09-26T04:19:15.655Z [debug] Gen worker created
2025-09-26T04:19:15.663Z [debug] Backend listening on http://localhost:3001
2025-09-26T04:19:29.722Z [debug] Shutting down server...
2025-09-26T04:19:30.043Z [debug] Plan worker created
2025-09-26T04:19:30.044Z [debug] Gen worker created
2025-09-26T04:19:30.052Z [debug] Backend listening on http://localhost:3001
2025-09-26T04:19:41.920Z [debug] Shutting down server...
2025-09-26T04:19:42.205Z [debug] Plan worker created
2025-09-26T04:19:42.206Z [debug] Gen worker created
2025-09-26T04:19:42.215Z [debug] Backend listening on http://localhost:3001
2025-09-26T04:19:51.346Z [debug] Shutting down server...
2025-09-26T04:19:51.346Z [debug] Shutting down server...
2025-09-26T04:19:58.480Z [debug] Plan worker created
2025-09-26T04:19:58.482Z [debug] Gen worker created
2025-09-26T04:19:58.490Z [debug] Backend listening on http://localhost:3001
2025-09-26T04:20:20.862Z [debug] Received request on /api/query {"body":{"query":"VERBOSE TEST - H2O molecular structure","sessionId":"verbose-test-session"}}
2025-09-26T04:20:20.862Z [debug] [orchestrator] Enqueuing plan for session verbose-test-session
2025-09-26T04:20:20.867Z [debug] [planWorker] Received job: plan id=3
2025-09-26T04:20:20.867Z [debug] [plan] START: session=verbose-test-session query=VERBOSE TEST - H2O molecular structure
2025-09-26T04:20:20.868Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T04:20:20.882Z [debug] [timeout] Setting 1000ms timeout for planner/gemini
2025-09-26T04:20:21.884Z [debug] [timeout] planner/gemini timed out after 1000ms
2025-09-26T04:20:21.885Z [debug] plannerAgent: Gemini error, using fallback. Error: planner/gemini timeout after 1000ms
2025-09-26T04:20:21.886Z [debug] [plan] OK: session=verbose-test-session plan received with 3 steps
2025-09-26T04:20:21.888Z [debug] [plan] Enqueuing first step: session=verbose-test-session stepId=1
2025-09-26T04:20:21.890Z [debug] [plan] END: session=verbose-test-session
2025-09-26T04:20:21.893Z [debug] [genWorker] Received job: gen id=7
2025-09-26T04:20:21.893Z [debug] [gen] START: session=verbose-test-session step=1 tag=intro
2025-09-26T04:20:21.895Z [debug] [codegen] START: stepId=1 tag=intro {"params":{},"query":"VERBOSE TEST - H2O molecular structure"}
2025-09-26T04:20:21.895Z [debug] [codegen] Sending prompt to Gemini for tag=intro
2025-09-26T04:20:21.896Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:20:26.898Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:20:26.898Z [debug] codegenAgent: Gemini error for tag=intro, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:20:26.899Z [debug] [gen] OK: codegen completed for session=verbose-test-session step=1 in 5005ms
2025-09-26T04:20:26.899Z [debug] compilerRouter: routing to js
2025-09-26T04:20:26.899Z [debug] [gen] OK: compiler completed for session=verbose-test-session step=1 in 5005ms
2025-09-26T04:20:26.899Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T04:20:26.899Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:20:26.899Z [debug] [gen] OK: debugger completed for session=verbose-test-session step=1 in 0ms
2025-09-26T04:20:26.903Z [debug] [gen] END: session=verbose-test-session step=1, emitted 'rendered' event
2025-09-26T04:20:26.904Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:20:26.905Z [debug] [orchestrator] Plan found for session verbose-test-session
2025-09-26T04:20:26.905Z [debug] [orchestrator] Enqueuing next step: session=verbose-test-session stepId=2
2025-09-26T04:20:26.906Z [debug] [genWorker] Received job: gen id=8
2025-09-26T04:20:26.906Z [debug] [gen] START: session=verbose-test-session step=2 tag=concepts
2025-09-26T04:20:26.906Z [debug] [codegen] START: stepId=2 tag=concepts {"params":{},"query":"VERBOSE TEST - H2O molecular structure"}
2025-09-26T04:20:26.907Z [debug] [codegen] Sending prompt to Gemini for tag=concepts
2025-09-26T04:20:26.907Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:20:31.908Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:20:31.908Z [debug] codegenAgent: Gemini error for tag=concepts, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:20:31.909Z [debug] [gen] OK: codegen completed for session=verbose-test-session step=2 in 5003ms
2025-09-26T04:20:31.909Z [debug] compilerRouter: routing to js
2025-09-26T04:20:31.909Z [debug] [gen] OK: compiler completed for session=verbose-test-session step=2 in 5003ms
2025-09-26T04:20:31.909Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T04:20:31.909Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:20:31.909Z [debug] [gen] OK: debugger completed for session=verbose-test-session step=2 in 0ms
2025-09-26T04:20:31.910Z [debug] [gen] END: session=verbose-test-session step=2, emitted 'rendered' event
2025-09-26T04:20:31.911Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:20:31.911Z [debug] [orchestrator] Plan found for session verbose-test-session
2025-09-26T04:20:31.911Z [debug] [orchestrator] Enqueuing next step: session=verbose-test-session stepId=3
2025-09-26T04:20:31.912Z [debug] [genWorker] Received job: gen id=9
2025-09-26T04:20:31.912Z [debug] [gen] START: session=verbose-test-session step=3 tag=examples
2025-09-26T04:20:31.913Z [debug] [codegen] START: stepId=3 tag=examples {"params":{},"query":"VERBOSE TEST - H2O molecular structure"}
2025-09-26T04:20:31.913Z [debug] [codegen] Sending prompt to Gemini for tag=examples
2025-09-26T04:20:31.913Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:20:36.915Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:20:36.916Z [debug] codegenAgent: Gemini error for tag=examples, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:20:36.916Z [debug] [gen] OK: codegen completed for session=verbose-test-session step=3 in 5003ms
2025-09-26T04:20:36.916Z [debug] compilerRouter: routing to js
2025-09-26T04:20:36.916Z [debug] [gen] OK: compiler completed for session=verbose-test-session step=3 in 5003ms
2025-09-26T04:20:36.916Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T04:20:36.916Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:20:36.916Z [debug] [gen] OK: debugger completed for session=verbose-test-session step=3 in 0ms
2025-09-26T04:20:36.917Z [debug] [gen] END: session=verbose-test-session step=3, emitted 'rendered' event
2025-09-26T04:20:36.918Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:20:36.918Z [debug] [orchestrator] Plan found for session verbose-test-session
2025-09-26T04:20:36.918Z [debug] [orchestrator] All steps completed for session verbose-test-session
2025-09-26T04:22:14.841Z [debug] Received request on /api/query {"body":{"query":"FINAL FIX TEST - molecular bonds","sessionId":"final-fix-test"}}
2025-09-26T04:22:14.841Z [debug] [orchestrator] Enqueuing plan for session final-fix-test
2025-09-26T04:22:14.845Z [debug] [planWorker] Received job: plan id=4
2025-09-26T04:22:14.845Z [debug] [plan] START: session=final-fix-test query=FINAL FIX TEST - molecular bonds
2025-09-26T04:22:14.846Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T04:22:14.846Z [debug] [timeout] Setting 1000ms timeout for planner/gemini
2025-09-26T04:22:15.849Z [debug] [timeout] planner/gemini timed out after 1000ms
2025-09-26T04:22:15.849Z [debug] plannerAgent: Gemini error, using fallback. Error: planner/gemini timeout after 1000ms
2025-09-26T04:22:15.850Z [debug] [plan] OK: session=final-fix-test plan received with 3 steps
2025-09-26T04:22:15.851Z [debug] [plan] Enqueuing first step: session=final-fix-test stepId=1
2025-09-26T04:22:15.852Z [debug] [plan] END: session=final-fix-test
2025-09-26T04:22:15.854Z [debug] [genWorker] Received job: gen id=10
2025-09-26T04:22:15.855Z [debug] [gen] START: session=final-fix-test step=1 tag=intro
2025-09-26T04:22:15.856Z [debug] [codegen] START: stepId=1 tag=intro {"params":{},"query":"FINAL FIX TEST - molecular bonds"}
2025-09-26T04:22:15.856Z [debug] [codegen] Sending prompt to Gemini for tag=intro
2025-09-26T04:22:15.857Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:22:20.859Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:22:20.859Z [debug] codegenAgent: Gemini error for tag=intro, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:22:20.860Z [debug] [gen] OK: codegen completed for session=final-fix-test step=1 in 5004ms
2025-09-26T04:22:20.860Z [debug] compilerRouter: routing to js
2025-09-26T04:22:20.860Z [debug] [gen] OK: compiler completed for session=final-fix-test step=1 in 5004ms
2025-09-26T04:22:20.860Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T04:22:20.860Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:22:20.860Z [debug] [gen] OK: debugger completed for session=final-fix-test step=1 in 0ms
2025-09-26T04:22:20.863Z [debug] [gen] END: session=final-fix-test step=1, emitted 'rendered' event
2025-09-26T04:22:20.863Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:22:20.864Z [debug] [orchestrator] Plan found for session final-fix-test
2025-09-26T04:22:20.864Z [debug] [orchestrator] Enqueuing next step: session=final-fix-test stepId=2
2025-09-26T04:22:20.867Z [debug] [genWorker] Received job: gen id=11
2025-09-26T04:22:20.867Z [debug] [gen] START: session=final-fix-test step=2 tag=concepts
2025-09-26T04:22:20.868Z [debug] [codegen] START: stepId=2 tag=concepts {"params":{},"query":"FINAL FIX TEST - molecular bonds"}
2025-09-26T04:22:20.868Z [debug] [codegen] Sending prompt to Gemini for tag=concepts
2025-09-26T04:22:20.868Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:22:25.868Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:22:25.868Z [debug] codegenAgent: Gemini error for tag=concepts, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:22:25.868Z [debug] [gen] OK: codegen completed for session=final-fix-test step=2 in 5000ms
2025-09-26T04:22:25.868Z [debug] compilerRouter: routing to js
2025-09-26T04:22:25.868Z [debug] [gen] OK: compiler completed for session=final-fix-test step=2 in 5000ms
2025-09-26T04:22:25.869Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T04:22:25.869Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:22:25.869Z [debug] [gen] OK: debugger completed for session=final-fix-test step=2 in 1ms
2025-09-26T04:22:25.870Z [debug] [gen] END: session=final-fix-test step=2, emitted 'rendered' event
2025-09-26T04:22:25.870Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:22:25.870Z [debug] [orchestrator] Plan found for session final-fix-test
2025-09-26T04:22:25.870Z [debug] [orchestrator] Enqueuing next step: session=final-fix-test stepId=3
2025-09-26T04:22:25.872Z [debug] [genWorker] Received job: gen id=12
2025-09-26T04:22:25.872Z [debug] [gen] START: session=final-fix-test step=3 tag=examples
2025-09-26T04:22:25.872Z [debug] [codegen] START: stepId=3 tag=examples {"params":{},"query":"FINAL FIX TEST - molecular bonds"}
2025-09-26T04:22:25.872Z [debug] [codegen] Sending prompt to Gemini for tag=examples
2025-09-26T04:22:25.872Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:22:30.874Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:22:30.874Z [debug] codegenAgent: Gemini error for tag=examples, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:22:30.875Z [debug] [gen] OK: codegen completed for session=final-fix-test step=3 in 5003ms
2025-09-26T04:22:30.875Z [debug] compilerRouter: routing to js
2025-09-26T04:22:30.875Z [debug] [gen] OK: compiler completed for session=final-fix-test step=3 in 5003ms
2025-09-26T04:22:30.875Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T04:22:30.875Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:22:30.875Z [debug] [gen] OK: debugger completed for session=final-fix-test step=3 in 0ms
2025-09-26T04:22:30.878Z [debug] [gen] END: session=final-fix-test step=3, emitted 'rendered' event
2025-09-26T04:22:30.879Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:22:30.879Z [debug] [orchestrator] Plan found for session final-fix-test
2025-09-26T04:22:30.879Z [debug] [orchestrator] All steps completed for session final-fix-test
2025-09-26T04:26:44.672Z [debug] Received request on /api/query {"body":{"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H","sessionId":"07a50e21-abf4-456b-84d0-3cb3834a11fd"}}
2025-09-26T04:26:44.673Z [debug] [orchestrator] Enqueuing plan for session 07a50e21-abf4-456b-84d0-3cb3834a11fd
2025-09-26T04:26:44.676Z [debug] [planWorker] Received job: plan id=5
2025-09-26T04:26:44.677Z [debug] [plan] START: session=07a50e21-abf4-456b-84d0-3cb3834a11fd query=tell me H20 structure and draw Grah between the intermolecular force between OH and H
2025-09-26T04:26:44.677Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T04:26:44.677Z [debug] [timeout] Setting 1000ms timeout for planner/gemini
2025-09-26T04:26:45.679Z [debug] [timeout] planner/gemini timed out after 1000ms
2025-09-26T04:26:45.679Z [debug] plannerAgent: Gemini error, using fallback. Error: planner/gemini timeout after 1000ms
2025-09-26T04:26:45.680Z [debug] [plan] OK: session=07a50e21-abf4-456b-84d0-3cb3834a11fd plan received with 3 steps
2025-09-26T04:26:45.681Z [debug] [plan] Enqueuing first step: session=07a50e21-abf4-456b-84d0-3cb3834a11fd stepId=1
2025-09-26T04:26:45.683Z [debug] [plan] END: session=07a50e21-abf4-456b-84d0-3cb3834a11fd
2025-09-26T04:26:45.683Z [debug] [genWorker] Received job: gen id=13
2025-09-26T04:26:45.683Z [debug] [gen] START: session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=1 tag=intro
2025-09-26T04:26:45.684Z [debug] [codegen] START: stepId=1 tag=intro {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T04:26:45.684Z [debug] [codegen] Sending prompt to Gemini for tag=intro
2025-09-26T04:26:45.684Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:26:50.684Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:26:50.685Z [debug] codegenAgent: Gemini error for tag=intro, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:26:50.687Z [debug] [gen] OK: codegen completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=1 in 5002ms
2025-09-26T04:26:50.687Z [debug] compilerRouter: routing to js
2025-09-26T04:26:50.687Z [debug] [gen] OK: compiler completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=1 in 5003ms
2025-09-26T04:26:50.687Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T04:26:50.687Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:26:50.687Z [debug] [gen] OK: debugger completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=1 in 0ms
2025-09-26T04:26:50.691Z [debug] [gen] END: session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=1, emitted 'rendered' event
2025-09-26T04:26:50.691Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:26:50.692Z [debug] [orchestrator] Plan found for session 07a50e21-abf4-456b-84d0-3cb3834a11fd
2025-09-26T04:26:50.693Z [debug] [orchestrator] Enqueuing next step: session=07a50e21-abf4-456b-84d0-3cb3834a11fd stepId=2
2025-09-26T04:26:50.696Z [debug] [genWorker] Received job: gen id=14
2025-09-26T04:26:50.696Z [debug] [gen] START: session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=2 tag=concepts
2025-09-26T04:26:50.697Z [debug] [codegen] START: stepId=2 tag=concepts {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T04:26:50.698Z [debug] [codegen] Sending prompt to Gemini for tag=concepts
2025-09-26T04:26:50.698Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:26:55.700Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:26:55.700Z [debug] codegenAgent: Gemini error for tag=concepts, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:26:55.701Z [debug] [gen] OK: codegen completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=2 in 5004ms
2025-09-26T04:26:55.701Z [debug] compilerRouter: routing to js
2025-09-26T04:26:55.701Z [debug] [gen] OK: compiler completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=2 in 5004ms
2025-09-26T04:26:55.701Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T04:26:55.701Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:26:55.701Z [debug] [gen] OK: debugger completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=2 in 0ms
2025-09-26T04:26:55.704Z [debug] [gen] END: session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=2, emitted 'rendered' event
2025-09-26T04:26:55.704Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:26:55.705Z [debug] [orchestrator] Plan found for session 07a50e21-abf4-456b-84d0-3cb3834a11fd
2025-09-26T04:26:55.705Z [debug] [orchestrator] Enqueuing next step: session=07a50e21-abf4-456b-84d0-3cb3834a11fd stepId=3
2025-09-26T04:26:55.708Z [debug] [genWorker] Received job: gen id=15
2025-09-26T04:26:55.708Z [debug] [gen] START: session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=3 tag=examples
2025-09-26T04:26:55.708Z [debug] [codegen] START: stepId=3 tag=examples {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T04:26:55.709Z [debug] [codegen] Sending prompt to Gemini for tag=examples
2025-09-26T04:26:55.709Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:27:00.708Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:27:00.708Z [debug] codegenAgent: Gemini error for tag=examples, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:27:00.709Z [debug] [gen] OK: codegen completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=3 in 5001ms
2025-09-26T04:27:00.709Z [debug] compilerRouter: routing to js
2025-09-26T04:27:00.709Z [debug] [gen] OK: compiler completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=3 in 5001ms
2025-09-26T04:27:00.709Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T04:27:00.709Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:27:00.710Z [debug] [gen] OK: debugger completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=3 in 1ms
2025-09-26T04:27:00.712Z [debug] [gen] END: session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=3, emitted 'rendered' event
2025-09-26T04:27:00.713Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:27:00.713Z [debug] [orchestrator] Plan found for session 07a50e21-abf4-456b-84d0-3cb3834a11fd
2025-09-26T04:27:00.713Z [debug] [orchestrator] All steps completed for session 07a50e21-abf4-456b-84d0-3cb3834a11fd
2025-09-26T04:27:36.922Z [debug] Received request on /api/query {"body":{"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H","sessionId":"07a50e21-abf4-456b-84d0-3cb3834a11fd"}}
2025-09-26T04:27:36.922Z [debug] [orchestrator] Enqueuing plan for session 07a50e21-abf4-456b-84d0-3cb3834a11fd
2025-09-26T04:27:36.925Z [debug] [planWorker] Received job: plan id=6
2025-09-26T04:27:36.926Z [debug] [plan] START: session=07a50e21-abf4-456b-84d0-3cb3834a11fd query=tell me H20 structure and draw Grah between the intermolecular force between OH and H
2025-09-26T04:27:36.926Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T04:27:36.927Z [debug] [timeout] Setting 1000ms timeout for planner/gemini
2025-09-26T04:27:37.928Z [debug] [timeout] planner/gemini timed out after 1000ms
2025-09-26T04:27:37.929Z [debug] plannerAgent: Gemini error, using fallback. Error: planner/gemini timeout after 1000ms
2025-09-26T04:27:37.930Z [debug] [plan] OK: session=07a50e21-abf4-456b-84d0-3cb3834a11fd plan received with 3 steps
2025-09-26T04:27:37.931Z [debug] [plan] Enqueuing first step: session=07a50e21-abf4-456b-84d0-3cb3834a11fd stepId=1
2025-09-26T04:27:37.933Z [debug] [plan] END: session=07a50e21-abf4-456b-84d0-3cb3834a11fd
2025-09-26T04:27:37.934Z [debug] [genWorker] Received job: gen id=16
2025-09-26T04:27:37.934Z [debug] [gen] START: session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=1 tag=intro
2025-09-26T04:27:37.935Z [debug] [codegen] START: stepId=1 tag=intro {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T04:27:37.936Z [debug] [codegen] Sending prompt to Gemini for tag=intro
2025-09-26T04:27:37.936Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:27:38.309Z [debug] Server shut down.
2025-09-26T04:27:42.937Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:27:42.937Z [debug] codegenAgent: Gemini error for tag=intro, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:27:42.938Z [debug] [gen] OK: codegen completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=1 in 5004ms
2025-09-26T04:27:42.938Z [debug] compilerRouter: routing to js
2025-09-26T04:27:42.938Z [debug] [gen] OK: compiler completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=1 in 5004ms
2025-09-26T04:27:42.938Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T04:27:42.938Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:27:42.938Z [debug] [gen] OK: debugger completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=1 in 0ms
2025-09-26T04:27:42.940Z [debug] [gen] END: session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=1, emitted 'rendered' event
2025-09-26T04:27:42.940Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:27:42.941Z [debug] [orchestrator] Plan found for session 07a50e21-abf4-456b-84d0-3cb3834a11fd
2025-09-26T04:27:42.941Z [debug] [orchestrator] Enqueuing next step: session=07a50e21-abf4-456b-84d0-3cb3834a11fd stepId=2
2025-09-26T04:27:42.944Z [debug] [genWorker] Received job: gen id=17
2025-09-26T04:27:42.944Z [debug] [gen] START: session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=2 tag=concepts
2025-09-26T04:27:42.945Z [debug] [codegen] START: stepId=2 tag=concepts {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T04:27:42.945Z [debug] [codegen] Sending prompt to Gemini for tag=concepts
2025-09-26T04:27:42.946Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:27:47.946Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:27:47.946Z [debug] codegenAgent: Gemini error for tag=concepts, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:27:47.947Z [debug] [gen] OK: codegen completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=2 in 5002ms
2025-09-26T04:27:47.947Z [debug] compilerRouter: routing to js
2025-09-26T04:27:47.947Z [debug] [gen] OK: compiler completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=2 in 5002ms
2025-09-26T04:27:47.947Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T04:27:47.947Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:27:47.947Z [debug] [gen] OK: debugger completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=2 in 0ms
2025-09-26T04:27:47.951Z [debug] [gen] END: session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=2, emitted 'rendered' event
2025-09-26T04:27:47.952Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:27:47.952Z [debug] [orchestrator] Plan found for session 07a50e21-abf4-456b-84d0-3cb3834a11fd
2025-09-26T04:27:47.953Z [debug] [orchestrator] Enqueuing next step: session=07a50e21-abf4-456b-84d0-3cb3834a11fd stepId=3
2025-09-26T04:27:47.956Z [debug] [genWorker] Received job: gen id=18
2025-09-26T04:27:47.956Z [debug] [gen] START: session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=3 tag=examples
2025-09-26T04:27:47.957Z [debug] [codegen] START: stepId=3 tag=examples {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T04:27:47.957Z [debug] [codegen] Sending prompt to Gemini for tag=examples
2025-09-26T04:27:47.957Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:27:52.958Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:27:52.959Z [debug] codegenAgent: Gemini error for tag=examples, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:27:52.960Z [debug] [gen] OK: codegen completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=3 in 5003ms
2025-09-26T04:27:52.960Z [debug] compilerRouter: routing to js
2025-09-26T04:27:52.960Z [debug] [gen] OK: compiler completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=3 in 5003ms
2025-09-26T04:27:52.960Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T04:27:52.960Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:27:52.960Z [debug] [gen] OK: debugger completed for session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=3 in 0ms
2025-09-26T04:27:52.962Z [debug] [gen] END: session=07a50e21-abf4-456b-84d0-3cb3834a11fd step=3, emitted 'rendered' event
2025-09-26T04:27:52.963Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:27:52.963Z [debug] [orchestrator] Plan found for session 07a50e21-abf4-456b-84d0-3cb3834a11fd
2025-09-26T04:27:52.963Z [debug] [orchestrator] All steps completed for session 07a50e21-abf4-456b-84d0-3cb3834a11fd
2025-09-26T04:37:19.236Z [debug] Shutting down server...
2025-09-26T04:37:19.533Z [debug] Plan worker created
2025-09-26T04:37:19.538Z [debug] Gen worker created
2025-09-26T04:37:19.550Z [debug] Backend listening on http://localhost:3001
2025-09-26T04:46:00.549Z [debug] Received request on /api/query {"body":{"query":"Brutal E2E test - explain photosynthesis basics","sessionId":"e2e-brutal-verify-1758861960"}}
2025-09-26T04:46:00.549Z [debug] [orchestrator] Enqueuing plan for session e2e-brutal-verify-1758861960
2025-09-26T04:46:00.556Z [debug] [planWorker] Received job: plan id=7
2025-09-26T04:46:00.556Z [debug] [plan] START: session=e2e-brutal-verify-1758861960 query=Brutal E2E test - explain photosynthesis basics
2025-09-26T04:46:00.557Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T04:46:00.575Z [debug] [timeout] Setting 1000ms timeout for planner/gemini
2025-09-26T04:46:01.576Z [debug] [timeout] planner/gemini timed out after 1000ms
2025-09-26T04:46:01.577Z [debug] plannerAgent: Gemini error, using fallback. Error: planner/gemini timeout after 1000ms
2025-09-26T04:46:01.578Z [debug] [plan] OK: session=e2e-brutal-verify-1758861960 plan received with 3 steps
2025-09-26T04:46:01.580Z [debug] [plan] Enqueuing first step: session=e2e-brutal-verify-1758861960 stepId=1
2025-09-26T04:46:01.581Z [debug] [plan] END: session=e2e-brutal-verify-1758861960
2025-09-26T04:46:01.584Z [debug] [genWorker] Received job: gen id=19
2025-09-26T04:46:01.585Z [debug] [gen] START: session=e2e-brutal-verify-1758861960 step=1 tag=intro
2025-09-26T04:46:01.586Z [debug] [codegen] START: stepId=1 tag=intro {"params":{},"query":"Brutal E2E test - explain photosynthesis basics"}
2025-09-26T04:46:01.587Z [debug] [codegen] Sending prompt to Gemini for tag=intro
2025-09-26T04:46:01.587Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:46:06.589Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:46:06.590Z [debug] codegenAgent: Gemini error for tag=intro, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:46:06.590Z [debug] [gen] OK: codegen completed for session=e2e-brutal-verify-1758861960 step=1 in 5004ms
2025-09-26T04:46:06.591Z [debug] compilerRouter: routing to js
2025-09-26T04:46:06.591Z [debug] [gen] OK: compiler completed for session=e2e-brutal-verify-1758861960 step=1 in 5005ms
2025-09-26T04:46:06.591Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T04:46:06.591Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:46:06.591Z [debug] [gen] OK: debugger completed for session=e2e-brutal-verify-1758861960 step=1 in 0ms
2025-09-26T04:46:06.595Z [debug] [gen] END: session=e2e-brutal-verify-1758861960 step=1, emitted 'rendered' event
2025-09-26T04:46:06.595Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:46:06.596Z [debug] [orchestrator] Plan found for session e2e-brutal-verify-1758861960
2025-09-26T04:46:06.596Z [debug] [orchestrator] Enqueuing next step: session=e2e-brutal-verify-1758861960 stepId=2
2025-09-26T04:46:06.598Z [debug] [genWorker] Received job: gen id=20
2025-09-26T04:46:06.598Z [debug] [gen] START: session=e2e-brutal-verify-1758861960 step=2 tag=concepts
2025-09-26T04:46:06.598Z [debug] [codegen] START: stepId=2 tag=concepts {"params":{},"query":"Brutal E2E test - explain photosynthesis basics"}
2025-09-26T04:46:06.598Z [debug] [codegen] Sending prompt to Gemini for tag=concepts
2025-09-26T04:46:06.598Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:46:11.600Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:46:11.600Z [debug] codegenAgent: Gemini error for tag=concepts, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:46:11.601Z [debug] [gen] OK: codegen completed for session=e2e-brutal-verify-1758861960 step=2 in 5003ms
2025-09-26T04:46:11.601Z [debug] compilerRouter: routing to js
2025-09-26T04:46:11.601Z [debug] [gen] OK: compiler completed for session=e2e-brutal-verify-1758861960 step=2 in 5003ms
2025-09-26T04:46:11.601Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T04:46:11.601Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:46:11.601Z [debug] [gen] OK: debugger completed for session=e2e-brutal-verify-1758861960 step=2 in 0ms
2025-09-26T04:46:11.605Z [debug] [gen] END: session=e2e-brutal-verify-1758861960 step=2, emitted 'rendered' event
2025-09-26T04:46:11.606Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:46:11.607Z [debug] [orchestrator] Plan found for session e2e-brutal-verify-1758861960
2025-09-26T04:46:11.607Z [debug] [orchestrator] Enqueuing next step: session=e2e-brutal-verify-1758861960 stepId=3
2025-09-26T04:46:11.610Z [debug] [genWorker] Received job: gen id=21
2025-09-26T04:46:11.610Z [debug] [gen] START: session=e2e-brutal-verify-1758861960 step=3 tag=examples
2025-09-26T04:46:11.611Z [debug] [codegen] START: stepId=3 tag=examples {"params":{},"query":"Brutal E2E test - explain photosynthesis basics"}
2025-09-26T04:46:11.611Z [debug] [codegen] Sending prompt to Gemini for tag=examples
2025-09-26T04:46:11.611Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:46:16.613Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:46:16.613Z [debug] codegenAgent: Gemini error for tag=examples, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:46:16.614Z [debug] [gen] OK: codegen completed for session=e2e-brutal-verify-1758861960 step=3 in 5003ms
2025-09-26T04:46:16.614Z [debug] compilerRouter: routing to js
2025-09-26T04:46:16.614Z [debug] [gen] OK: compiler completed for session=e2e-brutal-verify-1758861960 step=3 in 5003ms
2025-09-26T04:46:16.614Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T04:46:16.614Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:46:16.615Z [debug] [gen] OK: debugger completed for session=e2e-brutal-verify-1758861960 step=3 in 1ms
2025-09-26T04:46:16.618Z [debug] [gen] END: session=e2e-brutal-verify-1758861960 step=3, emitted 'rendered' event
2025-09-26T04:46:16.619Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:46:16.619Z [debug] [orchestrator] Plan found for session e2e-brutal-verify-1758861960
2025-09-26T04:46:16.619Z [debug] [orchestrator] All steps completed for session e2e-brutal-verify-1758861960
2025-09-26T04:47:43.292Z [debug] Received request on /api/query {"body":{"query":"Show me how integration works with visual examples"}}
2025-09-26T04:47:43.293Z [debug] [orchestrator] Enqueuing plan for session c2313f7c-629b-49cd-b2d7-d1b929a3687c
2025-09-26T04:47:43.296Z [debug] [planWorker] Received job: plan id=8
2025-09-26T04:47:43.296Z [debug] [plan] START: session=c2313f7c-629b-49cd-b2d7-d1b929a3687c query=Show me how integration works with visual examples
2025-09-26T04:47:43.297Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T04:47:43.297Z [debug] [timeout] Setting 1000ms timeout for planner/gemini
2025-09-26T04:47:43.325Z [debug] socket joined session c2313f7c-629b-49cd-b2d7-d1b929a3687c
2025-09-26T04:47:44.299Z [debug] [timeout] planner/gemini timed out after 1000ms
2025-09-26T04:47:44.299Z [debug] plannerAgent: Gemini error, using fallback. Error: planner/gemini timeout after 1000ms
2025-09-26T04:47:44.300Z [debug] [plan] OK: session=c2313f7c-629b-49cd-b2d7-d1b929a3687c plan received with 3 steps
2025-09-26T04:47:44.301Z [debug] [plan] Enqueuing first step: session=c2313f7c-629b-49cd-b2d7-d1b929a3687c stepId=1
2025-09-26T04:47:44.303Z [debug] [plan] END: session=c2313f7c-629b-49cd-b2d7-d1b929a3687c
2025-09-26T04:47:44.304Z [debug] [genWorker] Received job: gen id=22
2025-09-26T04:47:44.304Z [debug] [gen] START: session=c2313f7c-629b-49cd-b2d7-d1b929a3687c step=1 tag=intro
2025-09-26T04:47:44.305Z [debug] [codegen] START: stepId=1 tag=intro {"params":{},"query":"Show me how integration works with visual examples"}
2025-09-26T04:47:44.306Z [debug] [codegen] Sending prompt to Gemini for tag=intro
2025-09-26T04:47:44.306Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:47:46.325Z [debug] [api] Received request on /api/session/c2313f7c-629b-49cd-b2d7-d1b929a3687c/next
2025-09-26T04:47:46.327Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:47:46.328Z [debug] [orchestrator] Plan found for session c2313f7c-629b-49cd-b2d7-d1b929a3687c
2025-09-26T04:47:46.328Z [debug] [orchestrator] Enqueuing next step: session=c2313f7c-629b-49cd-b2d7-d1b929a3687c stepId=2
2025-09-26T04:47:48.334Z [debug] [api] Received request on /api/session/c2313f7c-629b-49cd-b2d7-d1b929a3687c/next
2025-09-26T04:47:48.335Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:47:48.335Z [debug] [orchestrator] Plan found for session c2313f7c-629b-49cd-b2d7-d1b929a3687c
2025-09-26T04:47:48.336Z [debug] [orchestrator] Enqueuing next step: session=c2313f7c-629b-49cd-b2d7-d1b929a3687c stepId=3
2025-09-26T04:47:49.308Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:47:49.308Z [debug] codegenAgent: Gemini error for tag=intro, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:47:49.309Z [debug] [gen] OK: codegen completed for session=c2313f7c-629b-49cd-b2d7-d1b929a3687c step=1 in 5004ms
2025-09-26T04:47:49.309Z [debug] compilerRouter: routing to js
2025-09-26T04:47:49.309Z [debug] [gen] OK: compiler completed for session=c2313f7c-629b-49cd-b2d7-d1b929a3687c step=1 in 5004ms
2025-09-26T04:47:49.309Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T04:47:49.309Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:47:49.309Z [debug] [gen] OK: debugger completed for session=c2313f7c-629b-49cd-b2d7-d1b929a3687c step=1 in 0ms
2025-09-26T04:47:49.311Z [debug] [gen] END: session=c2313f7c-629b-49cd-b2d7-d1b929a3687c step=1, emitted 'rendered' event
2025-09-26T04:47:49.311Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:47:49.312Z [debug] [orchestrator] Plan found for session c2313f7c-629b-49cd-b2d7-d1b929a3687c
2025-09-26T04:47:49.312Z [debug] [orchestrator] All steps completed for session c2313f7c-629b-49cd-b2d7-d1b929a3687c
2025-09-26T04:47:49.313Z [debug] [genWorker] Received job: gen id=23
2025-09-26T04:47:49.313Z [debug] [gen] START: session=c2313f7c-629b-49cd-b2d7-d1b929a3687c step=2 tag=concepts
2025-09-26T04:47:49.314Z [debug] [codegen] START: stepId=2 tag=concepts {"params":{},"query":"Show me how integration works with visual examples"}
2025-09-26T04:47:49.315Z [debug] [codegen] Sending prompt to Gemini for tag=concepts
2025-09-26T04:47:49.315Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:47:50.340Z [debug] [api] Received request on /api/session/c2313f7c-629b-49cd-b2d7-d1b929a3687c/next
2025-09-26T04:47:50.341Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:47:50.342Z [debug] [orchestrator] Plan found for session c2313f7c-629b-49cd-b2d7-d1b929a3687c
2025-09-26T04:47:50.342Z [debug] [orchestrator] All steps completed for session c2313f7c-629b-49cd-b2d7-d1b929a3687c
2025-09-26T04:47:54.317Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:47:54.317Z [debug] codegenAgent: Gemini error for tag=concepts, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:47:54.318Z [debug] [gen] OK: codegen completed for session=c2313f7c-629b-49cd-b2d7-d1b929a3687c step=2 in 5004ms
2025-09-26T04:47:54.318Z [debug] compilerRouter: routing to js
2025-09-26T04:47:54.318Z [debug] [gen] OK: compiler completed for session=c2313f7c-629b-49cd-b2d7-d1b929a3687c step=2 in 5004ms
2025-09-26T04:47:54.318Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T04:47:54.318Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:47:54.318Z [debug] [gen] OK: debugger completed for session=c2313f7c-629b-49cd-b2d7-d1b929a3687c step=2 in 0ms
2025-09-26T04:47:54.321Z [debug] [gen] END: session=c2313f7c-629b-49cd-b2d7-d1b929a3687c step=2, emitted 'rendered' event
2025-09-26T04:47:54.321Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:47:54.322Z [debug] [orchestrator] Plan found for session c2313f7c-629b-49cd-b2d7-d1b929a3687c
2025-09-26T04:47:54.322Z [debug] [orchestrator] All steps completed for session c2313f7c-629b-49cd-b2d7-d1b929a3687c
2025-09-26T04:47:54.324Z [debug] [genWorker] Received job: gen id=24
2025-09-26T04:47:54.324Z [debug] [gen] START: session=c2313f7c-629b-49cd-b2d7-d1b929a3687c step=3 tag=examples
2025-09-26T04:47:54.325Z [debug] [codegen] START: stepId=3 tag=examples {"params":{},"query":"Show me how integration works with visual examples"}
2025-09-26T04:47:54.325Z [debug] [codegen] Sending prompt to Gemini for tag=examples
2025-09-26T04:47:54.325Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:47:59.325Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:47:59.325Z [debug] codegenAgent: Gemini error for tag=examples, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:47:59.326Z [debug] [gen] OK: codegen completed for session=c2313f7c-629b-49cd-b2d7-d1b929a3687c step=3 in 5002ms
2025-09-26T04:47:59.326Z [debug] compilerRouter: routing to js
2025-09-26T04:47:59.326Z [debug] [gen] OK: compiler completed for session=c2313f7c-629b-49cd-b2d7-d1b929a3687c step=3 in 5002ms
2025-09-26T04:47:59.326Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T04:47:59.326Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:47:59.326Z [debug] [gen] OK: debugger completed for session=c2313f7c-629b-49cd-b2d7-d1b929a3687c step=3 in 0ms
2025-09-26T04:47:59.330Z [debug] [gen] END: session=c2313f7c-629b-49cd-b2d7-d1b929a3687c step=3, emitted 'rendered' event
2025-09-26T04:47:59.331Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:47:59.332Z [debug] [orchestrator] Plan found for session c2313f7c-629b-49cd-b2d7-d1b929a3687c
2025-09-26T04:47:59.332Z [debug] [orchestrator] All steps completed for session c2313f7c-629b-49cd-b2d7-d1b929a3687c
2025-09-26T04:51:24.331Z [debug] socket joined session 8457a647-5b09-4741-a049-acf8421d4a8f
2025-09-26T04:51:24.338Z [debug] Received request on /api/query {"body":{"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H","sessionId":"8457a647-5b09-4741-a049-acf8421d4a8f"}}
2025-09-26T04:51:24.339Z [debug] [orchestrator] Enqueuing plan for session 8457a647-5b09-4741-a049-acf8421d4a8f
2025-09-26T04:51:24.342Z [debug] [planWorker] Received job: plan id=9
2025-09-26T04:51:24.343Z [debug] [plan] START: session=8457a647-5b09-4741-a049-acf8421d4a8f query=tell me H20 structure and draw Grah between the intermolecular force between OH and H
2025-09-26T04:51:24.343Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T04:51:24.343Z [debug] [timeout] Setting 1000ms timeout for planner/gemini
2025-09-26T04:51:25.345Z [debug] [timeout] planner/gemini timed out after 1000ms
2025-09-26T04:51:25.345Z [debug] plannerAgent: Gemini error, using fallback. Error: planner/gemini timeout after 1000ms
2025-09-26T04:51:25.346Z [debug] [plan] OK: session=8457a647-5b09-4741-a049-acf8421d4a8f plan received with 3 steps
2025-09-26T04:51:25.347Z [debug] [plan] Enqueuing first step: session=8457a647-5b09-4741-a049-acf8421d4a8f stepId=1
2025-09-26T04:51:25.349Z [debug] [plan] END: session=8457a647-5b09-4741-a049-acf8421d4a8f
2025-09-26T04:51:25.350Z [debug] [genWorker] Received job: gen id=25
2025-09-26T04:51:25.350Z [debug] [gen] START: session=8457a647-5b09-4741-a049-acf8421d4a8f step=1 tag=intro
2025-09-26T04:51:25.351Z [debug] [codegen] START: stepId=1 tag=intro {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T04:51:25.351Z [debug] [codegen] Sending prompt to Gemini for tag=intro
2025-09-26T04:51:25.352Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:51:30.353Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:51:30.353Z [debug] codegenAgent: Gemini error for tag=intro, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:51:30.354Z [debug] [gen] OK: codegen completed for session=8457a647-5b09-4741-a049-acf8421d4a8f step=1 in 5003ms
2025-09-26T04:51:30.354Z [debug] compilerRouter: routing to js
2025-09-26T04:51:30.354Z [debug] [gen] OK: compiler completed for session=8457a647-5b09-4741-a049-acf8421d4a8f step=1 in 5003ms
2025-09-26T04:51:30.354Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T04:51:30.354Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:51:30.354Z [debug] [gen] OK: debugger completed for session=8457a647-5b09-4741-a049-acf8421d4a8f step=1 in 0ms
2025-09-26T04:51:30.356Z [debug] [gen] END: session=8457a647-5b09-4741-a049-acf8421d4a8f step=1, emitted 'rendered' event
2025-09-26T04:51:30.357Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:51:30.357Z [debug] [orchestrator] Plan found for session 8457a647-5b09-4741-a049-acf8421d4a8f
2025-09-26T04:51:30.358Z [debug] [orchestrator] Enqueuing next step: session=8457a647-5b09-4741-a049-acf8421d4a8f stepId=2
2025-09-26T04:51:30.361Z [debug] [genWorker] Received job: gen id=26
2025-09-26T04:51:30.361Z [debug] [gen] START: session=8457a647-5b09-4741-a049-acf8421d4a8f step=2 tag=concepts
2025-09-26T04:51:30.362Z [debug] [codegen] START: stepId=2 tag=concepts {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T04:51:30.362Z [debug] [codegen] Sending prompt to Gemini for tag=concepts
2025-09-26T04:51:30.363Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:51:35.363Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:51:35.363Z [debug] codegenAgent: Gemini error for tag=concepts, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:51:35.363Z [debug] [gen] OK: codegen completed for session=8457a647-5b09-4741-a049-acf8421d4a8f step=2 in 5001ms
2025-09-26T04:51:35.363Z [debug] compilerRouter: routing to js
2025-09-26T04:51:35.363Z [debug] [gen] OK: compiler completed for session=8457a647-5b09-4741-a049-acf8421d4a8f step=2 in 5001ms
2025-09-26T04:51:35.364Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T04:51:35.364Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:51:35.364Z [debug] [gen] OK: debugger completed for session=8457a647-5b09-4741-a049-acf8421d4a8f step=2 in 1ms
2025-09-26T04:51:35.366Z [debug] [gen] END: session=8457a647-5b09-4741-a049-acf8421d4a8f step=2, emitted 'rendered' event
2025-09-26T04:51:35.367Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:51:35.367Z [debug] [orchestrator] Plan found for session 8457a647-5b09-4741-a049-acf8421d4a8f
2025-09-26T04:51:35.368Z [debug] [orchestrator] Enqueuing next step: session=8457a647-5b09-4741-a049-acf8421d4a8f stepId=3
2025-09-26T04:51:35.370Z [debug] [genWorker] Received job: gen id=27
2025-09-26T04:51:35.370Z [debug] [gen] START: session=8457a647-5b09-4741-a049-acf8421d4a8f step=3 tag=examples
2025-09-26T04:51:35.371Z [debug] [codegen] START: stepId=3 tag=examples {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T04:51:35.371Z [debug] [codegen] Sending prompt to Gemini for tag=examples
2025-09-26T04:51:35.371Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T04:51:40.371Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T04:51:40.372Z [debug] codegenAgent: Gemini error for tag=examples, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T04:51:40.373Z [debug] [gen] OK: codegen completed for session=8457a647-5b09-4741-a049-acf8421d4a8f step=3 in 5002ms
2025-09-26T04:51:40.373Z [debug] compilerRouter: routing to js
2025-09-26T04:51:40.373Z [debug] [gen] OK: compiler completed for session=8457a647-5b09-4741-a049-acf8421d4a8f step=3 in 5002ms
2025-09-26T04:51:40.373Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T04:51:40.373Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T04:51:40.373Z [debug] [gen] OK: debugger completed for session=8457a647-5b09-4741-a049-acf8421d4a8f step=3 in 0ms
2025-09-26T04:51:40.376Z [debug] [gen] END: session=8457a647-5b09-4741-a049-acf8421d4a8f step=3, emitted 'rendered' event
2025-09-26T04:51:40.377Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T04:51:40.378Z [debug] [orchestrator] Plan found for session 8457a647-5b09-4741-a049-acf8421d4a8f
2025-09-26T04:51:40.378Z [debug] [orchestrator] All steps completed for session 8457a647-5b09-4741-a049-acf8421d4a8f
2025-09-26T04:54:52.937Z [debug] Shutting down server...
2025-09-26T05:30:49.842Z [debug] Shutting down server...
2025-09-26T05:30:49.843Z [debug] Shutting down server...
2025-09-26T05:31:09.039Z [debug] Plan worker created
2025-09-26T05:31:09.040Z [debug] Gen worker created
2025-09-26T05:31:09.048Z [debug] Backend listening on http://localhost:3001
2025-09-26T05:31:12.568Z [debug] socket joined session 2326d816-b4a2-4e5d-a09d-9ffdf6700051
2025-09-26T05:31:57.392Z [debug] Received request on /api/query {"body":{"query":"Explain quantum mechanics fundamentals - wave-particle duality and uncertainty principle","sessionId":"quantum-test-2025"}}
2025-09-26T05:31:57.392Z [debug] [orchestrator] Enqueuing plan for session quantum-test-2025
2025-09-26T05:31:57.397Z [debug] [planWorker] Received job: plan id=10
2025-09-26T05:31:57.398Z [debug] [plan] START: session=quantum-test-2025 query=Explain quantum mechanics fundamentals - wave-particle duality and uncertainty principle
2025-09-26T05:31:57.399Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T05:31:57.413Z [debug] [timeout] Setting 20000ms timeout for planner/gemini
2025-09-26T05:32:12.154Z [debug] [planner] Received response from Gemini in 14755ms
2025-09-26T05:32:12.155Z [debug] [plan] OK: session=quantum-test-2025 plan received with 5 steps
2025-09-26T05:32:12.157Z [debug] [plan] Enqueuing first step emit: session=quantum-test-2025 stepId=1
2025-09-26T05:32:12.159Z [debug] [plan] END: session=quantum-test-2025
2025-09-26T05:32:12.160Z [debug] [genWorker] Received job: gen id=28
2025-09-26T05:32:12.160Z [debug] [gen] START: session=quantum-test-2025 step=1 tag=part_1
2025-09-26T05:32:12.163Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"Explain quantum mechanics fundamentals - wave-particle duality and uncertainty principle"}
2025-09-26T05:32:12.164Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T05:32:31.130Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 4424
2025-09-26T05:32:31.131Z [debug] [gen] OK: codegen completed for session=quantum-test-2025 step=1 in 18968ms
2025-09-26T05:32:31.131Z [debug] compilerRouter: routing to js
2025-09-26T05:32:31.132Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T05:32:31.132Z [debug] [debugger] END: Chunk sanitized and returned.
2025-09-26T05:32:31.135Z [debug] [gen] END: session=quantum-test-2025 step=1, emitted chunk
2025-09-26T05:32:31.138Z [debug] [genWorker] Received job: gen id=29
2025-09-26T05:32:31.138Z [debug] [gen] START: session=quantum-test-2025 step=2 tag=part_2
2025-09-26T05:32:31.141Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Explain quantum mechanics fundamentals - wave-particle duality and uncertainty principle"}
2025-09-26T05:32:31.142Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T05:32:31.142Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T05:32:36.144Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T05:32:36.144Z [debug] codegenAgent: Gemini error for tag=part_2, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T05:32:36.145Z [debug] [gen] OK: codegen completed for session=quantum-test-2025 step=2 in 5004ms
2025-09-26T05:32:36.145Z [debug] compilerRouter: routing to js
2025-09-26T05:32:36.145Z [debug] [gen] OK: compiler completed for session=quantum-test-2025 step=2 in 5004ms
2025-09-26T05:32:36.145Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T05:32:36.145Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T05:32:36.145Z [debug] [gen] OK: debugger completed for session=quantum-test-2025 step=2 in 0ms
2025-09-26T05:32:36.147Z [debug] [gen] END: session=quantum-test-2025 step=2, emitted 'rendered' event
2025-09-26T05:32:36.148Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T05:32:36.149Z [debug] [orchestrator] Plan found for session quantum-test-2025
2025-09-26T05:32:36.150Z [debug] [orchestrator] Enqueuing next step: session=quantum-test-2025 stepId=3
2025-09-26T05:32:36.152Z [debug] [genWorker] Received job: gen id=31
2025-09-26T05:32:36.152Z [debug] [gen] START: session=quantum-test-2025 step=3 tag=part_3
2025-09-26T05:32:36.153Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"Explain quantum mechanics fundamentals - wave-particle duality and uncertainty principle"}
2025-09-26T05:32:36.153Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T05:32:36.154Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T05:32:41.155Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T05:32:41.156Z [debug] codegenAgent: Gemini error for tag=part_3, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T05:32:41.157Z [debug] [gen] OK: codegen completed for session=quantum-test-2025 step=3 in 5004ms
2025-09-26T05:32:41.157Z [debug] compilerRouter: routing to js
2025-09-26T05:32:41.157Z [debug] [gen] OK: compiler completed for session=quantum-test-2025 step=3 in 5004ms
2025-09-26T05:32:41.157Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T05:32:41.158Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T05:32:41.158Z [debug] [gen] OK: debugger completed for session=quantum-test-2025 step=3 in 1ms
2025-09-26T05:32:41.162Z [debug] [gen] END: session=quantum-test-2025 step=3, emitted 'rendered' event
2025-09-26T05:32:41.163Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T05:32:41.164Z [debug] [orchestrator] Plan found for session quantum-test-2025
2025-09-26T05:32:41.165Z [debug] [orchestrator] Enqueuing next step: session=quantum-test-2025 stepId=4
2025-09-26T05:32:41.171Z [debug] [genWorker] Received job: gen id=32
2025-09-26T05:32:41.171Z [debug] [gen] START: session=quantum-test-2025 step=4 tag=part_4
2025-09-26T05:32:41.172Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"Explain quantum mechanics fundamentals - wave-particle duality and uncertainty principle"}
2025-09-26T05:32:41.173Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T05:32:53.119Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 2943
2025-09-26T05:32:53.119Z [debug] [gen] OK: codegen completed for session=quantum-test-2025 step=4 in 11947ms
2025-09-26T05:32:53.119Z [debug] compilerRouter: routing to js
2025-09-26T05:32:53.119Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T05:32:53.120Z [debug] [debugger] END: Chunk sanitized and returned.
2025-09-26T05:32:53.120Z [debug] [gen] END: session=quantum-test-2025 step=4, emitted chunk
2025-09-26T05:32:53.123Z [debug] [genWorker] Received job: gen id=33
2025-09-26T05:32:53.123Z [debug] [gen] START: session=quantum-test-2025 step=5 tag=part_5
2025-09-26T05:32:53.124Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"Explain quantum mechanics fundamentals - wave-particle duality and uncertainty principle"}
2025-09-26T05:32:53.125Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T05:32:53.125Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T05:32:58.127Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T05:32:58.127Z [debug] codegenAgent: Gemini error for tag=part_5, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T05:32:58.128Z [debug] [gen] OK: codegen completed for session=quantum-test-2025 step=5 in 5004ms
2025-09-26T05:32:58.128Z [debug] compilerRouter: routing to js
2025-09-26T05:32:58.128Z [debug] [gen] OK: compiler completed for session=quantum-test-2025 step=5 in 5004ms
2025-09-26T05:32:58.128Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T05:32:58.128Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T05:32:58.128Z [debug] [gen] OK: debugger completed for session=quantum-test-2025 step=5 in 0ms
2025-09-26T05:32:58.129Z [debug] [gen] END: session=quantum-test-2025 step=5, emitted 'rendered' event
2025-09-26T05:32:58.130Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T05:32:58.130Z [debug] [orchestrator] Plan found for session quantum-test-2025
2025-09-26T05:32:58.130Z [debug] [orchestrator] All steps completed for session quantum-test-2025
2025-09-26T05:33:31.231Z [debug] [genWorker] Received job: gen id=30
2025-09-26T05:33:31.232Z [debug] [gen] START: session=quantum-test-2025 step=2 tag=part_2
2025-09-26T05:33:31.232Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Explain quantum mechanics fundamentals - wave-particle duality and uncertainty principle"}
2025-09-26T05:33:31.233Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T05:33:31.233Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T05:33:36.235Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T05:33:36.235Z [debug] codegenAgent: Gemini error for tag=part_2, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T05:33:36.235Z [debug] [gen] OK: codegen completed for session=quantum-test-2025 step=2 in 5003ms
2025-09-26T05:33:36.236Z [debug] compilerRouter: routing to js
2025-09-26T05:33:36.236Z [debug] [gen] OK: compiler completed for session=quantum-test-2025 step=2 in 5004ms
2025-09-26T05:33:36.236Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T05:33:36.236Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T05:33:36.236Z [debug] [gen] OK: debugger completed for session=quantum-test-2025 step=2 in 0ms
2025-09-26T05:33:36.237Z [debug] [gen] END: session=quantum-test-2025 step=2, emitted 'rendered' event
2025-09-26T05:33:36.237Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T05:33:36.238Z [debug] [orchestrator] Plan found for session quantum-test-2025
2025-09-26T05:33:36.238Z [debug] [orchestrator] All steps completed for session quantum-test-2025
2025-09-26T05:33:53.162Z [debug] [genWorker] Received job: gen id=34
2025-09-26T05:33:53.162Z [debug] [gen] START: session=quantum-test-2025 step=5 tag=part_5
2025-09-26T05:33:53.163Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"Explain quantum mechanics fundamentals - wave-particle duality and uncertainty principle"}
2025-09-26T05:33:53.163Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T05:33:58.108Z [debug] Shutting down server...
2025-09-26T05:33:58.423Z [debug] Plan worker created
2025-09-26T05:33:58.425Z [debug] Gen worker created
2025-09-26T05:33:58.433Z [debug] Backend listening on http://localhost:3001
2025-09-26T05:34:09.649Z [debug] Shutting down server...
2025-09-26T05:34:09.649Z [debug] Shutting down server...
2025-09-26T05:34:19.484Z [debug] Plan worker created
2025-09-26T05:34:19.486Z [debug] Gen worker created
2025-09-26T05:34:19.494Z [debug] Backend listening on http://localhost:3001
2025-09-26T05:34:46.517Z [debug] Received request on /api/query {"body":{"query":"Advanced calculus - derivatives and integrals with real-world applications","sessionId":"new-system-test-2025"}}
2025-09-26T05:34:46.518Z [debug] [orchestrator] Enqueuing plan for session new-system-test-2025
2025-09-26T05:34:46.525Z [debug] [planWorker] Received job: plan id=11
2025-09-26T05:34:46.525Z [debug] [plan] START: session=new-system-test-2025 query=Advanced calculus - derivatives and integrals with real-world applications
2025-09-26T05:34:46.526Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T05:34:46.526Z [debug] [timeout] Setting 1000ms timeout for planner/gemini
2025-09-26T05:34:47.528Z [debug] [timeout] planner/gemini timed out after 1000ms
2025-09-26T05:34:47.528Z [debug] plannerAgent: Gemini error, using fallback. Error: planner/gemini timeout after 1000ms
2025-09-26T05:34:47.529Z [debug] [plan] OK: session=new-system-test-2025 plan received with 3 steps
2025-09-26T05:34:47.531Z [debug] [plan] Enqueuing first step: session=new-system-test-2025 stepId=1
2025-09-26T05:34:47.533Z [debug] [plan] END: session=new-system-test-2025
2025-09-26T05:34:47.534Z [debug] [genWorker] Received job: gen id=35
2025-09-26T05:34:47.534Z [debug] [gen] START: session=new-system-test-2025 step=1 tag=intro
2025-09-26T05:34:47.535Z [debug] [codegen] START: stepId=1 tag=intro {"params":{},"query":"Advanced calculus - derivatives and integrals with real-world applications"}
2025-09-26T05:34:47.535Z [debug] [codegen] Sending prompt to Gemini for tag=intro
2025-09-26T05:34:47.536Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T05:34:52.537Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T05:34:52.538Z [debug] codegenAgent: Gemini error for tag=intro, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T05:34:52.538Z [debug] [gen] OK: codegen completed for session=new-system-test-2025 step=1 in 5003ms
2025-09-26T05:34:52.538Z [debug] compilerRouter: routing to js
2025-09-26T05:34:52.538Z [debug] [gen] OK: compiler completed for session=new-system-test-2025 step=1 in 5003ms
2025-09-26T05:34:52.538Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T05:34:52.538Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T05:34:52.538Z [debug] [gen] OK: debugger completed for session=new-system-test-2025 step=1 in 0ms
2025-09-26T05:34:52.541Z [debug] [gen] END: session=new-system-test-2025 step=1, emitted 'rendered' event
2025-09-26T05:34:52.542Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T05:34:52.542Z [debug] [orchestrator] Plan found for session new-system-test-2025
2025-09-26T05:34:52.542Z [debug] [orchestrator] Enqueuing next step: session=new-system-test-2025 stepId=2
2025-09-26T05:34:52.544Z [debug] [genWorker] Received job: gen id=36
2025-09-26T05:34:52.545Z [debug] [gen] START: session=new-system-test-2025 step=2 tag=concepts
2025-09-26T05:34:52.545Z [debug] [codegen] START: stepId=2 tag=concepts {"params":{},"query":"Advanced calculus - derivatives and integrals with real-world applications"}
2025-09-26T05:34:52.546Z [debug] [codegen] Sending prompt to Gemini for tag=concepts
2025-09-26T05:34:52.546Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T05:34:57.549Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T05:34:57.549Z [debug] codegenAgent: Gemini error for tag=concepts, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T05:34:57.549Z [debug] [gen] OK: codegen completed for session=new-system-test-2025 step=2 in 5004ms
2025-09-26T05:34:57.550Z [debug] compilerRouter: routing to js
2025-09-26T05:34:57.550Z [debug] [gen] OK: compiler completed for session=new-system-test-2025 step=2 in 5005ms
2025-09-26T05:34:57.550Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T05:34:57.550Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T05:34:57.550Z [debug] [gen] OK: debugger completed for session=new-system-test-2025 step=2 in 0ms
2025-09-26T05:34:57.552Z [debug] [gen] END: session=new-system-test-2025 step=2, emitted 'rendered' event
2025-09-26T05:34:57.553Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T05:34:57.553Z [debug] [orchestrator] Plan found for session new-system-test-2025
2025-09-26T05:34:57.554Z [debug] [orchestrator] Enqueuing next step: session=new-system-test-2025 stepId=3
2025-09-26T05:34:57.556Z [debug] [genWorker] Received job: gen id=37
2025-09-26T05:34:57.556Z [debug] [gen] START: session=new-system-test-2025 step=3 tag=examples
2025-09-26T05:34:57.557Z [debug] [codegen] START: stepId=3 tag=examples {"params":{},"query":"Advanced calculus - derivatives and integrals with real-world applications"}
2025-09-26T05:34:57.557Z [debug] [codegen] Sending prompt to Gemini for tag=examples
2025-09-26T05:34:57.557Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T05:35:02.560Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T05:35:02.560Z [debug] codegenAgent: Gemini error for tag=examples, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T05:35:02.561Z [debug] [gen] OK: codegen completed for session=new-system-test-2025 step=3 in 5004ms
2025-09-26T05:35:02.561Z [debug] compilerRouter: routing to js
2025-09-26T05:35:02.561Z [debug] [gen] OK: compiler completed for session=new-system-test-2025 step=3 in 5004ms
2025-09-26T05:35:02.561Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T05:35:02.561Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T05:35:02.562Z [debug] [gen] OK: debugger completed for session=new-system-test-2025 step=3 in 0ms
2025-09-26T05:35:02.563Z [debug] [gen] END: session=new-system-test-2025 step=3, emitted 'rendered' event
2025-09-26T05:35:02.564Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T05:35:02.565Z [debug] [orchestrator] Plan found for session new-system-test-2025
2025-09-26T05:35:02.565Z [debug] [orchestrator] All steps completed for session new-system-test-2025
2025-09-26T05:35:19.513Z [debug] [genWorker] Received job: gen id=34
2025-09-26T05:35:19.513Z [debug] [gen] START: session=quantum-test-2025 step=5 tag=part_5
2025-09-26T05:35:19.515Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"Explain quantum mechanics fundamentals - wave-particle duality and uncertainty principle"}
2025-09-26T05:35:19.515Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T05:35:19.528Z [debug] [timeout] Setting 20000ms timeout for codegen/gemini
2025-09-26T05:35:32.433Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 3220
2025-09-26T05:35:32.433Z [debug] [codegen] SUCCESS: Generated 17 actions for step 5
2025-09-26T05:35:32.434Z [debug] [gen] OK: codegen completed for session=quantum-test-2025 step=5 in 12920ms
2025-09-26T05:35:32.434Z [debug] compilerRouter: routing to js
2025-09-26T05:35:32.434Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T05:35:32.435Z [debug] [debugger] END: Chunk sanitized and returned.
2025-09-26T05:35:32.440Z [debug] [gen] END: session=quantum-test-2025 step=5, emitted chunk
2025-09-26T05:35:32.440Z [debug] [orchestrator] All steps completed for session quantum-test-2025
2025-09-26T05:36:17.829Z [debug] Shutting down server...
2025-09-26T05:36:18.101Z [debug] NEW Plan worker created
2025-09-26T05:36:18.103Z [debug] NEW Gen worker created
2025-09-26T05:36:18.110Z [debug] Backend listening on http://localhost:3001
2025-09-26T05:36:29.556Z [debug] Shutting down server...
2025-09-26T05:36:29.557Z [debug] Shutting down server...
2025-09-26T05:36:40.725Z [debug] NEW Plan worker created
2025-09-26T05:36:40.727Z [debug] NEW Gen worker created
2025-09-26T05:36:40.734Z [debug] Backend listening on http://localhost:3001
2025-09-26T05:37:10.942Z [debug] Received request on /api/query {"body":{"query":"Explain photosynthesis process - from light absorption to glucose production","sessionId":"final-test-2025"}}
2025-09-26T05:37:10.943Z [debug] [orchestrator] Enqueuing plan for session final-test-2025
2025-09-26T05:37:10.948Z [debug] [planWorker] Received job: plan id=12
2025-09-26T05:37:10.948Z [debug] [plan] START: session=final-test-2025 query=Explain photosynthesis process - from light absorption to glucose production
2025-09-26T05:37:10.948Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T05:37:10.948Z [debug] [timeout] Setting 1000ms timeout for planner/gemini
2025-09-26T05:37:11.950Z [debug] [timeout] planner/gemini timed out after 1000ms
2025-09-26T05:37:11.950Z [debug] plannerAgent: Gemini error, using fallback. Error: planner/gemini timeout after 1000ms
2025-09-26T05:37:11.951Z [debug] [plan] OK: session=final-test-2025 plan received with 3 steps
2025-09-26T05:37:11.952Z [debug] [plan] Enqueuing first step: session=final-test-2025 stepId=1
2025-09-26T05:37:11.953Z [debug] [plan] END: session=final-test-2025
2025-09-26T05:37:11.954Z [debug] [genWorker] Received job: gen id=38
2025-09-26T05:37:11.954Z [debug] [gen] START: session=final-test-2025 step=1 tag=intro
2025-09-26T05:37:11.955Z [debug] [codegen] START: stepId=1 tag=intro {"params":{},"query":"Explain photosynthesis process - from light absorption to glucose production"}
2025-09-26T05:37:11.955Z [debug] [codegen] Sending prompt to Gemini for tag=intro
2025-09-26T05:37:11.955Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T05:37:16.958Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T05:37:16.958Z [debug] codegenAgent: Gemini error for tag=intro, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T05:37:16.959Z [debug] [gen] OK: codegen completed for session=final-test-2025 step=1 in 5004ms
2025-09-26T05:37:16.959Z [debug] compilerRouter: routing to js
2025-09-26T05:37:16.959Z [debug] [gen] OK: compiler completed for session=final-test-2025 step=1 in 5004ms
2025-09-26T05:37:16.959Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T05:37:16.959Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T05:37:16.959Z [debug] [gen] OK: debugger completed for session=final-test-2025 step=1 in 0ms
2025-09-26T05:37:16.961Z [debug] [gen] END: session=final-test-2025 step=1, emitted 'rendered' event
2025-09-26T05:37:16.962Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T05:37:16.963Z [debug] [orchestrator] Plan found for session final-test-2025
2025-09-26T05:37:16.963Z [debug] [orchestrator] Enqueuing next step: session=final-test-2025 stepId=2
2025-09-26T05:37:16.969Z [debug] [genWorker] Received job: gen id=39
2025-09-26T05:37:16.969Z [debug] [gen] START: session=final-test-2025 step=2 tag=concepts
2025-09-26T05:37:16.972Z [debug] [codegen] START: stepId=2 tag=concepts {"params":{},"query":"Explain photosynthesis process - from light absorption to glucose production"}
2025-09-26T05:37:16.973Z [debug] [codegen] Sending prompt to Gemini for tag=concepts
2025-09-26T05:37:16.999Z [debug] [timeout] Setting 20000ms timeout for codegen/gemini
2025-09-26T05:37:37.001Z [debug] [timeout] codegen/gemini timed out after 20000ms
2025-09-26T05:37:37.016Z [error] [gen:failed] id=39 Error: codegen/gemini timeout after 20000ms
2025-09-26T05:37:48.888Z [debug] Shutting down server...
2025-09-26T05:37:48.888Z [debug] Shutting down server...
2025-09-26T05:37:56.926Z [debug] NEW Plan worker created
2025-09-26T05:37:56.928Z [debug] NEW Gen worker created
2025-09-26T05:37:56.936Z [debug] Backend listening on http://localhost:3001
2025-09-26T05:38:22.606Z [debug] Received request on /api/query {"body":{"query":"Explain DNA replication process - molecular mechanisms and enzymes involved","sessionId":"real-new-system-test"}}
2025-09-26T05:38:22.607Z [debug] [orchestrator] Enqueuing plan for session real-new-system-test
2025-09-26T05:38:22.613Z [debug] [planWorker] Received job: plan id=13
2025-09-26T05:38:22.613Z [debug] [plan] START: session=real-new-system-test query=Explain DNA replication process - molecular mechanisms and enzymes involved
2025-09-26T05:38:22.614Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T05:38:22.638Z [debug] [timeout] Setting 20000ms timeout for planner/gemini
2025-09-26T05:38:36.648Z [debug] [planner] Received response from Gemini in 14034ms
2025-09-26T05:38:36.653Z [debug] [plan] OK: session=real-new-system-test plan received with 5 steps
2025-09-26T05:38:36.656Z [debug] [plan] Enqueuing first step emit: session=real-new-system-test stepId=1
2025-09-26T05:38:36.657Z [debug] [plan] END: session=real-new-system-test
2025-09-26T05:38:36.660Z [debug] [genWorker] Received job: gen id=40
2025-09-26T05:38:36.660Z [debug] [gen] START: session=real-new-system-test step=1 tag=part_1
2025-09-26T05:38:36.663Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"Explain DNA replication process - molecular mechanisms and enzymes involved"}
2025-09-26T05:38:36.663Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T05:38:36.663Z [debug] [timeout] Setting 20000ms timeout for codegen/gemini
2025-09-26T05:38:56.663Z [debug] [timeout] codegen/gemini timed out after 20000ms
2025-09-26T05:38:56.679Z [error] [gen:failed] id=40 Error: codegen/gemini timeout after 20000ms
2025-09-26T05:43:30.294Z [debug] Shutting down server...
2025-09-26T05:43:30.294Z [debug] Shutting down server...
2025-09-26T05:43:40.945Z [debug] NEW Plan worker created
2025-09-26T05:43:40.946Z [debug] NEW Gen worker created
2025-09-26T05:43:40.954Z [debug] Backend listening on http://localhost:3001
2025-09-26T05:44:08.391Z [debug] Received request on /api/query {"body":{"query":"STRESS TEST: Advanced quantum field theory - gauge invariance, symmetry breaking, and the Standard Model","sessionId":"stress-test-brutal-2025"}}
2025-09-26T05:44:08.391Z [debug] [orchestrator] Enqueuing plan for session stress-test-brutal-2025
2025-09-26T05:44:08.396Z [debug] [planWorker] Received job: plan id=14
2025-09-26T05:44:08.396Z [debug] [plan] START: session=stress-test-brutal-2025 query=STRESS TEST: Advanced quantum field theory - gauge invariance, symmetry breaking, and the Standard Model
2025-09-26T05:44:08.397Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T05:44:08.397Z [debug] [timeout] Setting 1000ms timeout for planner/gemini
2025-09-26T05:44:09.400Z [debug] [timeout] planner/gemini timed out after 1000ms
2025-09-26T05:44:09.400Z [debug] plannerAgent: Gemini error, using fallback. Error: planner/gemini timeout after 1000ms
2025-09-26T05:44:09.401Z [debug] [plan] OK: session=stress-test-brutal-2025 plan received with 3 steps
2025-09-26T05:44:09.402Z [debug] [plan] Enqueuing first step: session=stress-test-brutal-2025 stepId=1
2025-09-26T05:44:09.403Z [debug] [plan] END: session=stress-test-brutal-2025
2025-09-26T05:44:09.408Z [debug] [genWorker] Received job: gen id=41
2025-09-26T05:44:09.409Z [debug] [gen] START: session=stress-test-brutal-2025 step=1 tag=intro
2025-09-26T05:44:09.413Z [debug] [codegen] START: stepId=1 tag=intro {"params":{},"query":"STRESS TEST: Advanced quantum field theory - gauge invariance, symmetry breaking, and the Standard Model"}
2025-09-26T05:44:09.413Z [debug] [codegen] Sending prompt to Gemini for tag=intro
2025-09-26T05:44:09.441Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T05:44:27.934Z [debug] [codegen] Received response from Gemini for tag=intro, length: 3258
2025-09-26T05:44:27.934Z [debug] [codegen] SUCCESS: Generated 14 actions for step 1
2025-09-26T05:44:27.935Z [debug] [gen] OK: codegen completed for session=stress-test-brutal-2025 step=1 in 18523ms
2025-09-26T05:44:27.935Z [debug] compilerRouter: routing to js
2025-09-26T05:44:27.935Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T05:44:27.936Z [debug] [debugger] END: Chunk sanitized and returned.
2025-09-26T05:44:27.946Z [debug] [gen] END: session=stress-test-brutal-2025 step=1, emitted chunk
2025-09-26T05:44:27.949Z [debug] [genWorker] Received job: gen id=42
2025-09-26T05:44:27.949Z [debug] [gen] START: session=stress-test-brutal-2025 step=2 tag=concepts
2025-09-26T05:44:27.952Z [debug] [codegen] START: stepId=2 tag=concepts {"params":{},"query":"STRESS TEST: Advanced quantum field theory - gauge invariance, symmetry breaking, and the Standard Model"}
2025-09-26T05:44:27.953Z [debug] [codegen] Sending prompt to Gemini for tag=concepts
2025-09-26T05:44:27.953Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T05:45:05.958Z [debug] [codegen] Received response from Gemini for tag=concepts, length: 5828
2025-09-26T05:45:05.958Z [debug] [codegen] SUCCESS: Generated 40 actions for step 2
2025-09-26T05:45:05.958Z [debug] [gen] OK: prefetch codegen completed for session=stress-test-brutal-2025 step=2 in 38006ms
2025-09-26T05:45:05.958Z [debug] compilerRouter: routing to js
2025-09-26T05:45:05.959Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T05:45:05.959Z [debug] [debugger] END: Chunk sanitized and returned.
2025-09-26T05:45:05.959Z [debug] [gen] Prefetched and cached session=stress-test-brutal-2025 step=2
2025-09-26T05:45:14.005Z [debug] Shutting down server...
2025-09-26T05:45:14.005Z [debug] Shutting down server...
2025-09-26T05:45:27.993Z [debug] [genWorker] Received job: gen id=43
2025-09-26T05:45:27.993Z [debug] [gen] START: session=stress-test-brutal-2025 step=2 tag=concepts
2025-09-26T05:45:27.994Z [debug] [codegen] START: stepId=2 tag=concepts {"params":{},"query":"STRESS TEST: Advanced quantum field theory - gauge invariance, symmetry breaking, and the Standard Model"}
2025-09-26T05:45:27.994Z [debug] [codegen] Sending prompt to Gemini for tag=concepts
2025-09-26T05:45:27.994Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T05:45:32.997Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T05:45:32.997Z [debug] codegenAgent: Gemini error for tag=concepts, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T05:45:32.998Z [debug] [gen] OK: codegen completed for session=stress-test-brutal-2025 step=2 in 5003ms
2025-09-26T05:45:32.998Z [debug] compilerRouter: routing to js
2025-09-26T05:45:32.998Z [debug] [gen] OK: compiler completed for session=stress-test-brutal-2025 step=2 in 5004ms
2025-09-26T05:45:32.998Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T05:45:32.998Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T05:45:32.998Z [debug] [gen] OK: debugger completed for session=stress-test-brutal-2025 step=2 in 0ms
2025-09-26T05:45:32.999Z [debug] [gen] END: session=stress-test-brutal-2025 step=2, emitted 'rendered' event
2025-09-26T05:45:32.999Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T05:45:33.000Z [debug] [orchestrator] Plan found for session stress-test-brutal-2025
2025-09-26T05:45:33.000Z [debug] [orchestrator] Enqueuing next step: session=stress-test-brutal-2025 stepId=3
2025-09-26T05:45:33.002Z [debug] [genWorker] Received job: gen id=44
2025-09-26T05:45:33.002Z [debug] [gen] START: session=stress-test-brutal-2025 step=3 tag=examples
2025-09-26T05:45:33.002Z [debug] [codegen] START: stepId=3 tag=examples {"params":{},"query":"STRESS TEST: Advanced quantum field theory - gauge invariance, symmetry breaking, and the Standard Model"}
2025-09-26T05:45:33.002Z [debug] [codegen] Sending prompt to Gemini for tag=examples
2025-09-26T05:45:33.003Z [debug] [timeout] Setting 5000ms timeout for codegen/gemini
2025-09-26T05:45:34.255Z [debug] NEW Plan worker created
2025-09-26T05:45:34.257Z [debug] NEW Gen worker created
2025-09-26T05:45:34.265Z [debug] Backend listening on http://localhost:3001
2025-09-26T05:45:38.004Z [debug] [timeout] codegen/gemini timed out after 5000ms
2025-09-26T05:45:38.005Z [debug] codegenAgent: Gemini error for tag=examples, attempting regex extraction. Error: codegen/gemini timeout after 5000ms
2025-09-26T05:45:38.005Z [debug] [gen] OK: codegen completed for session=stress-test-brutal-2025 step=3 in 5003ms
2025-09-26T05:45:38.005Z [debug] compilerRouter: routing to js
2025-09-26T05:45:38.006Z [debug] [gen] OK: compiler completed for session=stress-test-brutal-2025 step=3 in 5004ms
2025-09-26T05:45:38.006Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T05:45:38.006Z [debug] [debugger] END: Chunk is valid, returning as is.
2025-09-26T05:45:38.006Z [debug] [gen] OK: debugger completed for session=stress-test-brutal-2025 step=3 in 0ms
2025-09-26T05:45:38.007Z [debug] [gen] END: session=stress-test-brutal-2025 step=3, emitted 'rendered' event
2025-09-26T05:45:38.008Z [debug] [orchestrator] Checking for plan, attempt 1
2025-09-26T05:45:38.008Z [debug] [orchestrator] Plan found for session stress-test-brutal-2025
2025-09-26T05:45:38.009Z [debug] [orchestrator] All steps completed for session stress-test-brutal-2025
2025-09-26T05:47:06.015Z [debug] NEW Plan worker created
2025-09-26T05:47:44.997Z [debug] NEW Plan worker created
2025-09-26T05:47:44.998Z [debug] NEW Gen worker created
2025-09-26T05:47:45.006Z [debug] Backend listening on http://localhost:3001
2025-09-26T05:48:15.913Z [debug] Received request on /api/query {"body":{"query":"BRUTAL STRESS TEST: Complete machine learning fundamentals - neural networks, backpropagation, optimization algorithms, and practical applications","sessionId":"brutal-stress-test-final"}}
2025-09-26T05:48:15.913Z [debug] [orchestrator] Enqueuing plan for session brutal-stress-test-final
2025-09-26T05:48:15.919Z [debug] [planWorker] Received job: plan id=15
2025-09-26T05:48:15.919Z [debug] [plan] START: session=brutal-stress-test-final query=BRUTAL STRESS TEST: Complete machine learning fundamentals - neural networks, backpropagation, optimization algorithms, and practical applications
2025-09-26T05:48:15.920Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T05:48:15.935Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T05:48:27.054Z [debug] [planner] Received response from Gemini in 11134ms
2025-09-26T05:48:27.058Z [debug] [plan] OK: session=brutal-stress-test-final plan received with 5 steps
2025-09-26T05:48:27.059Z [debug] [plan] Enqueuing first step emit: session=brutal-stress-test-final stepId=1
2025-09-26T05:48:27.060Z [debug] [plan] END: session=brutal-stress-test-final
2025-09-26T05:48:27.062Z [debug] [genWorker] Received job: gen id=45
2025-09-26T05:48:27.062Z [debug] [gen] START: session=brutal-stress-test-final step=1 tag=part_1
2025-09-26T05:48:27.065Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"BRUTAL STRESS TEST: Complete machine learning fundamentals - neural networks, backpropagation, optimization algorithms, and practical applications"}
2025-09-26T05:48:27.065Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T05:48:27.065Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T05:48:42.408Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 2459
2025-09-26T05:48:42.408Z [debug] [codegen] SUCCESS: Generated 17 actions for step 1
2025-09-26T05:48:42.408Z [debug] [gen] OK: codegen completed for session=brutal-stress-test-final step=1 in 15344ms
2025-09-26T05:48:42.408Z [debug] compilerRouter: routing to js
2025-09-26T05:48:42.409Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T05:48:42.409Z [debug] [debugger] END: Chunk sanitized and returned.
2025-09-26T05:48:42.416Z [debug] [gen] END: session=brutal-stress-test-final step=1, emitted chunk
2025-09-26T05:48:42.418Z [debug] [genWorker] Received job: gen id=46
2025-09-26T05:48:42.418Z [debug] [gen] START: session=brutal-stress-test-final step=2 tag=part_2
2025-09-26T05:48:42.420Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"BRUTAL STRESS TEST: Complete machine learning fundamentals - neural networks, backpropagation, optimization algorithms, and practical applications"}
2025-09-26T05:48:42.420Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T05:48:42.421Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T05:49:05.251Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 2687
2025-09-26T05:49:05.252Z [debug] [codegen] SUCCESS: Generated 18 actions for step 2
2025-09-26T05:49:05.252Z [debug] [gen] OK: prefetch codegen completed for session=brutal-stress-test-final step=2 in 22832ms
2025-09-26T05:49:05.252Z [debug] compilerRouter: routing to js
2025-09-26T05:49:05.252Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T05:49:05.252Z [debug] [debugger] END: Chunk sanitized and returned.
2025-09-26T05:49:05.253Z [debug] [gen] Prefetched and cached session=brutal-stress-test-final step=2
2025-09-26T05:49:42.490Z [debug] [genWorker] Received job: gen id=47
2025-09-26T05:49:42.491Z [debug] [gen] START: session=brutal-stress-test-final step=2 tag=part_2
2025-09-26T05:49:42.493Z [debug] [gen] Using cached chunk for session=brutal-stress-test-final step=2
2025-09-26T05:49:42.495Z [debug] [gen] END: session=brutal-stress-test-final step=2, emitted chunk
2025-09-26T05:49:42.499Z [debug] [genWorker] Received job: gen id=48
2025-09-26T05:49:42.499Z [debug] [gen] START: session=brutal-stress-test-final step=3 tag=part_3
2025-09-26T05:49:42.502Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"BRUTAL STRESS TEST: Complete machine learning fundamentals - neural networks, backpropagation, optimization algorithms, and practical applications"}
2025-09-26T05:49:42.502Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T05:49:42.503Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T05:50:00.009Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 3237
2025-09-26T05:50:00.009Z [debug] [codegen] SUCCESS: Generated 17 actions for step 3
2025-09-26T05:50:00.009Z [debug] [gen] OK: prefetch codegen completed for session=brutal-stress-test-final step=3 in 17507ms
2025-09-26T05:50:00.009Z [debug] compilerRouter: routing to js
2025-09-26T05:50:00.009Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T05:50:00.009Z [debug] [debugger] END: Chunk sanitized and returned.
2025-09-26T05:50:00.010Z [debug] [gen] Prefetched and cached session=brutal-stress-test-final step=3
2025-09-26T05:50:42.568Z [debug] [genWorker] Received job: gen id=49
2025-09-26T05:50:42.568Z [debug] [gen] START: session=brutal-stress-test-final step=3 tag=part_3
2025-09-26T05:50:42.570Z [debug] [gen] Using cached chunk for session=brutal-stress-test-final step=3
2025-09-26T05:50:42.573Z [debug] [gen] END: session=brutal-stress-test-final step=3, emitted chunk
2025-09-26T05:50:42.576Z [debug] [genWorker] Received job: gen id=50
2025-09-26T05:50:42.576Z [debug] [gen] START: session=brutal-stress-test-final step=4 tag=part_4
2025-09-26T05:50:42.578Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"BRUTAL STRESS TEST: Complete machine learning fundamentals - neural networks, backpropagation, optimization algorithms, and practical applications"}
2025-09-26T05:50:42.579Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T05:50:42.579Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T05:51:03.516Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 4094
2025-09-26T05:51:03.517Z [debug] [codegen] SUCCESS: Generated 21 actions for step 4
2025-09-26T05:51:03.517Z [debug] [gen] OK: prefetch codegen completed for session=brutal-stress-test-final step=4 in 20939ms
2025-09-26T05:51:03.517Z [debug] compilerRouter: routing to js
2025-09-26T05:51:03.517Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T05:51:03.517Z [debug] [debugger] END: Chunk sanitized and returned.
2025-09-26T05:51:03.518Z [debug] [gen] Prefetched and cached session=brutal-stress-test-final step=4
2025-09-26T05:51:42.644Z [debug] [genWorker] Received job: gen id=51
2025-09-26T05:51:42.644Z [debug] [gen] START: session=brutal-stress-test-final step=4 tag=part_4
2025-09-26T05:51:42.646Z [debug] [gen] Using cached chunk for session=brutal-stress-test-final step=4
2025-09-26T05:51:42.649Z [debug] [gen] END: session=brutal-stress-test-final step=4, emitted chunk
2025-09-26T05:51:42.651Z [debug] [genWorker] Received job: gen id=52
2025-09-26T05:51:42.652Z [debug] [gen] START: session=brutal-stress-test-final step=5 tag=part_5
2025-09-26T05:51:42.654Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"BRUTAL STRESS TEST: Complete machine learning fundamentals - neural networks, backpropagation, optimization algorithms, and practical applications"}
2025-09-26T05:51:42.654Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T05:51:42.655Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T05:51:47.984Z [debug] NEW Plan worker created
2025-09-26T05:52:03.406Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 3218
2025-09-26T05:52:03.406Z [debug] [codegen] SUCCESS: Generated 16 actions for step 5
2025-09-26T05:52:03.406Z [debug] [gen] OK: prefetch codegen completed for session=brutal-stress-test-final step=5 in 20752ms
2025-09-26T05:52:03.406Z [debug] compilerRouter: routing to js
2025-09-26T05:52:03.406Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T05:52:03.406Z [debug] [debugger] END: Chunk sanitized and returned.
2025-09-26T05:52:03.407Z [debug] [gen] Prefetched and cached session=brutal-stress-test-final step=5
2025-09-26T05:52:20.327Z [debug] Received request on /api/query {"body":{"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H","sessionId":"a4602a16-c7ab-4624-bf37-15fafcfcdeb3"}}
2025-09-26T05:52:20.328Z [debug] [orchestrator] Enqueuing plan for session a4602a16-c7ab-4624-bf37-15fafcfcdeb3
2025-09-26T05:52:20.330Z [debug] [planWorker] Received job: plan id=16
2025-09-26T05:52:20.330Z [debug] [plan] START: session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 query=tell me H20 structure and draw Grah between the intermolecular force between OH and H
2025-09-26T05:52:20.330Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T05:52:20.330Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T05:52:32.601Z [debug] socket joined session a4602a16-c7ab-4624-bf37-15fafcfcdeb3
2025-09-26T05:52:34.073Z [debug] [planner] Received response from Gemini in 13743ms
2025-09-26T05:52:34.075Z [debug] [plan] OK: session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 plan received with 5 steps
2025-09-26T05:52:34.076Z [debug] [plan] Enqueuing first step emit: session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 stepId=1
2025-09-26T05:52:34.078Z [debug] [plan] END: session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3
2025-09-26T05:52:34.080Z [debug] [genWorker] Received job: gen id=54
2025-09-26T05:52:34.080Z [debug] [gen] START: session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=1 tag=part_1
2025-09-26T05:52:34.082Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T05:52:34.082Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T05:52:34.083Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T05:52:42.728Z [debug] [genWorker] Received job: gen id=53
2025-09-26T05:52:42.728Z [debug] [gen] START: session=brutal-stress-test-final step=5 tag=part_5
2025-09-26T05:52:42.730Z [debug] [gen] Using cached chunk for session=brutal-stress-test-final step=5
2025-09-26T05:52:42.731Z [debug] [gen] END: session=brutal-stress-test-final step=5, emitted chunk
2025-09-26T05:52:42.732Z [debug] [orchestrator] All steps completed for session brutal-stress-test-final
2025-09-26T05:52:46.782Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 1507
2025-09-26T05:52:46.782Z [debug] [codegen] SUCCESS: Generated 11 actions for step 1
2025-09-26T05:52:46.782Z [debug] [gen] OK: codegen completed for session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=1 in 12700ms
2025-09-26T05:52:46.783Z [debug] compilerRouter: routing to js
2025-09-26T05:52:46.783Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T05:52:46.783Z [debug] [debugger] END: Chunk sanitized and returned.
2025-09-26T05:52:46.785Z [debug] [gen] END: session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=1, emitted chunk
2025-09-26T05:52:46.787Z [debug] [genWorker] Received job: gen id=55
2025-09-26T05:52:46.787Z [debug] [gen] START: session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=2 tag=part_2
2025-09-26T05:52:46.790Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T05:52:46.790Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T05:52:46.790Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T05:53:06.449Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 4061
2025-09-26T05:53:06.449Z [debug] [codegen] SUCCESS: Generated 21 actions for step 2
2025-09-26T05:53:06.450Z [debug] [gen] OK: prefetch codegen completed for session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=2 in 19660ms
2025-09-26T05:53:06.450Z [debug] compilerRouter: routing to js
2025-09-26T05:53:06.450Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T05:53:06.450Z [debug] [debugger] END: Chunk sanitized and returned.
2025-09-26T05:53:06.451Z [debug] [gen] Prefetched and cached session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=2
2025-09-26T05:53:46.831Z [debug] [genWorker] Received job: gen id=56
2025-09-26T05:53:46.832Z [debug] [gen] START: session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=2 tag=part_2
2025-09-26T05:53:46.834Z [debug] [gen] Using cached chunk for session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=2
2025-09-26T05:53:46.838Z [debug] [gen] END: session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=2, emitted chunk
2025-09-26T05:53:46.841Z [debug] [genWorker] Received job: gen id=57
2025-09-26T05:53:46.841Z [debug] [gen] START: session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=3 tag=part_3
2025-09-26T05:53:46.844Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T05:53:46.844Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T05:53:46.845Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T05:54:16.794Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 3698
2025-09-26T05:54:16.794Z [debug] [codegen] SUCCESS: Generated 27 actions for step 3
2025-09-26T05:54:16.794Z [debug] [gen] OK: prefetch codegen completed for session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=3 in 29950ms
2025-09-26T05:54:16.794Z [debug] compilerRouter: routing to js
2025-09-26T05:54:16.794Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T05:54:16.795Z [debug] [debugger] END: Chunk sanitized and returned.
2025-09-26T05:54:16.795Z [debug] [gen] Prefetched and cached session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=3
2025-09-26T05:54:46.912Z [debug] [genWorker] Received job: gen id=58
2025-09-26T05:54:46.913Z [debug] [gen] START: session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=3 tag=part_3
2025-09-26T05:54:46.915Z [debug] [gen] Using cached chunk for session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=3
2025-09-26T05:54:46.917Z [debug] [gen] END: session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=3, emitted chunk
2025-09-26T05:54:46.919Z [debug] [genWorker] Received job: gen id=59
2025-09-26T05:54:46.919Z [debug] [gen] START: session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=4 tag=part_4
2025-09-26T05:54:46.921Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T05:54:46.921Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T05:54:46.922Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T05:55:04.184Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 2765
2025-09-26T05:55:04.184Z [debug] [codegen] SUCCESS: Generated 14 actions for step 4
2025-09-26T05:55:04.184Z [debug] [gen] OK: prefetch codegen completed for session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=4 in 17263ms
2025-09-26T05:55:04.184Z [debug] compilerRouter: routing to js
2025-09-26T05:55:04.184Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T05:55:04.184Z [debug] [debugger] END: Chunk sanitized and returned.
2025-09-26T05:55:04.185Z [debug] [gen] Prefetched and cached session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=4
2025-09-26T05:55:46.981Z [debug] [genWorker] Received job: gen id=60
2025-09-26T05:55:46.981Z [debug] [gen] START: session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=4 tag=part_4
2025-09-26T05:55:46.983Z [debug] [gen] Using cached chunk for session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=4
2025-09-26T05:55:46.984Z [debug] [gen] END: session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=4, emitted chunk
2025-09-26T05:55:46.988Z [debug] [genWorker] Received job: gen id=61
2025-09-26T05:55:46.988Z [debug] [gen] START: session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=5 tag=part_5
2025-09-26T05:55:46.991Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T05:55:46.991Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T05:55:46.992Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T05:56:05.079Z [debug] Shutting down server...
2025-09-26T05:56:05.383Z [debug] NEW Plan worker created
2025-09-26T05:56:05.385Z [debug] NEW Gen worker created
2025-09-26T05:56:05.404Z [debug] Backend listening on http://localhost:3001
2025-09-26T05:56:05.454Z [debug] NEW Plan worker created
2025-09-26T05:56:14.559Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 3336
2025-09-26T05:56:14.560Z [debug] [codegen] SUCCESS: Generated 20 actions for step 5
2025-09-26T05:56:14.560Z [debug] [gen] OK: prefetch codegen completed for session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=5 in 27569ms
2025-09-26T05:56:14.560Z [debug] compilerRouter: routing to js
2025-09-26T05:56:14.560Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T05:56:14.560Z [debug] [debugger] END: Chunk sanitized and returned.
2025-09-26T05:56:14.561Z [debug] [gen] Prefetched and cached session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=5
2025-09-26T05:56:25.594Z [debug] Shutting down server...
2025-09-26T05:56:25.904Z [debug] NEW Plan worker created
2025-09-26T05:56:25.905Z [debug] NEW Gen worker created
2025-09-26T05:56:25.912Z [debug] Backend listening on http://localhost:3001
2025-09-26T05:56:25.918Z [debug] NEW Plan worker created
2025-09-26T05:56:47.053Z [debug] [genWorker] Received job: gen id=62
2025-09-26T05:56:47.053Z [debug] [gen] START: session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=5 tag=part_5
2025-09-26T05:56:47.054Z [debug] [gen] Using cached chunk for session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=5
2025-09-26T05:56:47.056Z [debug] [gen] END: session=a4602a16-c7ab-4624-bf37-15fafcfcdeb3 step=5, emitted chunk
2025-09-26T05:56:47.056Z [debug] [orchestrator] All steps completed for session a4602a16-c7ab-4624-bf37-15fafcfcdeb3
2025-09-26T05:57:19.065Z [debug] Shutting down server...
2025-09-26T05:57:19.066Z [debug] Shutting down server...
2025-09-26T05:57:19.066Z [debug] Shutting down server...
2025-09-26T05:57:25.834Z [debug] NEW Plan worker created
2025-09-26T05:57:25.835Z [debug] NEW Gen worker created
2025-09-26T05:57:25.843Z [debug] Backend listening on http://localhost:3001
2025-09-26T06:00:17.369Z [debug] Shutting down server...
2025-09-26T06:12:37.215Z [debug] Shutting down server...
2025-09-26T06:12:46.761Z [debug] NEW Plan worker created
2025-09-26T06:12:46.763Z [debug] NEW Gen worker created
2025-09-26T06:12:46.770Z [debug] Backend listening on http://localhost:3001
2025-09-26T06:12:50.873Z [debug] Received request on /api/query {"body":{"query":"VISUALIZATION TEST: Explain solar system with animated planets orbiting the sun, and electric circuits with current flow animation","sessionId":"visualization-test-final"}}
2025-09-26T06:12:50.874Z [debug] [orchestrator] Enqueuing plan for session visualization-test-final
2025-09-26T06:12:50.884Z [debug] [planWorker] Received job: plan id=17
2025-09-26T06:12:50.884Z [debug] [plan] START: session=visualization-test-final query=VISUALIZATION TEST: Explain solar system with animated planets orbiting the sun, and electric circuits with current flow animation
2025-09-26T06:12:50.885Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T06:12:50.885Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T06:13:00.033Z [debug] Received request on /api/query {"body":{"query":"VISUALIZATION DEMO: Show neural network learning with animated gradient descent on a 3D surface, plus wave-particle duality with interference patterns","sessionId":"demo-visualizations"}}
2025-09-26T06:13:00.034Z [debug] [orchestrator] Enqueuing plan for session demo-visualizations
2025-09-26T06:13:00.040Z [debug] [planWorker] Received job: plan id=18
2025-09-26T06:13:00.040Z [debug] [plan] START: session=demo-visualizations query=VISUALIZATION DEMO: Show neural network learning with animated gradient descent on a 3D surface, plus wave-particle duality with interference patterns
2025-09-26T06:13:00.041Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T06:13:00.058Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T06:13:01.916Z [debug] [planner] Received response from Gemini in 11031ms
2025-09-26T06:13:01.918Z [debug] [plan] OK: session=visualization-test-final plan received with 5 steps
2025-09-26T06:13:01.919Z [debug] [plan] Enqueuing first step emit: session=visualization-test-final stepId=1
2025-09-26T06:13:01.920Z [debug] [plan] END: session=visualization-test-final
2025-09-26T06:13:01.922Z [debug] [genWorker] Received job: gen id=63
2025-09-26T06:13:01.922Z [debug] [gen] START: session=visualization-test-final step=1 tag=part_1
2025-09-26T06:13:01.923Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"VISUALIZATION TEST: Explain solar system with animated planets orbiting the sun, and electric circuits with current flow animation"}
2025-09-26T06:13:01.924Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T06:13:01.924Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T06:13:12.571Z [debug] [planner] Received response from Gemini in 12530ms
2025-09-26T06:13:12.575Z [debug] [plan] OK: session=demo-visualizations plan received with 5 steps
2025-09-26T06:13:12.577Z [debug] [plan] Enqueuing first step emit: session=demo-visualizations stepId=1
2025-09-26T06:13:12.578Z [debug] [plan] END: session=demo-visualizations
2025-09-26T06:13:12.579Z [debug] [genWorker] Received job: gen id=64
2025-09-26T06:13:12.579Z [debug] [gen] START: session=demo-visualizations step=1 tag=part_1
2025-09-26T06:13:12.581Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"VISUALIZATION DEMO: Show neural network learning with animated gradient descent on a 3D surface, plus wave-particle duality with interference patterns"}
2025-09-26T06:13:12.582Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T06:13:12.582Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T06:13:24.410Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 2206
2025-09-26T06:13:24.411Z [debug] [codegen] SUCCESS: Generated 11 actions for step 1
2025-09-26T06:13:24.411Z [debug] [gen] OK: codegen completed for session=demo-visualizations step=1 in 11830ms
2025-09-26T06:13:24.412Z [debug] compilerRouter: routing to js
2025-09-26T06:13:24.412Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T06:13:24.413Z [debug] [debugger] END: Chunk sanitized and returned.
2025-09-26T06:13:24.415Z [debug] [gen] END: session=demo-visualizations step=1, emitted chunk
2025-09-26T06:13:24.419Z [debug] [genWorker] Received job: gen id=65
2025-09-26T06:13:24.419Z [debug] [gen] START: session=demo-visualizations step=2 tag=part_2
2025-09-26T06:13:24.422Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"VISUALIZATION DEMO: Show neural network learning with animated gradient descent on a 3D surface, plus wave-particle duality with interference patterns"}
2025-09-26T06:13:24.422Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T06:13:24.423Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T06:13:31.990Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 5675
2025-09-26T06:13:31.990Z [debug] [codegen] SUCCESS: Generated 30 actions for step 1
2025-09-26T06:13:31.990Z [debug] [gen] OK: codegen completed for session=visualization-test-final step=1 in 30067ms
2025-09-26T06:13:31.990Z [debug] compilerRouter: routing to js
2025-09-26T06:13:31.990Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T06:13:31.990Z [debug] [debugger] END: Chunk sanitized and returned.
2025-09-26T06:13:31.994Z [debug] [gen] END: session=visualization-test-final step=1, emitted chunk
2025-09-26T06:13:31.998Z [debug] [genWorker] Received job: gen id=67
2025-09-26T06:13:31.999Z [debug] [gen] START: session=visualization-test-final step=2 tag=part_2
2025-09-26T06:13:32.000Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"VISUALIZATION TEST: Explain solar system with animated planets orbiting the sun, and electric circuits with current flow animation"}
2025-09-26T06:13:32.001Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T06:13:32.001Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T06:13:42.962Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 1982
2025-09-26T06:13:42.962Z [debug] [codegen] SUCCESS: Generated 11 actions for step 2
2025-09-26T06:13:42.962Z [debug] [gen] OK: prefetch codegen completed for session=visualization-test-final step=2 in 10962ms
2025-09-26T06:13:42.962Z [debug] compilerRouter: routing to js
2025-09-26T06:13:42.962Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T06:13:42.962Z [debug] [debugger] END: Chunk sanitized and returned.
2025-09-26T06:13:42.963Z [debug] [gen] Prefetched and cached session=visualization-test-final step=2
2025-09-26T06:13:53.121Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 10225
2025-09-26T06:13:53.121Z [debug] [codegen] SUCCESS: Generated 70 actions for step 2
2025-09-26T06:13:53.121Z [debug] [gen] OK: prefetch codegen completed for session=demo-visualizations step=2 in 28700ms
2025-09-26T06:13:53.122Z [debug] compilerRouter: routing to js
2025-09-26T06:13:53.122Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T06:13:53.122Z [debug] [debugger] Chunk is valid with 70 actions, allowing all for rich visualizations
2025-09-26T06:13:53.123Z [debug] [gen] Prefetched and cached session=demo-visualizations step=2
2025-09-26T06:14:24.453Z [debug] [genWorker] Received job: gen id=66
2025-09-26T06:14:24.453Z [debug] [gen] START: session=demo-visualizations step=2 tag=part_2
2025-09-26T06:14:24.455Z [debug] [gen] Using cached chunk for session=demo-visualizations step=2
2025-09-26T06:14:24.461Z [debug] [gen] END: session=demo-visualizations step=2, emitted chunk
2025-09-26T06:14:24.463Z [debug] [genWorker] Received job: gen id=69
2025-09-26T06:14:24.463Z [debug] [gen] START: session=demo-visualizations step=3 tag=part_3
2025-09-26T06:14:24.466Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"VISUALIZATION DEMO: Show neural network learning with animated gradient descent on a 3D surface, plus wave-particle duality with interference patterns"}
2025-09-26T06:14:24.466Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T06:14:24.466Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T06:14:32.001Z [debug] [genWorker] Received job: gen id=68
2025-09-26T06:14:32.001Z [debug] [gen] START: session=visualization-test-final step=2 tag=part_2
2025-09-26T06:14:32.004Z [debug] [gen] Using cached chunk for session=visualization-test-final step=2
2025-09-26T06:14:32.005Z [debug] [gen] END: session=visualization-test-final step=2, emitted chunk
2025-09-26T06:14:32.009Z [debug] [genWorker] Received job: gen id=71
2025-09-26T06:14:32.009Z [debug] [gen] START: session=visualization-test-final step=3 tag=part_3
2025-09-26T06:14:32.011Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"VISUALIZATION TEST: Explain solar system with animated planets orbiting the sun, and electric circuits with current flow animation"}
2025-09-26T06:14:32.011Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T06:14:32.011Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T06:14:49.011Z [debug] Server shut down.
2025-09-26T06:14:54.695Z [debug] socket joined session a7223b3c-c836-4aa5-bba3-4d212d27ff66
2025-09-26T06:14:54.703Z [debug] Received request on /api/query {"body":{"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H","sessionId":"a7223b3c-c836-4aa5-bba3-4d212d27ff66"}}
2025-09-26T06:14:54.703Z [debug] [orchestrator] Enqueuing plan for session a7223b3c-c836-4aa5-bba3-4d212d27ff66
2025-09-26T06:14:54.707Z [debug] [planWorker] Received job: plan id=19
2025-09-26T06:14:54.707Z [debug] [plan] START: session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 query=tell me H20 structure and draw Grah between the intermolecular force between OH and H
2025-09-26T06:14:54.708Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T06:14:54.708Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T06:15:14.604Z [debug] [planner] Received response from Gemini in 19896ms
2025-09-26T06:15:14.608Z [debug] [plan] OK: session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 plan received with 5 steps
2025-09-26T06:15:14.609Z [debug] [plan] Enqueuing first step emit: session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 stepId=1
2025-09-26T06:15:14.612Z [debug] [plan] END: session=a7223b3c-c836-4aa5-bba3-4d212d27ff66
2025-09-26T06:15:14.614Z [debug] [genWorker] Received job: gen id=73
2025-09-26T06:15:14.614Z [debug] [gen] START: session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=1 tag=part_1
2025-09-26T06:15:14.616Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T06:15:14.617Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T06:15:14.617Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T06:15:32.012Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T06:15:32.027Z [error] [gen:failed] id=71 Error: codegen/gemini timeout after 60000ms
2025-09-26T06:15:32.027Z [debug] [genWorker] Received job: gen id=70
2025-09-26T06:15:32.028Z [debug] [gen] START: session=demo-visualizations step=3 tag=part_3
2025-09-26T06:15:32.029Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"VISUALIZATION DEMO: Show neural network learning with animated gradient descent on a 3D surface, plus wave-particle duality with interference patterns"}
2025-09-26T06:15:32.029Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T06:15:32.029Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T06:15:44.730Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 9474
2025-09-26T06:15:44.731Z [debug] [codegen] SUCCESS: Generated 93 actions for step 1
2025-09-26T06:15:44.731Z [debug] [gen] OK: codegen completed for session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=1 in 30115ms
2025-09-26T06:15:44.731Z [debug] compilerRouter: routing to js
2025-09-26T06:15:44.731Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T06:15:44.731Z [debug] [debugger] Chunk is valid with 93 actions, allowing all for rich visualizations
2025-09-26T06:15:44.742Z [debug] [gen] END: session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=1, emitted chunk
2025-09-26T06:15:44.746Z [debug] [genWorker] Received job: gen id=72
2025-09-26T06:15:44.747Z [debug] [gen] START: session=visualization-test-final step=3 tag=part_3
2025-09-26T06:15:44.748Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"VISUALIZATION TEST: Explain solar system with animated planets orbiting the sun, and electric circuits with current flow animation"}
2025-09-26T06:15:44.748Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T06:15:44.748Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T06:16:08.148Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 3418
2025-09-26T06:16:08.149Z [debug] [codegen] SUCCESS: Generated 26 actions for step 3
2025-09-26T06:16:08.149Z [debug] [gen] OK: codegen completed for session=demo-visualizations step=3 in 36120ms
2025-09-26T06:16:08.149Z [debug] compilerRouter: routing to js
2025-09-26T06:16:08.149Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T06:16:08.149Z [debug] [debugger] Chunk is valid with 26 actions, allowing all for rich visualizations
2025-09-26T06:16:08.153Z [debug] [gen] END: session=demo-visualizations step=3, emitted chunk
2025-09-26T06:16:08.156Z [debug] [genWorker] Received job: gen id=69
2025-09-26T06:16:08.156Z [debug] [gen] START: session=demo-visualizations step=3 tag=part_3
2025-09-26T06:16:08.157Z [debug] [gen] Prefetch hit for session=demo-visualizations step=3
2025-09-26T06:16:08.159Z [debug] [genWorker] Received job: gen id=74
2025-09-26T06:16:08.159Z [debug] [gen] START: session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=2 tag=part_2
2025-09-26T06:16:08.160Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T06:16:08.160Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T06:16:08.161Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T06:16:41.399Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 15182
2025-09-26T06:16:41.399Z [debug] [codegen] SUCCESS: Generated 116 actions for step 2
2025-09-26T06:16:41.399Z [debug] [gen] OK: prefetch codegen completed for session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=2 in 33239ms
2025-09-26T06:16:41.399Z [debug] compilerRouter: routing to js
2025-09-26T06:16:41.399Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T06:16:41.400Z [debug] [debugger] Chunk is valid with 116 actions, allowing all for rich visualizations
2025-09-26T06:16:41.401Z [debug] [gen] Prefetched and cached session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=2
2025-09-26T06:16:41.403Z [debug] [genWorker] Received job: gen id=76
2025-09-26T06:16:41.403Z [debug] [gen] START: session=demo-visualizations step=4 tag=part_4
2025-09-26T06:16:41.405Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"VISUALIZATION DEMO: Show neural network learning with animated gradient descent on a 3D surface, plus wave-particle duality with interference patterns"}
2025-09-26T06:16:41.405Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T06:16:41.405Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T06:16:44.749Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T06:16:44.752Z [error] [gen:failed] id=72 Error: codegen/gemini timeout after 60000ms
2025-09-26T06:16:44.752Z [debug] [genWorker] Received job: gen id=75
2025-09-26T06:16:44.752Z [debug] [gen] START: session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=2 tag=part_2
2025-09-26T06:16:44.756Z [debug] [gen] Using cached chunk for session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=2
2025-09-26T06:16:44.762Z [debug] [gen] END: session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=2, emitted chunk
2025-09-26T06:16:44.767Z [debug] [genWorker] Received job: gen id=78
2025-09-26T06:16:44.767Z [debug] [gen] START: session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=3 tag=part_3
2025-09-26T06:16:44.769Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T06:16:44.769Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T06:16:44.769Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T06:17:26.084Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 17034
2025-09-26T06:17:26.085Z [debug] [codegen] SUCCESS: Generated 120 actions for step 4
2025-09-26T06:17:26.085Z [debug] [gen] OK: prefetch codegen completed for session=demo-visualizations step=4 in 44680ms
2025-09-26T06:17:26.085Z [debug] compilerRouter: routing to js
2025-09-26T06:17:26.085Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T06:17:26.085Z [debug] [debugger] Chunk is valid with 120 actions, allowing all for rich visualizations
2025-09-26T06:17:26.088Z [debug] [gen] Prefetched and cached session=demo-visualizations step=4
2025-09-26T06:17:26.089Z [debug] [genWorker] Received job: gen id=77
2025-09-26T06:17:26.090Z [debug] [gen] START: session=demo-visualizations step=4 tag=part_4
2025-09-26T06:17:26.091Z [debug] [gen] Using cached chunk for session=demo-visualizations step=4
2025-09-26T06:17:26.097Z [debug] [gen] END: session=demo-visualizations step=4, emitted chunk
2025-09-26T06:17:26.100Z [debug] [genWorker] Received job: gen id=80
2025-09-26T06:17:26.100Z [debug] [gen] START: session=demo-visualizations step=5 tag=part_5
2025-09-26T06:17:26.101Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"VISUALIZATION DEMO: Show neural network learning with animated gradient descent on a 3D surface, plus wave-particle duality with interference patterns"}
2025-09-26T06:17:26.102Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T06:17:26.102Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T06:17:32.532Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 17507
2025-09-26T06:17:32.532Z [debug] [codegen] SUCCESS: Generated 128 actions for step 3
2025-09-26T06:17:32.533Z [debug] [gen] OK: prefetch codegen completed for session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=3 in 47764ms
2025-09-26T06:17:32.533Z [debug] compilerRouter: routing to js
2025-09-26T06:17:32.533Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T06:17:32.533Z [debug] [debugger] Chunk is valid with 128 actions, allowing all for rich visualizations
2025-09-26T06:17:32.534Z [debug] [gen] Prefetched and cached session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=3
2025-09-26T06:17:44.791Z [debug] [genWorker] Received job: gen id=79
2025-09-26T06:17:44.791Z [debug] [gen] START: session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=3 tag=part_3
2025-09-26T06:17:44.793Z [debug] [gen] Using cached chunk for session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=3
2025-09-26T06:17:44.801Z [debug] [gen] END: session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=3, emitted chunk
2025-09-26T06:17:44.805Z [debug] [genWorker] Received job: gen id=82
2025-09-26T06:17:44.805Z [debug] [gen] START: session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=4 tag=part_4
2025-09-26T06:17:44.806Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T06:17:44.806Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T06:17:44.807Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T06:18:08.142Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 10744
2025-09-26T06:18:08.142Z [debug] [codegen] SUCCESS: Generated 101 actions for step 5
2025-09-26T06:18:08.142Z [debug] [gen] OK: prefetch codegen completed for session=demo-visualizations step=5 in 42041ms
2025-09-26T06:18:08.143Z [debug] compilerRouter: routing to js
2025-09-26T06:18:08.143Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T06:18:08.143Z [debug] [debugger] Chunk is valid with 101 actions, allowing all for rich visualizations
2025-09-26T06:18:08.144Z [debug] [gen] Prefetched and cached session=demo-visualizations step=5
2025-09-26T06:18:15.934Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 11774
2025-09-26T06:18:15.935Z [debug] [codegen] SUCCESS: Generated 80 actions for step 4
2025-09-26T06:18:15.935Z [debug] [gen] OK: prefetch codegen completed for session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=4 in 31129ms
2025-09-26T06:18:15.935Z [debug] compilerRouter: routing to js
2025-09-26T06:18:15.935Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T06:18:15.935Z [debug] [debugger] Chunk is valid with 80 actions, allowing all for rich visualizations
2025-09-26T06:18:15.936Z [debug] [gen] Prefetched and cached session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=4
2025-09-26T06:18:26.133Z [debug] [genWorker] Received job: gen id=81
2025-09-26T06:18:26.133Z [debug] [gen] START: session=demo-visualizations step=5 tag=part_5
2025-09-26T06:18:26.135Z [debug] [gen] Using cached chunk for session=demo-visualizations step=5
2025-09-26T06:18:26.141Z [debug] [gen] END: session=demo-visualizations step=5, emitted chunk
2025-09-26T06:18:26.142Z [debug] [orchestrator] All steps completed for session demo-visualizations
2025-09-26T06:18:44.851Z [debug] [genWorker] Received job: gen id=83
2025-09-26T06:18:44.851Z [debug] [gen] START: session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=4 tag=part_4
2025-09-26T06:18:44.853Z [debug] [gen] Using cached chunk for session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=4
2025-09-26T06:18:44.860Z [debug] [gen] END: session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=4, emitted chunk
2025-09-26T06:18:44.862Z [debug] [genWorker] Received job: gen id=84
2025-09-26T06:18:44.862Z [debug] [gen] START: session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=5 tag=part_5
2025-09-26T06:18:44.864Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T06:18:44.864Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T06:18:44.864Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T06:19:13.301Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 9839
2025-09-26T06:19:13.302Z [debug] [codegen] SUCCESS: Generated 71 actions for step 5
2025-09-26T06:19:13.302Z [debug] [gen] OK: prefetch codegen completed for session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=5 in 28438ms
2025-09-26T06:19:13.302Z [debug] compilerRouter: routing to js
2025-09-26T06:19:13.302Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T06:19:13.302Z [debug] [debugger] Chunk is valid with 71 actions, allowing all for rich visualizations
2025-09-26T06:19:13.303Z [debug] [gen] Prefetched and cached session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=5
2025-09-26T06:19:44.921Z [debug] [genWorker] Received job: gen id=85
2025-09-26T06:19:44.921Z [debug] [gen] START: session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=5 tag=part_5
2025-09-26T06:19:44.922Z [debug] [gen] Using cached chunk for session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=5
2025-09-26T06:19:44.928Z [debug] [gen] END: session=a7223b3c-c836-4aa5-bba3-4d212d27ff66 step=5, emitted chunk
2025-09-26T06:19:44.928Z [debug] [orchestrator] All steps completed for session a7223b3c-c836-4aa5-bba3-4d212d27ff66
2025-09-26T06:20:24.840Z [debug] Shutting down server...
2025-09-26T06:20:25.189Z [debug] NEW Plan worker created
2025-09-26T06:20:25.191Z [debug] NEW Gen worker created
2025-09-26T06:20:25.199Z [debug] Backend listening on http://localhost:3001
2025-09-26T06:20:36.170Z [debug] Shutting down server...
2025-09-26T06:21:01.975Z [debug] NEW Plan worker created
2025-09-26T06:21:01.977Z [debug] NEW Gen worker created
2025-09-26T06:21:01.984Z [debug] Backend listening on http://localhost:3001
2025-09-26T06:21:22.952Z [debug] Received request on /api/query {"body":{"query":"Simple test: basic math - addition and multiplication","sessionId":"simple-test-debug"}}
2025-09-26T06:21:22.953Z [debug] [orchestrator] Enqueuing plan for session simple-test-debug
2025-09-26T06:21:22.961Z [debug] [planWorker] Received job: plan id=20
2025-09-26T06:21:22.962Z [debug] [plan] START: session=simple-test-debug query=Simple test: basic math - addition and multiplication
2025-09-26T06:21:22.963Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T06:21:22.987Z [debug] [timeout] Setting 30000ms timeout for planner/gemini
2025-09-26T06:21:36.698Z [debug] [planner] Received response from Gemini in 13735ms
2025-09-26T06:21:36.722Z [error] [plan:failed] id=20 SyntaxError: Expected ',' or '}' after property value in JSON at position 370
2025-09-26T06:22:24.198Z [debug] Shutting down server...
2025-09-26T06:22:24.498Z [debug] NEW Plan worker created
2025-09-26T06:22:24.500Z [debug] NEW Gen worker created
2025-09-26T06:22:24.508Z [debug] Backend listening on http://localhost:3001
2025-09-26T06:22:31.504Z [debug] Shutting down server...
2025-09-26T06:22:37.570Z [debug] NEW Plan worker created
2025-09-26T06:22:37.572Z [debug] NEW Gen worker created
2025-09-26T06:22:37.579Z [debug] Backend listening on http://localhost:3001
2025-09-26T06:22:44.666Z [debug] Received request on /api/query {"body":{"query":"Basic physics - force and motion","sessionId":"debug-test-final"}}
2025-09-26T06:22:44.667Z [debug] [orchestrator] Enqueuing plan for session debug-test-final
2025-09-26T06:22:44.672Z [debug] [planWorker] Received job: plan id=21
2025-09-26T06:22:44.673Z [debug] [plan] START: session=debug-test-final query=Basic physics - force and motion
2025-09-26T06:22:44.674Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T06:22:44.688Z [debug] [timeout] Setting 30000ms timeout for planner/gemini
2025-09-26T06:22:52.759Z [debug] [planner] Received response from Gemini in 8085ms
2025-09-26T06:22:52.762Z [debug] [plan] OK: session=debug-test-final plan received with 5 steps
2025-09-26T06:22:52.764Z [debug] [plan] Enqueuing first step emit: session=debug-test-final stepId=1
2025-09-26T06:22:52.765Z [debug] [plan] END: session=debug-test-final
2025-09-26T06:22:52.767Z [debug] [genWorker] Received job: gen id=86
2025-09-26T06:22:52.767Z [debug] [gen] START: session=debug-test-final step=1 tag=part_1
2025-09-26T06:22:52.769Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"Basic physics - force and motion"}
2025-09-26T06:22:52.769Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T06:22:52.769Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:23:10.476Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 3028
2025-09-26T06:23:10.476Z [debug] [codegen] SUCCESS: Generated 22 actions for step 1
2025-09-26T06:23:10.477Z [debug] [gen] OK: codegen completed for session=debug-test-final step=1 in 17708ms
2025-09-26T06:23:10.477Z [debug] compilerRouter: routing to js
2025-09-26T06:23:10.477Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T06:23:10.478Z [debug] [debugger] Chunk is valid with 22 actions, allowing all for rich visualizations
2025-09-26T06:23:10.487Z [debug] [gen] END: session=debug-test-final step=1, emitted chunk
2025-09-26T06:23:10.490Z [debug] [genWorker] Received job: gen id=87
2025-09-26T06:23:10.490Z [debug] [gen] START: session=debug-test-final step=2 tag=part_2
2025-09-26T06:23:10.493Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Basic physics - force and motion"}
2025-09-26T06:23:10.493Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T06:23:10.493Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:23:30.611Z [debug] Shutting down server...
2025-09-26T06:23:30.931Z [debug] NEW Plan worker created
2025-09-26T06:23:30.933Z [debug] NEW Gen worker created
2025-09-26T06:23:30.940Z [debug] Backend listening on http://localhost:3001
2025-09-26T06:24:05.239Z [debug] Shutting down server...
2025-09-26T06:24:05.545Z [debug] NEW Plan worker created
2025-09-26T06:24:05.547Z [debug] NEW Gen worker created
2025-09-26T06:24:05.555Z [debug] Backend listening on http://localhost:3001
2025-09-26T06:24:10.532Z [debug] [genWorker] Received job: gen id=88
2025-09-26T06:24:10.533Z [debug] [gen] START: session=debug-test-final step=2 tag=part_2
2025-09-26T06:24:10.537Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Basic physics - force and motion"}
2025-09-26T06:24:10.538Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T06:24:10.559Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:24:12.560Z [debug] Shutting down server...
2025-09-26T06:24:18.912Z [debug] NEW Plan worker created
2025-09-26T06:24:18.914Z [debug] NEW Gen worker created
2025-09-26T06:24:18.922Z [debug] Backend listening on http://localhost:3001
2025-09-26T06:24:39.371Z [debug] Received request on /api/query {"body":{"query":"Test JSON debugger: simple math addition","sessionId":"json-debugger-test"}}
2025-09-26T06:24:39.371Z [debug] [orchestrator] Enqueuing plan for session json-debugger-test
2025-09-26T06:24:39.378Z [debug] [planWorker] Received job: plan id=22
2025-09-26T06:24:39.378Z [debug] [plan] START: session=json-debugger-test query=Test JSON debugger: simple math addition
2025-09-26T06:24:39.379Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T06:24:39.394Z [debug] [timeout] Setting 30000ms timeout for planner/gemini
2025-09-26T06:24:45.426Z [debug] [planner] Received response from Gemini in 6047ms
2025-09-26T06:24:45.427Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T06:24:45.430Z [debug] [plan] OK: session=json-debugger-test plan received with 5 steps
2025-09-26T06:24:45.432Z [debug] [plan] Enqueuing first step emit: session=json-debugger-test stepId=1
2025-09-26T06:24:45.433Z [debug] [plan] END: session=json-debugger-test
2025-09-26T06:24:45.435Z [debug] [genWorker] Received job: gen id=89
2025-09-26T06:24:45.436Z [debug] [gen] START: session=json-debugger-test step=1 tag=part_1
2025-09-26T06:24:45.437Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"Test JSON debugger: simple math addition"}
2025-09-26T06:24:45.437Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T06:24:45.437Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:24:48.940Z [debug] [genWorker] Received job: gen id=87
2025-09-26T06:24:48.940Z [debug] [gen] START: session=debug-test-final step=2 tag=part_2
2025-09-26T06:24:48.942Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Basic physics - force and motion"}
2025-09-26T06:24:48.942Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T06:24:48.942Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:25:07.637Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 2925
2025-09-26T06:25:07.637Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T06:25:07.637Z [debug] [codegen] SUCCESS: Generated 27 actions for step 1
2025-09-26T06:25:07.637Z [debug] [gen] OK: codegen completed for session=json-debugger-test step=1 in 22200ms
2025-09-26T06:25:07.638Z [debug] compilerRouter: routing to js
2025-09-26T06:25:07.638Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T06:25:07.638Z [debug] [debugger] Chunk is valid with 27 actions, allowing all for rich visualizations
2025-09-26T06:25:07.646Z [debug] [gen] END: session=json-debugger-test step=1, emitted chunk
2025-09-26T06:25:07.650Z [debug] [genWorker] Received job: gen id=90
2025-09-26T06:25:07.650Z [debug] [gen] START: session=json-debugger-test step=2 tag=part_2
2025-09-26T06:25:07.651Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Test JSON debugger: simple math addition"}
2025-09-26T06:25:07.651Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T06:25:07.652Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:25:16.088Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 3357
2025-09-26T06:25:16.089Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T06:25:16.089Z [debug] [codegen] SUCCESS: Generated 38 actions for step 2
2025-09-26T06:25:16.089Z [debug] [gen] OK: prefetch codegen completed for session=debug-test-final step=2 in 27148ms
2025-09-26T06:25:16.089Z [debug] compilerRouter: routing to js
2025-09-26T06:25:16.089Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T06:25:16.089Z [debug] [debugger] Chunk is valid with 38 actions, allowing all for rich visualizations
2025-09-26T06:25:16.090Z [debug] [gen] Prefetched and cached session=debug-test-final step=2
2025-09-26T06:25:18.942Z [debug] [genWorker] Received job: gen id=88
2025-09-26T06:25:18.942Z [debug] [gen] START: session=debug-test-final step=2 tag=part_2
2025-09-26T06:25:18.943Z [debug] [gen] Using cached chunk for session=debug-test-final step=2
2025-09-26T06:25:18.947Z [debug] [gen] END: session=debug-test-final step=2, emitted chunk
2025-09-26T06:25:18.952Z [debug] [genWorker] Received job: gen id=92
2025-09-26T06:25:18.952Z [debug] [gen] START: session=debug-test-final step=3 tag=part_3
2025-09-26T06:25:18.953Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"Basic physics - force and motion"}
2025-09-26T06:25:18.954Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T06:25:18.954Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:25:19.563Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 1862
2025-09-26T06:25:19.563Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T06:25:19.563Z [debug] [codegen] SUCCESS: Generated 15 actions for step 2
2025-09-26T06:25:19.563Z [debug] [gen] OK: prefetch codegen completed for session=json-debugger-test step=2 in 11912ms
2025-09-26T06:25:19.564Z [debug] compilerRouter: routing to js
2025-09-26T06:25:19.564Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T06:25:19.564Z [debug] [debugger] Chunk is valid with 15 actions, allowing all for rich visualizations
2025-09-26T06:25:19.565Z [debug] [gen] Prefetched and cached session=json-debugger-test step=2
2025-09-26T06:25:31.604Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 1278
2025-09-26T06:25:31.604Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T06:25:31.604Z [debug] [codegen] SUCCESS: Generated 13 actions for step 3
2025-09-26T06:25:31.604Z [debug] [gen] OK: prefetch codegen completed for session=debug-test-final step=3 in 12651ms
2025-09-26T06:25:31.604Z [debug] compilerRouter: routing to js
2025-09-26T06:25:31.604Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T06:25:31.604Z [debug] [debugger] Chunk is valid with 13 actions, allowing all for rich visualizations
2025-09-26T06:25:31.605Z [debug] [gen] Prefetched and cached session=debug-test-final step=3
2025-09-26T06:26:07.743Z [debug] [genWorker] Received job: gen id=91
2025-09-26T06:26:07.743Z [debug] [gen] START: session=json-debugger-test step=2 tag=part_2
2025-09-26T06:26:07.745Z [debug] [gen] Using cached chunk for session=json-debugger-test step=2
2025-09-26T06:26:07.747Z [debug] [gen] END: session=json-debugger-test step=2, emitted chunk
2025-09-26T06:26:07.749Z [debug] [genWorker] Received job: gen id=94
2025-09-26T06:26:07.749Z [debug] [gen] START: session=json-debugger-test step=3 tag=part_3
2025-09-26T06:26:07.751Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"Test JSON debugger: simple math addition"}
2025-09-26T06:26:07.751Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T06:26:07.752Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:26:18.970Z [debug] [genWorker] Received job: gen id=93
2025-09-26T06:26:18.970Z [debug] [gen] START: session=debug-test-final step=3 tag=part_3
2025-09-26T06:26:18.972Z [debug] [gen] Using cached chunk for session=debug-test-final step=3
2025-09-26T06:26:18.975Z [debug] [gen] END: session=debug-test-final step=3, emitted chunk
2025-09-26T06:26:18.979Z [debug] [genWorker] Received job: gen id=96
2025-09-26T06:26:18.980Z [debug] [gen] START: session=debug-test-final step=4 tag=part_4
2025-09-26T06:26:18.981Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"Basic physics - force and motion"}
2025-09-26T06:26:18.981Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T06:26:18.982Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:26:36.452Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 4546
2025-09-26T06:26:36.453Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T06:26:36.453Z [debug] [codegen] SUCCESS: Generated 53 actions for step 3
2025-09-26T06:26:36.453Z [debug] [gen] OK: prefetch codegen completed for session=json-debugger-test step=3 in 28702ms
2025-09-26T06:26:36.453Z [debug] compilerRouter: routing to js
2025-09-26T06:26:36.453Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T06:26:36.453Z [debug] [debugger] Chunk is valid with 53 actions, allowing all for rich visualizations
2025-09-26T06:26:36.454Z [debug] [gen] Prefetched and cached session=json-debugger-test step=3
2025-09-26T06:26:38.636Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 2772
2025-09-26T06:26:38.637Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T06:26:38.637Z [debug] [codegen] SUCCESS: Generated 20 actions for step 4
2025-09-26T06:26:38.637Z [debug] [gen] OK: prefetch codegen completed for session=debug-test-final step=4 in 19656ms
2025-09-26T06:26:38.637Z [debug] compilerRouter: routing to js
2025-09-26T06:26:38.637Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T06:26:38.637Z [debug] [debugger] Chunk is valid with 20 actions, allowing all for rich visualizations
2025-09-26T06:26:38.638Z [debug] [gen] Prefetched and cached session=debug-test-final step=4
2025-09-26T06:27:07.821Z [debug] [genWorker] Received job: gen id=95
2025-09-26T06:27:07.821Z [debug] [gen] START: session=json-debugger-test step=3 tag=part_3
2025-09-26T06:27:07.823Z [debug] [gen] Using cached chunk for session=json-debugger-test step=3
2025-09-26T06:27:07.828Z [debug] [gen] END: session=json-debugger-test step=3, emitted chunk
2025-09-26T06:27:07.830Z [debug] [genWorker] Received job: gen id=98
2025-09-26T06:27:07.830Z [debug] [gen] START: session=json-debugger-test step=4 tag=part_4
2025-09-26T06:27:07.832Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"Test JSON debugger: simple math addition"}
2025-09-26T06:27:07.833Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T06:27:07.833Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:27:18.981Z [debug] [genWorker] Received job: gen id=97
2025-09-26T06:27:18.981Z [debug] [gen] START: session=debug-test-final step=4 tag=part_4
2025-09-26T06:27:18.983Z [debug] [gen] Using cached chunk for session=debug-test-final step=4
2025-09-26T06:27:18.986Z [debug] [gen] END: session=debug-test-final step=4, emitted chunk
2025-09-26T06:27:18.991Z [debug] [genWorker] Received job: gen id=100
2025-09-26T06:27:18.991Z [debug] [gen] START: session=debug-test-final step=5 tag=part_5
2025-09-26T06:27:18.992Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"Basic physics - force and motion"}
2025-09-26T06:27:18.993Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T06:27:18.993Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:27:31.117Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 1835
2025-09-26T06:27:31.118Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T06:27:31.118Z [debug] [codegen] SUCCESS: Generated 20 actions for step 4
2025-09-26T06:27:31.118Z [debug] [gen] OK: prefetch codegen completed for session=json-debugger-test step=4 in 23286ms
2025-09-26T06:27:31.118Z [debug] compilerRouter: routing to js
2025-09-26T06:27:31.118Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T06:27:31.118Z [debug] [debugger] Chunk is valid with 20 actions, allowing all for rich visualizations
2025-09-26T06:27:31.119Z [debug] [gen] Prefetched and cached session=json-debugger-test step=4
2025-09-26T06:27:35.016Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 2902
2025-09-26T06:27:35.016Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T06:27:35.016Z [debug] [codegen] SUCCESS: Generated 24 actions for step 5
2025-09-26T06:27:35.016Z [debug] [gen] OK: prefetch codegen completed for session=debug-test-final step=5 in 16024ms
2025-09-26T06:27:35.016Z [debug] compilerRouter: routing to js
2025-09-26T06:27:35.016Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T06:27:35.017Z [debug] [debugger] Chunk is valid with 24 actions, allowing all for rich visualizations
2025-09-26T06:27:35.017Z [debug] [gen] Prefetched and cached session=debug-test-final step=5
2025-09-26T06:28:07.894Z [debug] [genWorker] Received job: gen id=99
2025-09-26T06:28:07.895Z [debug] [gen] START: session=json-debugger-test step=4 tag=part_4
2025-09-26T06:28:07.897Z [debug] [gen] Using cached chunk for session=json-debugger-test step=4
2025-09-26T06:28:07.900Z [debug] [gen] END: session=json-debugger-test step=4, emitted chunk
2025-09-26T06:28:07.902Z [debug] [genWorker] Received job: gen id=102
2025-09-26T06:28:07.902Z [debug] [gen] START: session=json-debugger-test step=5 tag=part_5
2025-09-26T06:28:07.904Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"Test JSON debugger: simple math addition"}
2025-09-26T06:28:07.905Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T06:28:07.905Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:28:18.991Z [debug] [genWorker] Received job: gen id=101
2025-09-26T06:28:18.992Z [debug] [gen] START: session=debug-test-final step=5 tag=part_5
2025-09-26T06:28:18.993Z [debug] [gen] Using cached chunk for session=debug-test-final step=5
2025-09-26T06:28:18.997Z [debug] [gen] END: session=debug-test-final step=5, emitted chunk
2025-09-26T06:28:18.997Z [debug] [orchestrator] All steps completed for session debug-test-final
2025-09-26T06:28:20.175Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 2390
2025-09-26T06:28:20.175Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T06:28:20.175Z [debug] [codegen] SUCCESS: Generated 25 actions for step 5
2025-09-26T06:28:20.175Z [debug] [gen] OK: prefetch codegen completed for session=json-debugger-test step=5 in 12271ms
2025-09-26T06:28:20.175Z [debug] compilerRouter: routing to js
2025-09-26T06:28:20.175Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T06:28:20.176Z [debug] [debugger] Chunk is valid with 25 actions, allowing all for rich visualizations
2025-09-26T06:28:20.177Z [debug] [gen] Prefetched and cached session=json-debugger-test step=5
2025-09-26T06:29:07.971Z [debug] [genWorker] Received job: gen id=103
2025-09-26T06:29:07.971Z [debug] [gen] START: session=json-debugger-test step=5 tag=part_5
2025-09-26T06:29:07.973Z [debug] [gen] Using cached chunk for session=json-debugger-test step=5
2025-09-26T06:29:07.974Z [debug] [gen] END: session=json-debugger-test step=5, emitted chunk
2025-09-26T06:29:07.974Z [debug] [orchestrator] All steps completed for session json-debugger-test
2025-09-26T06:32:24.881Z [debug] Shutting down server...
2025-09-26T06:32:42.445Z [debug] NEW Plan worker created
2025-09-26T06:32:42.448Z [debug] NEW Gen worker created
2025-09-26T06:32:42.456Z [debug] Backend listening on http://localhost:3001
2025-09-26T06:33:20.902Z [debug] Received request on /api/query {"body":{"query":"ANIMATION TEST: Show sine wave function with animated curve drawing and mathematical formulas","sessionId":"animation-test-enhanced"}}
2025-09-26T06:33:20.902Z [debug] [orchestrator] Enqueuing plan for session animation-test-enhanced
2025-09-26T06:33:20.910Z [debug] [planWorker] Received job: plan id=23
2025-09-26T06:33:20.910Z [debug] [plan] START: session=animation-test-enhanced query=ANIMATION TEST: Show sine wave function with animated curve drawing and mathematical formulas
2025-09-26T06:33:20.911Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T06:33:20.927Z [debug] [timeout] Setting 30000ms timeout for planner/gemini
2025-09-26T06:33:30.680Z [debug] [planner] Received response from Gemini in 9769ms
2025-09-26T06:33:30.681Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T06:33:30.684Z [debug] [plan] OK: session=animation-test-enhanced plan received with 5 steps
2025-09-26T06:33:30.685Z [debug] [plan] Enqueuing first step emit: session=animation-test-enhanced stepId=1
2025-09-26T06:33:30.687Z [debug] [plan] END: session=animation-test-enhanced
2025-09-26T06:33:30.692Z [debug] [genWorker] Received job: gen id=104
2025-09-26T06:33:30.692Z [debug] [gen] START: session=animation-test-enhanced step=1 tag=part_1
2025-09-26T06:33:30.697Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"ANIMATION TEST: Show sine wave function with animated curve drawing and mathematical formulas"}
2025-09-26T06:33:30.697Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T06:33:30.698Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:34:00.698Z [debug] [timeout] codegen/gemini timed out after 30000ms
2025-09-26T06:34:00.708Z [error] [gen:failed] id=104 Error: codegen/gemini timeout after 30000ms
2025-09-26T06:41:44.095Z [debug] Shutting down server...
2025-09-26T06:41:44.373Z [debug] NEW Plan worker created
2025-09-26T06:41:44.374Z [debug] NEW Gen worker created
2025-09-26T06:41:44.382Z [debug] Backend listening on http://localhost:3001
2025-09-26T06:42:04.320Z [debug] Shutting down server...
2025-09-26T06:42:04.640Z [debug] NEW Plan worker created
2025-09-26T06:42:04.641Z [debug] NEW Gen worker created
2025-09-26T06:42:04.649Z [debug] Backend listening on http://localhost:3001
2025-09-26T06:42:28.809Z [debug] Shutting down server...
2025-09-26T06:42:29.179Z [debug] NEW Plan worker created
2025-09-26T06:42:29.181Z [debug] NEW Gen worker created
2025-09-26T06:42:29.188Z [debug] Backend listening on http://localhost:3001
2025-09-26T06:42:37.585Z [debug] Shutting down server...
2025-09-26T06:42:37.887Z [debug] NEW Plan worker created
2025-09-26T06:42:37.889Z [debug] NEW Gen worker created
2025-09-26T06:42:37.897Z [debug] Backend listening on http://localhost:3001
2025-09-26T06:44:49.880Z [debug] NEW Plan worker created
2025-09-26T06:45:46.981Z [debug] Received request on /api/query {"body":{"query":"Explain wave mechanics, interference patterns, and quantum wave functions with animations","sessionId":"test-1758869146954-6sd9byzzr"}}
2025-09-26T06:45:46.982Z [debug] [orchestrator] Enqueuing plan for session test-1758869146954-6sd9byzzr
2025-09-26T06:45:46.993Z [debug] [planWorker] Received job: plan id=24
2025-09-26T06:45:46.993Z [debug] [plan] START: session=test-1758869146954-6sd9byzzr query=Explain wave mechanics, interference patterns, and quantum wave functions with animations
2025-09-26T06:45:46.994Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T06:45:47.008Z [debug] [timeout] Setting 30000ms timeout for planner/gemini
2025-09-26T06:45:54.360Z [debug] [planner] Received response from Gemini in 7366ms
2025-09-26T06:45:54.360Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T06:45:54.363Z [debug] [plan] OK: session=test-1758869146954-6sd9byzzr plan received with 5 steps
2025-09-26T06:45:54.365Z [debug] [plan] Enqueuing first step emit: session=test-1758869146954-6sd9byzzr stepId=1
2025-09-26T06:45:54.366Z [debug] [plan] END: session=test-1758869146954-6sd9byzzr
2025-09-26T06:45:54.368Z [debug] [genWorker] Received job: gen id=105
2025-09-26T06:45:54.368Z [debug] [gen] START: session=test-1758869146954-6sd9byzzr step=1 tag=part_1
2025-09-26T06:45:54.369Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"Explain wave mechanics, interference patterns, and quantum wave functions with animations"}
2025-09-26T06:45:54.370Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T06:45:54.370Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:46:19.007Z [debug] Received request on /api/query {"body":{"query":"Show H2O molecular structure, hydrogen bonding, and water properties with visualizations","sessionId":"test-1758869178995-myd3vzs2f"}}
2025-09-26T06:46:19.007Z [debug] [orchestrator] Enqueuing plan for session test-1758869178995-myd3vzs2f
2025-09-26T06:46:19.011Z [debug] [planWorker] Received job: plan id=25
2025-09-26T06:46:19.011Z [debug] [plan] START: session=test-1758869178995-myd3vzs2f query=Show H2O molecular structure, hydrogen bonding, and water properties with visualizations
2025-09-26T06:46:19.012Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T06:46:19.012Z [debug] [timeout] Setting 30000ms timeout for planner/gemini
2025-09-26T06:46:20.889Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 6744
2025-09-26T06:46:20.889Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token 'x', ..."
        [x/100.0, 0"... is not valid JSON
2025-09-26T06:46:20.891Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token 'x', ..."ints": [ [x/100.0, 0"... is not valid JSON
2025-09-26T06:46:20.923Z [error] [gen:failed] id=105 Error: Failed to parse codegen response: SyntaxError: Unexpected token 'x', ..."ints": [ [x/100.0, 0"... is not valid JSON
2025-09-26T06:46:29.092Z [debug] [planner] Received response from Gemini in 10080ms
2025-09-26T06:46:29.093Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T06:46:29.094Z [debug] [plan] OK: session=test-1758869178995-myd3vzs2f plan received with 5 steps
2025-09-26T06:46:29.097Z [debug] [plan] Enqueuing first step emit: session=test-1758869178995-myd3vzs2f stepId=1
2025-09-26T06:46:29.098Z [debug] [plan] END: session=test-1758869178995-myd3vzs2f
2025-09-26T06:46:29.099Z [debug] [genWorker] Received job: gen id=106
2025-09-26T06:46:29.099Z [debug] [gen] START: session=test-1758869178995-myd3vzs2f step=1 tag=part_1
2025-09-26T06:46:29.101Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"Show H2O molecular structure, hydrogen bonding, and water properties with visualizations"}
2025-09-26T06:46:29.101Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T06:46:29.101Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:46:39.141Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 2738
2025-09-26T06:46:39.142Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T06:46:39.142Z [debug] [codegen] SUCCESS: Generated 21 actions for step 1
2025-09-26T06:46:39.142Z [debug] [gen] OK: codegen completed for session=test-1758869178995-myd3vzs2f step=1 in 10042ms
2025-09-26T06:46:39.142Z [debug] compilerRouter: routing to visualization
2025-09-26T06:46:39.146Z [error] [gen:failed] id=106 Error: Invalid compiler type
2025-09-26T06:46:51.042Z [debug] Received request on /api/query {"body":{"query":"Demonstrate derivatives, integrals, and limits with animated graphs and equations","sessionId":"test-1758869211034-dljc5sg1q"}}
2025-09-26T06:46:51.042Z [debug] [orchestrator] Enqueuing plan for session test-1758869211034-dljc5sg1q
2025-09-26T06:46:51.047Z [debug] [planWorker] Received job: plan id=26
2025-09-26T06:46:51.047Z [debug] [plan] START: session=test-1758869211034-dljc5sg1q query=Demonstrate derivatives, integrals, and limits with animated graphs and equations
2025-09-26T06:46:51.047Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T06:46:51.048Z [debug] [timeout] Setting 30000ms timeout for planner/gemini
2025-09-26T06:46:59.681Z [debug] [planner] Received response from Gemini in 8634ms
2025-09-26T06:46:59.682Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T06:46:59.683Z [debug] [plan] OK: session=test-1758869211034-dljc5sg1q plan received with 5 steps
2025-09-26T06:46:59.684Z [debug] [plan] Enqueuing first step emit: session=test-1758869211034-dljc5sg1q stepId=1
2025-09-26T06:46:59.686Z [debug] [plan] END: session=test-1758869211034-dljc5sg1q
2025-09-26T06:46:59.688Z [debug] [genWorker] Received job: gen id=107
2025-09-26T06:46:59.688Z [debug] [gen] START: session=test-1758869211034-dljc5sg1q step=1 tag=part_1
2025-09-26T06:46:59.690Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"Demonstrate derivatives, integrals, and limits with animated graphs and equations"}
2025-09-26T06:46:59.690Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T06:46:59.690Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:47:23.080Z [debug] Received request on /api/query {"body":{"query":"Visualize sorting algorithms, binary search trees, and Big O notation","sessionId":"test-1758869243073-4zdgddc17"}}
2025-09-26T06:47:23.080Z [debug] [orchestrator] Enqueuing plan for session test-1758869243073-4zdgddc17
2025-09-26T06:47:23.083Z [debug] [planWorker] Received job: plan id=27
2025-09-26T06:47:23.084Z [debug] [plan] START: session=test-1758869243073-4zdgddc17 query=Visualize sorting algorithms, binary search trees, and Big O notation
2025-09-26T06:47:23.084Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T06:47:23.084Z [debug] [timeout] Setting 30000ms timeout for planner/gemini
2025-09-26T06:47:29.693Z [debug] [timeout] codegen/gemini timed out after 30000ms
2025-09-26T06:47:29.696Z [error] [gen:failed] id=107 Error: codegen/gemini timeout after 30000ms
2025-09-26T06:47:31.706Z [debug] [planner] Received response from Gemini in 8622ms
2025-09-26T06:47:31.706Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T06:47:31.708Z [debug] [plan] OK: session=test-1758869243073-4zdgddc17 plan received with 5 steps
2025-09-26T06:47:31.711Z [debug] [plan] Enqueuing first step emit: session=test-1758869243073-4zdgddc17 stepId=1
2025-09-26T06:47:31.713Z [debug] [plan] END: session=test-1758869243073-4zdgddc17
2025-09-26T06:47:31.715Z [debug] [genWorker] Received job: gen id=108
2025-09-26T06:47:31.715Z [debug] [gen] START: session=test-1758869243073-4zdgddc17 step=1 tag=part_1
2025-09-26T06:47:31.720Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"Visualize sorting algorithms, binary search trees, and Big O notation"}
2025-09-26T06:47:31.720Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T06:47:31.720Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:47:47.550Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 3521
2025-09-26T06:47:47.550Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T06:47:47.550Z [debug] [codegen] SUCCESS: Generated 30 actions for step 1
2025-09-26T06:47:47.551Z [debug] [gen] OK: codegen completed for session=test-1758869243073-4zdgddc17 step=1 in 15831ms
2025-09-26T06:47:47.551Z [debug] compilerRouter: routing to js
2025-09-26T06:47:47.551Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T06:47:47.551Z [debug] [debugger] Chunk is valid with 30 actions, allowing all for rich visualizations
2025-09-26T06:47:47.559Z [debug] [gen] END: session=test-1758869243073-4zdgddc17 step=1, emitted chunk
2025-09-26T06:47:47.564Z [debug] [genWorker] Received job: gen id=109
2025-09-26T06:47:47.564Z [debug] [gen] START: session=test-1758869243073-4zdgddc17 step=2 tag=part_2
2025-09-26T06:47:47.567Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Visualize sorting algorithms, binary search trees, and Big O notation"}
2025-09-26T06:47:47.567Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T06:47:47.568Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:47:55.118Z [debug] Received request on /api/query {"body":{"query":"Illustrate mitosis and meiosis with step-by-step animations","sessionId":"test-1758869275110-0uauchl09"}}
2025-09-26T06:47:55.118Z [debug] [orchestrator] Enqueuing plan for session test-1758869275110-0uauchl09
2025-09-26T06:47:55.122Z [debug] [planWorker] Received job: plan id=28
2025-09-26T06:47:55.122Z [debug] [plan] START: session=test-1758869275110-0uauchl09 query=Illustrate mitosis and meiosis with step-by-step animations
2025-09-26T06:47:55.123Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T06:47:55.123Z [debug] [timeout] Setting 30000ms timeout for planner/gemini
2025-09-26T06:47:57.619Z [debug] [genWorker] Received job: gen id=110
2025-09-26T06:47:57.619Z [debug] [gen] START: session=test-1758869243073-4zdgddc17 step=2 tag=part_2
2025-09-26T06:47:57.621Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Visualize sorting algorithms, binary search trees, and Big O notation"}
2025-09-26T06:47:57.621Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T06:47:57.621Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:48:01.308Z [debug] [planner] Received response from Gemini in 6185ms
2025-09-26T06:48:01.308Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T06:48:01.309Z [debug] [plan] OK: session=test-1758869275110-0uauchl09 plan received with 5 steps
2025-09-26T06:48:01.311Z [debug] [plan] Enqueuing first step emit: session=test-1758869275110-0uauchl09 stepId=1
2025-09-26T06:48:01.312Z [debug] [plan] END: session=test-1758869275110-0uauchl09
2025-09-26T06:48:17.568Z [debug] [timeout] codegen/gemini timed out after 30000ms
2025-09-26T06:48:17.571Z [error] [gen:failed] id=109 Error: codegen/gemini timeout after 30000ms
2025-09-26T06:48:17.571Z [debug] [genWorker] Received job: gen id=111
2025-09-26T06:48:17.571Z [debug] [gen] START: session=test-1758869275110-0uauchl09 step=1 tag=part_1
2025-09-26T06:48:17.573Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"Illustrate mitosis and meiosis with step-by-step animations"}
2025-09-26T06:48:17.573Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T06:48:17.573Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:48:27.623Z [debug] [timeout] codegen/gemini timed out after 30000ms
2025-09-26T06:48:27.626Z [error] [gen:failed] id=110 Error: codegen/gemini timeout after 30000ms
2025-09-26T06:48:47.574Z [debug] [timeout] codegen/gemini timed out after 30000ms
2025-09-26T06:48:47.576Z [error] [gen:failed] id=111 Error: codegen/gemini timeout after 30000ms
2025-09-26T06:48:55.179Z [debug] Shutting down server...
2025-09-26T06:48:55.462Z [debug] NEW Plan worker created
2025-09-26T06:48:55.464Z [debug] NEW Gen worker created
2025-09-26T06:48:55.472Z [debug] Backend listening on http://localhost:3001
2025-09-26T06:48:55.487Z [debug] NEW Plan worker created
2025-09-26T06:49:05.828Z [debug] Shutting down server...
2025-09-26T06:49:08.758Z [debug] NEW Plan worker created
2025-09-26T06:49:08.759Z [debug] NEW Gen worker created
2025-09-26T06:49:08.767Z [debug] Backend listening on http://localhost:3001
2025-09-26T06:50:57.213Z [debug] Received request on /api/query {"body":{"query":"Explain photosynthesis with chemical equations and diagrams","sessionId":"debug-test-1758869457"}}
2025-09-26T06:50:57.213Z [debug] [orchestrator] Enqueuing plan for session debug-test-1758869457
2025-09-26T06:50:57.220Z [debug] [planWorker] Received job: plan id=29
2025-09-26T06:50:57.221Z [debug] [plan] START: session=debug-test-1758869457 query=Explain photosynthesis with chemical equations and diagrams
2025-09-26T06:50:57.221Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T06:50:57.247Z [debug] [timeout] Setting 30000ms timeout for planner/gemini
2025-09-26T06:51:04.079Z [debug] [planner] Received response from Gemini in 6858ms
2025-09-26T06:51:04.080Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T06:51:04.084Z [debug] [plan] OK: session=debug-test-1758869457 plan received with 5 steps
2025-09-26T06:51:04.087Z [debug] [plan] Enqueuing first step emit: session=debug-test-1758869457 stepId=1
2025-09-26T06:51:04.088Z [debug] [plan] END: session=debug-test-1758869457
2025-09-26T06:51:04.089Z [debug] [genWorker] Received job: gen id=112
2025-09-26T06:51:04.090Z [debug] [gen] START: session=debug-test-1758869457 step=1 tag=part_1
2025-09-26T06:51:04.091Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"Explain photosynthesis with chemical equations and diagrams"}
2025-09-26T06:51:04.091Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T06:51:04.092Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:51:23.395Z [debug] Shutting down server...
2025-09-26T06:51:34.900Z [debug] NEW Plan worker created
2025-09-26T06:51:34.902Z [debug] NEW Gen worker created
2025-09-26T06:51:34.911Z [debug] Backend listening on http://localhost:3001
2025-09-26T06:52:34.937Z [debug] [genWorker] Received job: gen id=112
2025-09-26T06:52:34.937Z [debug] [gen] START: session=debug-test-1758869457 step=1 tag=part_1
2025-09-26T06:52:34.941Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"Explain photosynthesis with chemical equations and diagrams"}
2025-09-26T06:52:34.941Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T06:52:34.970Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:52:58.383Z [debug] Received request on /api/query {"body":{"query":"Teach me about gravity and Newton laws with equations","sessionId":"brutal-test-1758869578327"}}
2025-09-26T06:52:58.384Z [debug] [orchestrator] Enqueuing plan for session brutal-test-1758869578327
2025-09-26T06:52:58.388Z [debug] [planWorker] Received job: plan id=30
2025-09-26T06:52:58.388Z [debug] [plan] START: session=brutal-test-1758869578327 query=Teach me about gravity and Newton laws with equations
2025-09-26T06:52:58.389Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T06:52:58.390Z [debug] [timeout] Setting 30000ms timeout for planner/gemini
2025-09-26T06:53:04.970Z [debug] [timeout] codegen/gemini timed out after 30000ms
2025-09-26T06:53:04.989Z [error] [gen:failed] id=112 Error: codegen/gemini timeout after 30000ms
2025-09-26T06:53:06.521Z [debug] [planner] Received response from Gemini in 8132ms
2025-09-26T06:53:06.522Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T06:53:06.525Z [debug] [plan] OK: session=brutal-test-1758869578327 plan received with 5 steps
2025-09-26T06:53:06.528Z [debug] [plan] Enqueuing first step emit: session=brutal-test-1758869578327 stepId=1
2025-09-26T06:53:06.529Z [debug] [plan] END: session=brutal-test-1758869578327
2025-09-26T06:53:06.531Z [debug] [genWorker] Received job: gen id=113
2025-09-26T06:53:06.531Z [debug] [gen] START: session=brutal-test-1758869578327 step=1 tag=part_1
2025-09-26T06:53:06.532Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"Teach me about gravity and Newton laws with equations"}
2025-09-26T06:53:06.532Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T06:53:06.532Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:53:33.072Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 7631
2025-09-26T06:53:33.072Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T06:53:33.072Z [debug] [codegen] SUCCESS: Generated 61 actions for step 1
2025-09-26T06:53:33.073Z [debug] [gen] OK: codegen completed for session=brutal-test-1758869578327 step=1 in 26541ms
2025-09-26T06:53:33.073Z [debug] compilerRouter: routing to js
2025-09-26T06:53:33.073Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T06:53:33.073Z [debug] [debugger] Chunk is valid with 61 actions, allowing all for rich visualizations
2025-09-26T06:53:33.079Z [debug] [gen] END: session=brutal-test-1758869578327 step=1, emitted chunk
2025-09-26T06:53:33.082Z [debug] [genWorker] Received job: gen id=114
2025-09-26T06:53:33.082Z [debug] [gen] START: session=brutal-test-1758869578327 step=2 tag=part_2
2025-09-26T06:53:33.085Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Teach me about gravity and Newton laws with equations"}
2025-09-26T06:53:33.085Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T06:53:33.085Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:53:43.141Z [debug] [genWorker] Received job: gen id=115
2025-09-26T06:53:43.141Z [debug] [gen] START: session=brutal-test-1758869578327 step=2 tag=part_2
2025-09-26T06:53:43.142Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Teach me about gravity and Newton laws with equations"}
2025-09-26T06:53:43.142Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T06:53:43.142Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:53:50.259Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 5942
2025-09-26T06:53:50.259Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T06:53:50.259Z [debug] [codegen] SUCCESS: Generated 43 actions for step 2
2025-09-26T06:53:50.259Z [debug] [gen] OK: prefetch codegen completed for session=brutal-test-1758869578327 step=2 in 17174ms
2025-09-26T06:53:50.259Z [debug] compilerRouter: routing to js
2025-09-26T06:53:50.259Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T06:53:50.259Z [debug] [debugger] Chunk is valid with 43 actions, allowing all for rich visualizations
2025-09-26T06:53:50.260Z [debug] [gen] Prefetched and cached session=brutal-test-1758869578327 step=2
2025-09-26T06:54:13.142Z [debug] [timeout] codegen/gemini timed out after 30000ms
2025-09-26T06:54:13.144Z [error] [gen:failed] id=115 Error: codegen/gemini timeout after 30000ms
2025-09-26T06:54:22.559Z [debug] socket joined session brutal-test-1758869662539
2025-09-26T06:54:22.567Z [debug] Received request on /api/query {"body":{"query":"Teach me about gravity and Newton laws with equations","sessionId":"brutal-test-1758869662539"}}
2025-09-26T06:54:22.567Z [debug] [orchestrator] Enqueuing plan for session brutal-test-1758869662539
2025-09-26T06:54:22.570Z [debug] [planWorker] Received job: plan id=31
2025-09-26T06:54:22.570Z [debug] [plan] START: session=brutal-test-1758869662539 query=Teach me about gravity and Newton laws with equations
2025-09-26T06:54:22.570Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T06:54:22.571Z [debug] [timeout] Setting 30000ms timeout for planner/gemini
2025-09-26T06:54:33.183Z [debug] [planner] Received response from Gemini in 10613ms
2025-09-26T06:54:33.184Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T06:54:33.185Z [debug] [plan] OK: session=brutal-test-1758869662539 plan received with 5 steps
2025-09-26T06:54:33.186Z [debug] [plan] Enqueuing first step emit: session=brutal-test-1758869662539 stepId=1
2025-09-26T06:54:33.187Z [debug] [plan] END: session=brutal-test-1758869662539
2025-09-26T06:54:33.188Z [debug] [genWorker] Received job: gen id=116
2025-09-26T06:54:33.188Z [debug] [gen] START: session=brutal-test-1758869662539 step=1 tag=part_1
2025-09-26T06:54:33.190Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"Teach me about gravity and Newton laws with equations"}
2025-09-26T06:54:33.190Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T06:54:33.191Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:55:03.190Z [debug] [timeout] codegen/gemini timed out after 30000ms
2025-09-26T06:55:03.193Z [error] [gen:failed] id=116 Error: codegen/gemini timeout after 30000ms
2025-09-26T06:56:14.927Z [debug] Shutting down server...
2025-09-26T06:56:15.258Z [debug] NEW Plan worker created
2025-09-26T06:56:15.259Z [debug] NEW Gen worker created
2025-09-26T06:56:15.267Z [debug] Backend listening on http://localhost:3001
2025-09-26T06:56:15.278Z [debug] NEW Plan worker created
2025-09-26T06:56:33.655Z [debug] Shutting down server...
2025-09-26T06:56:33.999Z [debug] NEW Plan worker created
2025-09-26T06:56:34.000Z [debug] NEW Gen worker created
2025-09-26T06:56:34.008Z [debug] Backend listening on http://localhost:3001
2025-09-26T06:56:34.000Z [debug] NEW Plan worker created
2025-09-26T06:56:44.304Z [debug] Shutting down server...
2025-09-26T06:56:47.320Z [debug] NEW Plan worker created
2025-09-26T06:56:47.322Z [debug] NEW Gen worker created
2025-09-26T06:56:47.329Z [debug] Backend listening on http://localhost:3001
2025-09-26T06:57:06.457Z [debug] socket joined session brutal-test-1758869826426
2025-09-26T06:57:06.489Z [debug] Received request on /api/query {"body":{"query":"Teach me about gravity and Newton laws with equations","sessionId":"brutal-test-1758869826426"}}
2025-09-26T06:57:06.489Z [debug] [orchestrator] Enqueuing plan for session brutal-test-1758869826426
2025-09-26T06:57:06.497Z [debug] [planWorker] Received job: plan id=32
2025-09-26T06:57:06.497Z [debug] [plan] START: session=brutal-test-1758869826426 query=Teach me about gravity and Newton laws with equations
2025-09-26T06:57:06.499Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T06:57:06.525Z [debug] [timeout] Setting 30000ms timeout for planner/gemini
2025-09-26T06:57:16.007Z [debug] [planner] Received response from Gemini in 9508ms
2025-09-26T06:57:16.008Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T06:57:16.010Z [debug] [plan] OK: session=brutal-test-1758869826426 plan received with 5 steps
2025-09-26T06:57:16.011Z [debug] [plan] Enqueuing first step emit: session=brutal-test-1758869826426 stepId=1
2025-09-26T06:57:16.013Z [debug] [plan] END: session=brutal-test-1758869826426
2025-09-26T06:57:16.017Z [debug] [genWorker] Received job: gen id=117
2025-09-26T06:57:16.018Z [debug] [gen] START: session=brutal-test-1758869826426 step=1 tag=part_1
2025-09-26T06:57:16.021Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"Teach me about gravity and Newton laws with equations"}
2025-09-26T06:57:16.021Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T06:57:16.022Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:57:46.023Z [debug] [timeout] codegen/gemini timed out after 30000ms
2025-09-26T06:57:46.024Z [error] [gen] Codegen failed for session=brutal-test-1758869826426 step=1: Error: codegen/gemini timeout after 30000ms
2025-09-26T06:57:46.027Z [debug] [gen] END: session=brutal-test-1758869826426 step=1, emitted chunk
2025-09-26T06:57:46.031Z [debug] [genWorker] Received job: gen id=118
2025-09-26T06:57:46.031Z [debug] [gen] START: session=brutal-test-1758869826426 step=2 tag=part_2
2025-09-26T06:57:46.034Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Teach me about gravity and Newton laws with equations"}
2025-09-26T06:57:46.034Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T06:57:46.035Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:57:56.111Z [debug] [genWorker] Received job: gen id=119
2025-09-26T06:57:56.112Z [debug] [gen] START: session=brutal-test-1758869826426 step=2 tag=part_2
2025-09-26T06:57:56.114Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Teach me about gravity and Newton laws with equations"}
2025-09-26T06:57:56.114Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T06:57:56.114Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:58:12.171Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 10203
2025-09-26T06:58:12.172Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T06:58:12.172Z [debug] [codegen] SUCCESS: Generated 83 actions for step 2
2025-09-26T06:58:12.172Z [debug] [gen] OK: prefetch codegen completed for session=brutal-test-1758869826426 step=2 in 26138ms
2025-09-26T06:58:12.173Z [debug] compilerRouter: routing to js
2025-09-26T06:58:12.173Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T06:58:12.173Z [debug] [debugger] Chunk is valid with 83 actions, allowing all for rich visualizations
2025-09-26T06:58:12.174Z [debug] [gen] Prefetched and cached session=brutal-test-1758869826426 step=2
2025-09-26T06:58:26.115Z [debug] [timeout] codegen/gemini timed out after 30000ms
2025-09-26T06:58:26.115Z [error] [gen] Codegen failed for session=brutal-test-1758869826426 step=2: Error: codegen/gemini timeout after 30000ms
2025-09-26T06:58:26.118Z [debug] [gen] END: session=brutal-test-1758869826426 step=2, emitted chunk
2025-09-26T06:58:26.121Z [debug] [genWorker] Received job: gen id=120
2025-09-26T06:58:26.121Z [debug] [gen] START: session=brutal-test-1758869826426 step=3 tag=part_3
2025-09-26T06:58:26.123Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"Teach me about gravity and Newton laws with equations"}
2025-09-26T06:58:26.124Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T06:58:26.124Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:58:29.630Z [debug] Shutting down server...
2025-09-26T06:58:29.897Z [debug] NEW Plan worker created
2025-09-26T06:58:29.899Z [debug] NEW Gen worker created
2025-09-26T06:58:29.907Z [debug] Backend listening on http://localhost:3001
2025-09-26T06:58:29.906Z [debug] NEW Plan worker created
2025-09-26T06:58:29.924Z [debug] NEW Plan worker created
2025-09-26T06:58:36.169Z [debug] [genWorker] Received job: gen id=121
2025-09-26T06:58:36.170Z [debug] [gen] START: session=brutal-test-1758869826426 step=3 tag=part_3
2025-09-26T06:58:36.173Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"Teach me about gravity and Newton laws with equations"}
2025-09-26T06:58:36.174Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T06:58:36.192Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:58:47.110Z [debug] Shutting down server...
2025-09-26T06:58:50.089Z [debug] NEW Plan worker created
2025-09-26T06:58:50.090Z [debug] NEW Gen worker created
2025-09-26T06:58:50.098Z [debug] Backend listening on http://localhost:3001
2025-09-26T06:59:20.121Z [debug] [genWorker] Received job: gen id=121
2025-09-26T06:59:20.122Z [debug] [gen] START: session=brutal-test-1758869826426 step=3 tag=part_3
2025-09-26T06:59:20.123Z [debug] [genWorker] Received job: gen id=120
2025-09-26T06:59:20.123Z [debug] [gen] START: session=brutal-test-1758869826426 step=3 tag=part_3
2025-09-26T06:59:20.127Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"Teach me about gravity and Newton laws with equations"}
2025-09-26T06:59:20.127Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T06:59:20.155Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:59:20.189Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"Teach me about gravity and Newton laws with equations"}
2025-09-26T06:59:20.189Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T06:59:20.189Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:59:46.482Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 4515
2025-09-26T06:59:46.483Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T06:59:46.483Z [debug] [codegen] SUCCESS: Generated 34 actions for step 3
2025-09-26T06:59:46.483Z [debug] [gen] OK: codegen completed for session=brutal-test-1758869826426 step=3 in 26357ms
2025-09-26T06:59:46.483Z [debug] compilerRouter: routing to js
2025-09-26T06:59:46.484Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T06:59:46.484Z [debug] [debugger] Chunk is valid with 34 actions, allowing all for rich visualizations
2025-09-26T06:59:46.489Z [debug] [gen] EMITTING to room: brutal-test-1758869826426 with 34 actions
2025-09-26T06:59:46.490Z [debug] [gen] END: session=brutal-test-1758869826426 step=3, emitted chunk
2025-09-26T06:59:46.496Z [debug] [genWorker] Received job: gen id=122
2025-09-26T06:59:46.496Z [debug] [gen] START: session=brutal-test-1758869826426 step=4 tag=part_4
2025-09-26T06:59:46.496Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"Teach me about gravity and Newton laws with equations"}
2025-09-26T06:59:46.497Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T06:59:46.497Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T06:59:50.190Z [debug] [timeout] codegen/gemini timed out after 30000ms
2025-09-26T06:59:50.207Z [error] [gen:failed] id=120 Error: codegen/gemini timeout after 30000ms
2025-09-26T06:59:56.563Z [debug] [genWorker] Received job: gen id=123
2025-09-26T06:59:56.563Z [debug] [gen] START: session=brutal-test-1758869826426 step=4 tag=part_4
2025-09-26T06:59:56.565Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"Teach me about gravity and Newton laws with equations"}
2025-09-26T06:59:56.565Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T06:59:56.565Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T07:00:16.497Z [debug] [timeout] codegen/gemini timed out after 30000ms
2025-09-26T07:00:16.500Z [error] [gen:failed] id=122 Error: codegen/gemini timeout after 30000ms
2025-09-26T07:00:26.566Z [debug] [timeout] codegen/gemini timed out after 30000ms
2025-09-26T07:00:26.566Z [error] [gen] Codegen failed for session=brutal-test-1758869826426 step=4: Error: codegen/gemini timeout after 30000ms
2025-09-26T07:00:26.567Z [debug] [gen] EMITTING to room: brutal-test-1758869826426 with 3 actions
2025-09-26T07:00:26.568Z [debug] [gen] END: session=brutal-test-1758869826426 step=4, emitted chunk
2025-09-26T07:00:26.571Z [debug] [genWorker] Received job: gen id=124
2025-09-26T07:00:26.571Z [debug] [gen] START: session=brutal-test-1758869826426 step=5 tag=part_5
2025-09-26T07:00:26.573Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"Teach me about gravity and Newton laws with equations"}
2025-09-26T07:00:26.574Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T07:00:26.574Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T07:00:36.612Z [debug] [genWorker] Received job: gen id=125
2025-09-26T07:00:36.612Z [debug] [gen] START: session=brutal-test-1758869826426 step=5 tag=part_5
2025-09-26T07:00:36.614Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"Teach me about gravity and Newton laws with equations"}
2025-09-26T07:00:36.614Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T07:00:36.614Z [debug] [timeout] Setting 30000ms timeout for codegen/gemini
2025-09-26T07:00:43.732Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 5604
2025-09-26T07:00:43.733Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:00:43.733Z [debug] [codegen] SUCCESS: Generated 45 actions for step 5
2025-09-26T07:00:43.733Z [debug] [gen] OK: prefetch codegen completed for session=brutal-test-1758869826426 step=5 in 17160ms
2025-09-26T07:00:43.733Z [debug] compilerRouter: routing to js
2025-09-26T07:00:43.733Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T07:00:43.733Z [debug] [debugger] Chunk is valid with 45 actions, allowing all for rich visualizations
2025-09-26T07:00:43.734Z [debug] [gen] Prefetched and cached session=brutal-test-1758869826426 step=5
2025-09-26T07:00:51.220Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 5302
2025-09-26T07:00:51.220Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:00:51.221Z [debug] [codegen] SUCCESS: Generated 36 actions for step 5
2025-09-26T07:00:51.221Z [debug] [gen] OK: codegen completed for session=brutal-test-1758869826426 step=5 in 14607ms
2025-09-26T07:00:51.221Z [debug] compilerRouter: routing to js
2025-09-26T07:00:51.221Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T07:00:51.221Z [debug] [debugger] Chunk is valid with 36 actions, allowing all for rich visualizations
2025-09-26T07:00:51.224Z [debug] [gen] EMITTING to room: brutal-test-1758869826426 with 36 actions
2025-09-26T07:00:51.225Z [debug] [gen] END: session=brutal-test-1758869826426 step=5, emitted chunk
2025-09-26T07:00:51.225Z [debug] [orchestrator] All steps completed for session brutal-test-1758869826426
2025-09-26T07:13:17.243Z [debug] Shutting down server...
2025-09-26T07:27:21.678Z [debug] NEW Plan worker created
2025-09-26T07:27:21.680Z [debug] NEW Gen worker created
2025-09-26T07:27:21.688Z [debug] Backend listening on http://localhost:3001
2025-09-26T07:27:21.680Z [debug] NEW Plan worker created
2025-09-26T07:27:21.685Z [debug] NEW Plan worker created
2025-09-26T07:27:21.711Z [debug] NEW Plan worker created
2025-09-26T07:27:41.434Z [debug] Shutting down server...
2025-09-26T07:27:41.697Z [debug] NEW Plan worker created
2025-09-26T07:27:41.699Z [debug] NEW Gen worker created
2025-09-26T07:27:41.707Z [debug] Backend listening on http://localhost:3001
2025-09-26T07:27:41.699Z [debug] NEW Plan worker created
2025-09-26T07:27:41.716Z [debug] NEW Plan worker created
2025-09-26T07:27:41.750Z [debug] NEW Plan worker created
2025-09-26T07:28:25.698Z [debug] NEW Plan worker created
2025-09-26T07:28:25.700Z [debug] NEW Gen worker created
2025-09-26T07:28:25.707Z [debug] Backend listening on http://localhost:3001
2025-09-26T07:29:12.505Z [debug] socket joined session simple-1758871752475
2025-09-26T07:29:13.012Z [debug] Received request on /api/query {"body":{"query":"What is 2+2","sessionId":"simple-1758871752475"}}
2025-09-26T07:29:13.013Z [debug] [orchestrator] Enqueuing plan for session simple-1758871752475
2025-09-26T07:29:13.024Z [debug] [planWorker] Received job: plan id=33
2025-09-26T07:29:13.024Z [debug] [plan] START: session=simple-1758871752475 query=What is 2+2
2025-09-26T07:29:13.026Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T07:29:13.049Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T07:29:27.635Z [debug] [planner] Received response from Gemini in 14609ms
2025-09-26T07:29:27.636Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T07:29:27.642Z [debug] [plan] OK: session=simple-1758871752475 plan received with 5 steps
2025-09-26T07:29:27.645Z [debug] [plan] Enqueuing first step emit: session=simple-1758871752475 stepId=1
2025-09-26T07:29:27.647Z [debug] [plan] END: session=simple-1758871752475
2025-09-26T07:29:27.649Z [debug] [genWorker] Received job: gen id=126
2025-09-26T07:29:27.649Z [debug] [gen] START: session=simple-1758871752475 step=1 tag=introduction_to_addition
2025-09-26T07:29:27.653Z [debug] [codegen] START: stepId=1 tag=introduction_to_addition {"params":{},"query":"What is 2+2"}
2025-09-26T07:29:27.653Z [debug] [codegen] Sending prompt to Gemini for tag=introduction_to_addition
2025-09-26T07:29:27.653Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:29:48.031Z [debug] [codegen] Received response from Gemini for tag=introduction_to_addition, length: 2355
2025-09-26T07:29:48.032Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:29:48.032Z [debug] [codegen] SUCCESS: Generated 3 actions for step 1
2025-09-26T07:29:48.032Z [debug] [gen] OK: codegen completed for session=simple-1758871752475 step=1 in 20380ms
2025-09-26T07:29:48.032Z [debug] compilerRouter: routing to js
2025-09-26T07:29:48.033Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T07:29:48.033Z [debug] [debugger] Chunk is valid with 3 actions, allowing all for rich visualizations
2025-09-26T07:29:48.037Z [debug] [gen] EMITTING to room: simple-1758871752475 with 3 actions
2025-09-26T07:29:48.038Z [debug] [gen] END: session=simple-1758871752475 step=1, emitted chunk
2025-09-26T07:29:48.042Z [debug] [genWorker] Received job: gen id=127
2025-09-26T07:29:48.042Z [debug] [gen] START: session=simple-1758871752475 step=2 tag=identifying_operands
2025-09-26T07:29:48.047Z [debug] [codegen] START: stepId=2 tag=identifying_operands {"params":{},"query":"What is 2+2"}
2025-09-26T07:29:48.047Z [debug] [codegen] Sending prompt to Gemini for tag=identifying_operands
2025-09-26T07:29:48.047Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:29:58.065Z [debug] [genWorker] Received job: gen id=128
2025-09-26T07:29:58.065Z [debug] [gen] START: session=simple-1758871752475 step=2 tag=identifying_operands
2025-09-26T07:29:58.067Z [debug] [codegen] START: stepId=2 tag=identifying_operands {"params":{},"query":"What is 2+2"}
2025-09-26T07:29:58.067Z [debug] [codegen] Sending prompt to Gemini for tag=identifying_operands
2025-09-26T07:29:58.067Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:30:00.643Z [debug] Received request on /api/query {"body":{"query":"test","sessionId":"test-123"}}
2025-09-26T07:30:00.643Z [debug] [orchestrator] Enqueuing plan for session test-123
2025-09-26T07:30:00.647Z [debug] [planWorker] Received job: plan id=34
2025-09-26T07:30:00.647Z [debug] [plan] START: session=test-123 query=test
2025-09-26T07:30:00.647Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T07:30:00.647Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T07:30:14.634Z [debug] [planner] Received response from Gemini in 13987ms
2025-09-26T07:30:14.635Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T07:30:14.636Z [debug] [plan] OK: session=test-123 plan received with 5 steps
2025-09-26T07:30:14.637Z [debug] [plan] Enqueuing first step emit: session=test-123 stepId=1
2025-09-26T07:30:14.638Z [debug] [plan] END: session=test-123
2025-09-26T07:30:24.811Z [debug] [codegen] Received response from Gemini for tag=identifying_operands, length: 1189
2025-09-26T07:30:24.812Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:30:24.812Z [debug] [codegen] SUCCESS: Generated 9 actions for step 2
2025-09-26T07:30:24.812Z [debug] [gen] OK: codegen completed for session=simple-1758871752475 step=2 in 26745ms
2025-09-26T07:30:24.812Z [debug] compilerRouter: routing to js
2025-09-26T07:30:24.812Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T07:30:24.812Z [debug] [debugger] Chunk is valid with 9 actions, allowing all for rich visualizations
2025-09-26T07:30:24.815Z [debug] [gen] EMITTING to room: simple-1758871752475 with 9 actions
2025-09-26T07:30:24.815Z [debug] [gen] END: session=simple-1758871752475 step=2, emitted chunk
2025-09-26T07:30:24.820Z [debug] [genWorker] Received job: gen id=129
2025-09-26T07:30:24.820Z [debug] [gen] START: session=test-123 step=1 tag=intro_concepts
2025-09-26T07:30:24.821Z [debug] [codegen] START: stepId=1 tag=intro_concepts {"params":{},"query":"test"}
2025-09-26T07:30:24.821Z [debug] [codegen] Sending prompt to Gemini for tag=intro_concepts
2025-09-26T07:30:24.822Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:30:26.322Z [debug] [codegen] Received response from Gemini for tag=identifying_operands, length: 2216
2025-09-26T07:30:26.322Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."s": [
    // --- Vis"... is not valid JSON
2025-09-26T07:30:26.323Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."tions": [ // --- Vis"... is not valid JSON
2025-09-26T07:30:26.365Z [error] [gen:failed] id=127 Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."tions": [ // --- Vis"... is not valid JSON
2025-09-26T07:30:26.366Z [debug] [genWorker] Received job: gen id=130
2025-09-26T07:30:26.366Z [debug] [gen] START: session=simple-1758871752475 step=3 tag=visualization_of_combination
2025-09-26T07:30:26.367Z [debug] [codegen] START: stepId=3 tag=visualization_of_combination {"params":{},"query":"What is 2+2"}
2025-09-26T07:30:26.367Z [debug] [codegen] Sending prompt to Gemini for tag=visualization_of_combination
2025-09-26T07:30:26.367Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:30:40.703Z [debug] [codegen] Received response from Gemini for tag=intro_concepts, length: 2134
2025-09-26T07:30:40.703Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:30:40.703Z [debug] [codegen] SUCCESS: Generated 16 actions for step 1
2025-09-26T07:30:40.703Z [debug] [gen] OK: codegen completed for session=test-123 step=1 in 15882ms
2025-09-26T07:30:40.703Z [debug] compilerRouter: routing to js
2025-09-26T07:30:40.703Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T07:30:40.703Z [debug] [debugger] Chunk is valid with 16 actions, allowing all for rich visualizations
2025-09-26T07:30:40.706Z [debug] [gen] EMITTING to room: test-123 with 16 actions
2025-09-26T07:30:40.706Z [debug] [gen] END: session=test-123 step=1, emitted chunk
2025-09-26T07:30:40.711Z [debug] [genWorker] Received job: gen id=132
2025-09-26T07:30:40.711Z [debug] [gen] START: session=test-123 step=2 tag=unit_testing_jest
2025-09-26T07:30:40.713Z [debug] [codegen] START: stepId=2 tag=unit_testing_jest {"params":{},"query":"test"}
2025-09-26T07:30:40.713Z [debug] [codegen] Sending prompt to Gemini for tag=unit_testing_jest
2025-09-26T07:30:40.714Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:30:51.792Z [debug] [codegen] Received response from Gemini for tag=visualization_of_combination, length: 2718
2025-09-26T07:30:51.793Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."
    
    // Action "... is not valid JSON
2025-09-26T07:30:51.793Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ...": 1000 }, // Action "... is not valid JSON
2025-09-26T07:30:51.795Z [error] [gen:failed] id=130 Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ...": 1000 }, // Action "... is not valid JSON
2025-09-26T07:30:51.796Z [debug] [genWorker] Received job: gen id=131
2025-09-26T07:30:51.796Z [debug] [gen] START: session=simple-1758871752475 step=3 tag=visualization_of_combination
2025-09-26T07:30:51.797Z [debug] [codegen] START: stepId=3 tag=visualization_of_combination {"params":{},"query":"What is 2+2"}
2025-09-26T07:30:51.797Z [debug] [codegen] Sending prompt to Gemini for tag=visualization_of_combination
2025-09-26T07:30:51.798Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:30:52.375Z [debug] Received request on /api/query {"body":{"query":"hello","sessionId":"diag-1758871852369"}}
2025-09-26T07:30:52.376Z [debug] [orchestrator] Enqueuing plan for session diag-1758871852369
2025-09-26T07:30:52.378Z [debug] [planWorker] Received job: plan id=35
2025-09-26T07:30:52.378Z [debug] [plan] START: session=diag-1758871852369 query=hello
2025-09-26T07:30:52.378Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T07:30:52.378Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T07:31:03.466Z [debug] [planner] Received response from Gemini in 11088ms
2025-09-26T07:31:03.466Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T07:31:03.467Z [debug] [plan] OK: session=diag-1758871852369 plan received with 5 steps
2025-09-26T07:31:03.470Z [debug] [plan] Enqueuing first step emit: session=diag-1758871852369 stepId=1
2025-09-26T07:31:03.472Z [debug] [plan] END: session=diag-1758871852369
2025-09-26T07:31:10.758Z [debug] [codegen] Received response from Gemini for tag=unit_testing_jest, length: 2873
2025-09-26T07:31:10.759Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."s": [
    // Action "... is not valid JSON
2025-09-26T07:31:10.760Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."tions": [ // Action "... is not valid JSON
2025-09-26T07:31:12.203Z [debug] Shutting down server...
2025-09-26T07:31:22.753Z [debug] NEW Plan worker created
2025-09-26T07:31:22.754Z [debug] NEW Gen worker created
2025-09-26T07:31:22.762Z [debug] Backend listening on http://localhost:3001
2025-09-26T07:31:41.947Z [debug] socket joined session simple-1758871901926
2025-09-26T07:31:42.472Z [debug] Received request on /api/query {"body":{"query":"What is 2+2","sessionId":"simple-1758871901926"}}
2025-09-26T07:31:42.472Z [debug] [orchestrator] Enqueuing plan for session simple-1758871901926
2025-09-26T07:31:42.481Z [debug] [planWorker] Received job: plan id=1
2025-09-26T07:31:42.481Z [debug] [plan] START: session=simple-1758871901926 query=What is 2+2
2025-09-26T07:31:42.483Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T07:31:42.518Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T07:31:51.395Z [debug] [planner] Received response from Gemini in 8912ms
2025-09-26T07:31:51.396Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T07:31:51.401Z [debug] [plan] OK: session=simple-1758871901926 plan received with 5 steps
2025-09-26T07:31:51.403Z [debug] [plan] Enqueuing first step emit: session=simple-1758871901926 stepId=1
2025-09-26T07:31:51.405Z [debug] [plan] END: session=simple-1758871901926
2025-09-26T07:31:51.407Z [debug] [genWorker] Received job: gen id=1
2025-09-26T07:31:51.408Z [debug] [gen] START: session=simple-1758871901926 step=1 tag=part_1_intro
2025-09-26T07:31:51.410Z [debug] [codegen] START: stepId=1 tag=part_1_intro {"params":{},"query":"What is 2+2"}
2025-09-26T07:31:51.410Z [debug] [codegen] Sending prompt to Gemini for tag=part_1_intro
2025-09-26T07:31:51.410Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:32:17.992Z [debug] Received request on /api/query {"body":{"query":"hello world","sessionId":"monitor-test"}}
2025-09-26T07:32:17.992Z [debug] [orchestrator] Enqueuing plan for session monitor-test
2025-09-26T07:32:17.995Z [debug] [planWorker] Received job: plan id=2
2025-09-26T07:32:17.996Z [debug] [plan] START: session=monitor-test query=hello world
2025-09-26T07:32:17.996Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T07:32:17.997Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T07:32:27.069Z [debug] [codegen] Received response from Gemini for tag=part_1_intro, length: 4548
2025-09-26T07:32:27.070Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:32:27.070Z [debug] [codegen] SUCCESS: Generated 3 actions for step 1
2025-09-26T07:32:27.070Z [debug] [gen] OK: codegen completed for session=simple-1758871901926 step=1 in 35660ms
2025-09-26T07:32:27.070Z [debug] compilerRouter: routing to concept
2025-09-26T07:32:27.071Z [error] [gen] Codegen failed for session=simple-1758871901926 step=1: Error: Invalid compiler type
2025-09-26T07:32:27.073Z [debug] [gen] EMITTING to room: simple-1758871901926 with 3 actions
2025-09-26T07:32:27.075Z [debug] [gen] END: session=simple-1758871901926 step=1, emitted chunk
2025-09-26T07:32:27.079Z [debug] [genWorker] Received job: gen id=2
2025-09-26T07:32:27.079Z [debug] [gen] START: session=simple-1758871901926 step=2 tag=part_2_operator
2025-09-26T07:32:27.082Z [debug] [codegen] START: stepId=2 tag=part_2_operator {"params":{},"query":"What is 2+2"}
2025-09-26T07:32:27.083Z [debug] [codegen] Sending prompt to Gemini for tag=part_2_operator
2025-09-26T07:32:27.083Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:32:28.667Z [debug] [planner] Received response from Gemini in 10671ms
2025-09-26T07:32:28.668Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T07:32:28.669Z [debug] [plan] OK: session=monitor-test plan received with 5 steps
2025-09-26T07:32:28.670Z [debug] [plan] Enqueuing first step emit: session=monitor-test stepId=1
2025-09-26T07:32:28.672Z [debug] [plan] END: session=monitor-test
2025-09-26T07:32:28.674Z [debug] [genWorker] Received job: gen id=4
2025-09-26T07:32:28.674Z [debug] [gen] START: session=monitor-test step=1 tag=part_1
2025-09-26T07:32:28.676Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"hello world"}
2025-09-26T07:32:28.676Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T07:32:28.677Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:32:44.236Z [debug] Shutting down server...
2025-09-26T07:32:44.509Z [debug] NEW Plan worker created
2025-09-26T07:32:44.511Z [debug] NEW Gen worker created
2025-09-26T07:32:44.518Z [debug] Backend listening on http://localhost:3001
2025-09-26T07:32:44.536Z [debug] [genWorker] Received job: gen id=3
2025-09-26T07:32:44.536Z [debug] [gen] START: session=simple-1758871901926 step=2 tag=part_2_operator
2025-09-26T07:32:44.538Z [debug] [codegen] START: stepId=2 tag=part_2_operator {"params":{},"query":"What is 2+2"}
2025-09-26T07:32:44.538Z [debug] [codegen] Sending prompt to Gemini for tag=part_2_operator
2025-09-26T07:32:44.549Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:32:44.591Z [debug] NEW Plan worker created
2025-09-26T07:32:55.162Z [debug] Shutting down server...
2025-09-26T07:32:55.430Z [debug] NEW Plan worker created
2025-09-26T07:32:55.432Z [debug] NEW Gen worker created
2025-09-26T07:32:55.439Z [debug] Backend listening on http://localhost:3001
2025-09-26T07:32:55.448Z [debug] NEW Plan worker created
2025-09-26T07:33:05.469Z [debug] Shutting down server...
2025-09-26T07:33:08.480Z [debug] NEW Plan worker created
2025-09-26T07:33:08.482Z [debug] NEW Gen worker created
2025-09-26T07:33:08.490Z [debug] Backend listening on http://localhost:3001
2025-09-26T07:33:29.681Z [debug] Received request on /api/query {"body":{"query":"simple test","sessionId":"debug-123"}}
2025-09-26T07:33:29.682Z [debug] [orchestrator] Enqueuing plan for session debug-123
2025-09-26T07:33:29.687Z [debug] [orchestrator] Plan job added with id 3 for session debug-123
2025-09-26T07:33:29.691Z [debug] [planWorker] Received job: plan id=3
2025-09-26T07:33:29.692Z [debug] [plan] START: session=debug-123 query=simple test
2025-09-26T07:33:29.694Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T07:33:29.724Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T07:33:38.511Z [debug] [genWorker] Received job: gen id=4
2025-09-26T07:33:38.512Z [debug] [gen] START: session=monitor-test step=1 tag=part_1
2025-09-26T07:33:38.512Z [debug] [genWorker] Received job: gen id=3
2025-09-26T07:33:38.513Z [debug] [gen] START: session=simple-1758871901926 step=2 tag=part_2_operator
2025-09-26T07:33:38.519Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"hello world"}
2025-09-26T07:33:38.520Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T07:33:38.521Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:33:38.525Z [debug] [codegen] START: stepId=2 tag=part_2_operator {"params":{},"query":"What is 2+2"}
2025-09-26T07:33:38.525Z [debug] [codegen] Sending prompt to Gemini for tag=part_2_operator
2025-09-26T07:33:38.526Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:33:39.318Z [debug] [planner] Received response from Gemini in 9624ms
2025-09-26T07:33:39.319Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T07:33:39.325Z [debug] [plan] OK: session=debug-123 plan received with 5 steps
2025-09-26T07:33:39.328Z [debug] [plan] Enqueuing first step emit: session=debug-123 stepId=1
2025-09-26T07:33:39.331Z [debug] [plan] END: session=debug-123
2025-09-26T07:33:58.034Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 2662
2025-09-26T07:33:58.034Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:33:58.034Z [debug] [codegen] SUCCESS: Generated 16 actions for step 1
2025-09-26T07:33:58.034Z [debug] [gen] OK: codegen completed for session=monitor-test step=1 in 19515ms
2025-09-26T07:33:58.035Z [debug] compilerRouter: routing to js
2025-09-26T07:33:58.035Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T07:33:58.035Z [debug] [debugger] Chunk is valid with 16 actions, allowing all for rich visualizations
2025-09-26T07:33:58.040Z [debug] [gen] EMITTING to room: monitor-test with 16 actions
2025-09-26T07:33:58.043Z [debug] [gen] END: session=monitor-test step=1, emitted chunk
2025-09-26T07:33:58.048Z [debug] [genWorker] Received job: gen id=2
2025-09-26T07:33:58.048Z [debug] [gen] START: session=simple-1758871901926 step=2 tag=part_2_operator
2025-09-26T07:33:58.049Z [debug] [codegen] START: stepId=2 tag=part_2_operator {"params":{},"query":"What is 2+2"}
2025-09-26T07:33:58.049Z [debug] [codegen] Sending prompt to Gemini for tag=part_2_operator
2025-09-26T07:33:58.050Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:34:15.450Z [debug] [codegen] Received response from Gemini for tag=part_2_operator, length: 2358
2025-09-26T07:34:15.451Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:34:15.451Z [debug] [codegen] SUCCESS: Generated 16 actions for step 2
2025-09-26T07:34:15.451Z [debug] [gen] OK: codegen completed for session=simple-1758871901926 step=2 in 36926ms
2025-09-26T07:34:15.451Z [debug] compilerRouter: routing to concept
2025-09-26T07:34:15.451Z [error] [gen] Codegen failed for session=simple-1758871901926 step=2: Error: Invalid compiler type
2025-09-26T07:34:15.453Z [debug] [gen] EMITTING to room: simple-1758871901926 with 3 actions
2025-09-26T07:34:15.453Z [debug] [gen] END: session=simple-1758871901926 step=2, emitted chunk
2025-09-26T07:34:15.458Z [debug] [genWorker] Received job: gen id=5
2025-09-26T07:34:15.458Z [debug] [gen] START: session=debug-123 step=1 tag=part_1
2025-09-26T07:34:15.459Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"simple test"}
2025-09-26T07:34:15.459Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T07:34:15.459Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:34:21.181Z [debug] [codegen] Received response from Gemini for tag=part_2_operator, length: 2254
2025-09-26T07:34:21.182Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:34:21.182Z [debug] [codegen] SUCCESS: Generated 19 actions for step 2
2025-09-26T07:34:21.182Z [debug] [gen] OK: prefetch codegen completed for session=simple-1758871901926 step=2 in 23133ms
2025-09-26T07:34:21.182Z [debug] compilerRouter: routing to concept
2025-09-26T07:34:21.215Z [error] [gen:failed] id=2 Error: Invalid compiler type
2025-09-26T07:34:21.216Z [debug] [genWorker] Received job: gen id=6
2025-09-26T07:34:21.216Z [debug] [gen] START: session=monitor-test step=2 tag=part_2
2025-09-26T07:34:21.218Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"hello world"}
2025-09-26T07:34:21.218Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T07:34:21.218Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:34:23.117Z [debug] Shutting down server...
2025-09-26T07:34:23.367Z [debug] NEW Plan worker created
2025-09-26T07:34:23.368Z [debug] NEW Gen worker created
2025-09-26T07:34:23.376Z [debug] Backend listening on http://localhost:3001
2025-09-26T07:34:23.395Z [debug] [genWorker] Received job: gen id=8
2025-09-26T07:34:23.395Z [debug] [gen] START: session=simple-1758871901926 step=3 tag=part_3_calculation
2025-09-26T07:34:23.395Z [debug] [genWorker] Received job: gen id=7
2025-09-26T07:34:23.395Z [debug] [gen] START: session=monitor-test step=2 tag=part_2
2025-09-26T07:34:23.397Z [debug] [codegen] START: stepId=3 tag=part_3_calculation {"params":{},"query":"What is 2+2"}
2025-09-26T07:34:23.400Z [debug] NEW Plan worker created
2025-09-26T07:34:23.397Z [debug] [codegen] Sending prompt to Gemini for tag=part_3_calculation
2025-09-26T07:34:23.408Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:34:23.439Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"hello world"}
2025-09-26T07:34:23.439Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T07:34:23.439Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:34:23.452Z [debug] NEW Plan worker created
2025-09-26T07:34:36.235Z [debug] [codegen] Received response from Gemini for tag=part_3_calculation, length: 1247
2025-09-26T07:34:36.236Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:34:36.236Z [debug] [codegen] SUCCESS: Generated 11 actions for step 3
2025-09-26T07:34:36.236Z [debug] [gen] OK: prefetch codegen completed for session=simple-1758871901926 step=3 in 12840ms
2025-09-26T07:34:36.236Z [debug] compilerRouter: routing to concept
2025-09-26T07:34:36.275Z [error] [gen:failed] id=8 Error: Invalid compiler type
2025-09-26T07:34:36.276Z [debug] [genWorker] Received job: gen id=9
2025-09-26T07:34:36.276Z [debug] [gen] START: session=simple-1758871901926 step=3 tag=part_3_calculation
2025-09-26T07:34:36.277Z [debug] [codegen] START: stepId=3 tag=part_3_calculation {"params":{},"query":"What is 2+2"}
2025-09-26T07:34:36.277Z [debug] [codegen] Sending prompt to Gemini for tag=part_3_calculation
2025-09-26T07:34:36.277Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:34:44.392Z [debug] [codegen] Received response from Gemini for tag=part_3_calculation, length: 1187
2025-09-26T07:34:44.392Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:34:44.393Z [debug] [codegen] SUCCESS: Generated 11 actions for step 3
2025-09-26T07:34:44.393Z [debug] [gen] OK: codegen completed for session=simple-1758871901926 step=3 in 8116ms
2025-09-26T07:34:44.393Z [debug] compilerRouter: routing to concept
2025-09-26T07:34:44.393Z [error] [gen] Codegen failed for session=simple-1758871901926 step=3: Error: Invalid compiler type
2025-09-26T07:34:44.400Z [debug] [gen] EMITTING to room: simple-1758871901926 with 3 actions
2025-09-26T07:34:44.402Z [debug] [gen] END: session=simple-1758871901926 step=3, emitted chunk
2025-09-26T07:34:44.409Z [debug] [genWorker] Received job: gen id=10
2025-09-26T07:34:44.410Z [debug] [gen] START: session=simple-1758871901926 step=4 tag=part_4_practice
2025-09-26T07:34:44.411Z [debug] [codegen] START: stepId=4 tag=part_4_practice {"params":{},"query":"What is 2+2"}
2025-09-26T07:34:44.411Z [debug] [codegen] Sending prompt to Gemini for tag=part_4_practice
2025-09-26T07:34:44.411Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:34:44.713Z [debug] Shutting down server...
2025-09-26T07:34:47.755Z [debug] NEW Plan worker created
2025-09-26T07:34:47.757Z [debug] NEW Gen worker created
2025-09-26T07:34:47.764Z [debug] Backend listening on http://localhost:3001
2025-09-26T07:34:54.480Z [debug] [genWorker] Received job: gen id=11
2025-09-26T07:34:54.481Z [debug] [gen] START: session=simple-1758871901926 step=4 tag=part_4_practice
2025-09-26T07:34:54.485Z [debug] [codegen] START: stepId=4 tag=part_4_practice {"params":{},"query":"What is 2+2"}
2025-09-26T07:34:54.486Z [debug] [codegen] Sending prompt to Gemini for tag=part_4_practice
2025-09-26T07:34:54.507Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:34:57.287Z [debug] socket joined session simple-1758872097257
2025-09-26T07:34:57.803Z [debug] Received request on /api/query {"body":{"query":"What is 2+2","sessionId":"simple-1758872097257"}}
2025-09-26T07:34:57.804Z [debug] [orchestrator] Enqueuing plan for session simple-1758872097257
2025-09-26T07:34:57.809Z [debug] [orchestrator] Plan job added with id 4 for session simple-1758872097257
2025-09-26T07:34:57.811Z [debug] [planWorker] Received job: plan id=4
2025-09-26T07:34:57.811Z [debug] [plan] START: session=simple-1758872097257 query=What is 2+2
2025-09-26T07:34:57.812Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T07:34:57.812Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T07:35:04.995Z [debug] [planner] Received response from Gemini in 7183ms
2025-09-26T07:35:04.996Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T07:35:04.999Z [debug] [plan] OK: session=simple-1758872097257 plan received with 5 steps
2025-09-26T07:35:05.001Z [debug] [plan] Enqueuing first step emit: session=simple-1758872097257 stepId=1
2025-09-26T07:35:05.002Z [debug] [plan] END: session=simple-1758872097257
2025-09-26T07:35:05.004Z [debug] [genWorker] Received job: gen id=12
2025-09-26T07:35:05.005Z [debug] [gen] START: session=simple-1758872097257 step=1 tag=part_1
2025-09-26T07:35:05.006Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"What is 2+2"}
2025-09-26T07:35:05.006Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T07:35:05.006Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:35:16.607Z [debug] [codegen] Received response from Gemini for tag=part_4_practice, length: 775
2025-09-26T07:35:16.607Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:35:16.608Z [debug] [codegen] SUCCESS: Generated 7 actions for step 4
2025-09-26T07:35:16.608Z [debug] [gen] OK: codegen completed for session=simple-1758871901926 step=4 in 22123ms
2025-09-26T07:35:16.608Z [debug] compilerRouter: routing to concept
2025-09-26T07:35:16.608Z [error] [gen] Codegen failed for session=simple-1758871901926 step=4: Error: Invalid compiler type
2025-09-26T07:35:16.610Z [debug] [gen] EMITTING to room: simple-1758871901926 with 3 actions
2025-09-26T07:35:16.611Z [debug] [gen] END: session=simple-1758871901926 step=4, emitted chunk
2025-09-26T07:35:16.617Z [debug] [genWorker] Received job: gen id=13
2025-09-26T07:35:16.617Z [debug] [gen] START: session=simple-1758871901926 step=5 tag=part_5_summary
2025-09-26T07:35:16.619Z [debug] [codegen] START: stepId=5 tag=part_5_summary {"params":{},"query":"What is 2+2"}
2025-09-26T07:35:16.619Z [debug] [codegen] Sending prompt to Gemini for tag=part_5_summary
2025-09-26T07:35:16.619Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:35:37.200Z [debug] [codegen] Received response from Gemini for tag=part_5_summary, length: 1315
2025-09-26T07:35:37.201Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:35:37.201Z [debug] [codegen] SUCCESS: Generated 3 actions for step 5
2025-09-26T07:35:37.201Z [debug] [gen] OK: prefetch codegen completed for session=simple-1758871901926 step=5 in 20582ms
2025-09-26T07:35:37.201Z [debug] compilerRouter: routing to concept
2025-09-26T07:35:37.239Z [error] [gen:failed] id=13 Error: Invalid compiler type
2025-09-26T07:35:37.239Z [debug] [genWorker] Received job: gen id=10
2025-09-26T07:35:37.239Z [debug] [gen] START: session=simple-1758871901926 step=4 tag=part_4_practice
2025-09-26T07:35:37.240Z [debug] [codegen] START: stepId=4 tag=part_4_practice {"params":{},"query":"What is 2+2"}
2025-09-26T07:35:37.240Z [debug] [codegen] Sending prompt to Gemini for tag=part_4_practice
2025-09-26T07:35:37.240Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:35:41.462Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 1875
2025-09-26T07:35:41.463Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:35:41.463Z [debug] [codegen] SUCCESS: Generated 11 actions for step 1
2025-09-26T07:35:41.463Z [debug] [gen] OK: codegen completed for session=simple-1758872097257 step=1 in 36457ms
2025-09-26T07:35:41.463Z [debug] compilerRouter: routing to js
2025-09-26T07:35:41.463Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T07:35:41.464Z [debug] [debugger] Chunk is valid with 11 actions, allowing all for rich visualizations
2025-09-26T07:35:41.467Z [debug] [gen] EMITTING to room: simple-1758872097257 with 11 actions
2025-09-26T07:35:41.468Z [debug] [gen] END: session=simple-1758872097257 step=1, emitted chunk
2025-09-26T07:35:41.472Z [debug] [genWorker] Received job: gen id=7
2025-09-26T07:35:41.472Z [debug] [gen] START: session=monitor-test step=2 tag=part_2
2025-09-26T07:35:41.474Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"hello world"}
2025-09-26T07:35:41.474Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T07:35:41.474Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:35:48.935Z [debug] Shutting down server...
2025-09-26T07:36:00.906Z [debug] NEW Plan worker created
2025-09-26T07:36:00.908Z [debug] NEW Gen worker created
2025-09-26T07:36:00.915Z [debug] Backend listening on http://localhost:3001
2025-09-26T07:36:12.060Z [debug] socket joined session simple-1758872172023
2025-09-26T07:36:12.571Z [debug] Received request on /api/query {"body":{"query":"What is 2+2","sessionId":"simple-1758872172023"}}
2025-09-26T07:36:12.572Z [debug] [orchestrator] Enqueuing plan for session simple-1758872172023
2025-09-26T07:36:12.576Z [debug] [orchestrator] Plan job added with id 1 for session simple-1758872172023
2025-09-26T07:36:12.579Z [debug] [planWorker] Received job: plan id=1
2025-09-26T07:36:12.579Z [debug] [plan] START: session=simple-1758872172023 query=What is 2+2
2025-09-26T07:36:12.581Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T07:36:12.600Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T07:36:23.071Z [debug] [planner] Received response from Gemini in 10490ms
2025-09-26T07:36:23.072Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T07:36:23.075Z [debug] [plan] OK: session=simple-1758872172023 plan received with 5 steps
2025-09-26T07:36:23.076Z [debug] [plan] Enqueuing first step emit: session=simple-1758872172023 stepId=1
2025-09-26T07:36:23.078Z [debug] [plan] END: session=simple-1758872172023
2025-09-26T07:36:23.082Z [debug] [genWorker] Received job: gen id=1
2025-09-26T07:36:23.082Z [debug] [gen] START: session=simple-1758872172023 step=1 tag=part_1
2025-09-26T07:36:23.087Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"What is 2+2"}
2025-09-26T07:36:23.087Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T07:36:23.088Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:36:47.227Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 1937
2025-09-26T07:36:47.228Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:36:47.228Z [debug] [codegen] SUCCESS: Generated 16 actions for step 1
2025-09-26T07:36:47.228Z [debug] [gen] OK: codegen completed for session=simple-1758872172023 step=1 in 24142ms
2025-09-26T07:36:47.228Z [debug] compilerRouter: routing to js
2025-09-26T07:36:47.228Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T07:36:47.229Z [debug] [debugger] Chunk is valid with 16 actions, allowing all for rich visualizations
2025-09-26T07:36:47.233Z [debug] [gen] EMITTING to room: simple-1758872172023 with 16 actions
2025-09-26T07:36:47.235Z [debug] [gen] END: session=simple-1758872172023 step=1, emitted chunk
2025-09-26T07:36:47.239Z [debug] [genWorker] Received job: gen id=2
2025-09-26T07:36:47.239Z [debug] [gen] START: session=simple-1758872172023 step=2 tag=part_2
2025-09-26T07:36:47.242Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"What is 2+2"}
2025-09-26T07:36:47.242Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T07:36:47.242Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:36:57.244Z [debug] [genWorker] Received job: gen id=3
2025-09-26T07:36:57.244Z [debug] [gen] START: session=simple-1758872172023 step=2 tag=part_2
2025-09-26T07:36:57.246Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"What is 2+2"}
2025-09-26T07:36:57.246Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T07:36:57.246Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:37:00.012Z [debug] Shutting down server...
2025-09-26T07:37:00.283Z [debug] NEW Plan worker created
2025-09-26T07:37:00.284Z [debug] NEW Gen worker created
2025-09-26T07:37:00.293Z [debug] Backend listening on http://localhost:3001
2025-09-26T07:37:00.296Z [debug] NEW Plan worker created
2025-09-26T07:37:00.296Z [debug] NEW Plan worker created
2025-09-26T07:37:00.318Z [debug] NEW Plan worker created
2025-09-26T07:37:00.323Z [debug] NEW Plan worker created
2025-09-26T07:37:10.804Z [debug] Shutting down server...
2025-09-26T07:37:11.093Z [debug] NEW Plan worker created
2025-09-26T07:37:11.094Z [debug] NEW Gen worker created
2025-09-26T07:37:11.102Z [debug] Backend listening on http://localhost:3001
2025-09-26T07:37:11.112Z [debug] NEW Plan worker created
2025-09-26T07:37:11.097Z [debug] NEW Plan worker created
2025-09-26T07:37:11.117Z [debug] NEW Plan worker created
2025-09-26T07:37:11.128Z [debug] NEW Plan worker created
2025-09-26T07:37:29.289Z [debug] Shutting down server...
2025-09-26T07:37:47.917Z [debug] NEW Plan worker created
2025-09-26T07:37:47.919Z [debug] NEW Gen worker created
2025-09-26T07:37:47.927Z [debug] Backend listening on http://localhost:3001
2025-09-26T07:37:59.563Z [debug] socket joined session simple-1758872279534
2025-09-26T07:38:00.079Z [debug] Received request on /api/query {"body":{"query":"What is 2+2","sessionId":"simple-1758872279534"}}
2025-09-26T07:38:00.079Z [debug] [orchestrator] Enqueuing plan for session simple-1758872279534
2025-09-26T07:38:00.083Z [debug] [orchestrator] Plan job added with id 1 for session simple-1758872279534
2025-09-26T07:38:00.085Z [debug] [planWorker] Received job: plan id=1
2025-09-26T07:38:00.086Z [debug] [plan] START: session=simple-1758872279534 query=What is 2+2
2025-09-26T07:38:00.086Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T07:38:00.101Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T07:38:11.751Z [debug] [planner] Received response from Gemini in 11665ms
2025-09-26T07:38:11.751Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T07:38:11.753Z [debug] [plan] OK: session=simple-1758872279534 plan received with 5 steps
2025-09-26T07:38:11.754Z [debug] [plan] Enqueuing first step emit: session=simple-1758872279534 stepId=1
2025-09-26T07:38:11.756Z [debug] [plan] END: session=simple-1758872279534
2025-09-26T07:38:11.757Z [debug] [genWorker] Received job: gen id=1
2025-09-26T07:38:11.757Z [debug] [gen] START: session=simple-1758872279534 step=1 tag=part_1
2025-09-26T07:38:11.759Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"What is 2+2"}
2025-09-26T07:38:11.759Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T07:38:11.759Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:38:37.427Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 1920
2025-09-26T07:38:37.428Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:38:37.428Z [debug] [codegen] SUCCESS: Generated 14 actions for step 1
2025-09-26T07:38:37.428Z [debug] [gen] OK: codegen completed for session=simple-1758872279534 step=1 in 25669ms
2025-09-26T07:38:37.428Z [debug] compilerRouter: routing to js
2025-09-26T07:38:37.428Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T07:38:37.429Z [debug] [debugger] Chunk is valid with 14 actions, allowing all for rich visualizations
2025-09-26T07:38:37.432Z [debug] [gen] EMITTING to room: simple-1758872279534 with 14 actions
2025-09-26T07:38:37.435Z [debug] [gen] END: session=simple-1758872279534 step=1, emitted chunk
2025-09-26T07:38:37.438Z [debug] [genWorker] Received job: gen id=2
2025-09-26T07:38:37.438Z [debug] [gen] START: session=simple-1758872279534 step=2 tag=part_2
2025-09-26T07:38:37.441Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"What is 2+2"}
2025-09-26T07:38:37.441Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T07:38:37.441Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:38:47.442Z [debug] [genWorker] Received job: gen id=3
2025-09-26T07:38:47.442Z [debug] [gen] START: session=simple-1758872279534 step=2 tag=part_2
2025-09-26T07:38:47.444Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"What is 2+2"}
2025-09-26T07:38:47.444Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T07:38:47.444Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:38:51.981Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 544
2025-09-26T07:38:51.981Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:38:51.981Z [debug] [codegen] SUCCESS: Generated 5 actions for step 2
2025-09-26T07:38:51.982Z [debug] [gen] OK: prefetch codegen completed for session=simple-1758872279534 step=2 in 14540ms
2025-09-26T07:38:51.982Z [debug] compilerRouter: routing to js
2025-09-26T07:38:51.982Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T07:38:51.982Z [debug] [debugger] Chunk is valid with 5 actions, allowing all for rich visualizations
2025-09-26T07:38:51.982Z [debug] [gen] Prefetched and cached session=simple-1758872279534 step=2
2025-09-26T07:39:06.668Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 651
2025-09-26T07:39:06.668Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:39:06.668Z [debug] [codegen] SUCCESS: Generated 3 actions for step 2
2025-09-26T07:39:06.668Z [debug] [gen] OK: codegen completed for session=simple-1758872279534 step=2 in 19224ms
2025-09-26T07:39:06.668Z [debug] compilerRouter: routing to js
2025-09-26T07:39:06.668Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T07:39:06.668Z [debug] [debugger] Chunk is valid with 3 actions, allowing all for rich visualizations
2025-09-26T07:39:06.671Z [debug] [gen] EMITTING to room: simple-1758872279534 with 3 actions
2025-09-26T07:39:06.672Z [debug] [gen] END: session=simple-1758872279534 step=2, emitted chunk
2025-09-26T07:39:06.674Z [debug] [genWorker] Received job: gen id=4
2025-09-26T07:39:06.674Z [debug] [gen] START: session=simple-1758872279534 step=3 tag=part_3
2025-09-26T07:39:06.676Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"What is 2+2"}
2025-09-26T07:39:06.676Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T07:39:06.677Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:39:16.736Z [debug] [genWorker] Received job: gen id=5
2025-09-26T07:39:16.737Z [debug] [gen] START: session=simple-1758872279534 step=3 tag=part_3
2025-09-26T07:39:16.739Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"What is 2+2"}
2025-09-26T07:39:16.739Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T07:39:16.739Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:39:45.435Z [debug] Shutting down server...
2025-09-26T07:39:45.705Z [debug] NEW Plan worker created
2025-09-26T07:39:45.706Z [debug] NEW Gen worker created
2025-09-26T07:39:45.714Z [debug] Backend listening on http://localhost:3001
2025-09-26T07:39:45.704Z [debug] NEW Plan worker created
2025-09-26T07:39:45.731Z [debug] NEW Plan worker created
2025-09-26T07:39:45.737Z [debug] NEW Plan worker created
2025-09-26T07:39:45.724Z [debug] NEW Plan worker created
2025-09-26T07:39:45.758Z [debug] NEW Plan worker created
2025-09-26T07:40:07.703Z [debug] Shutting down server...
2025-09-26T07:40:10.713Z [debug] NEW Plan worker created
2025-09-26T07:40:10.715Z [debug] NEW Gen worker created
2025-09-26T07:40:10.722Z [debug] Backend listening on http://localhost:3001
2025-09-26T07:40:40.747Z [debug] [genWorker] Received job: gen id=5
2025-09-26T07:40:40.748Z [debug] [gen] START: session=simple-1758872279534 step=3 tag=part_3
2025-09-26T07:40:40.749Z [debug] [genWorker] Received job: gen id=4
2025-09-26T07:40:40.749Z [debug] [gen] START: session=simple-1758872279534 step=3 tag=part_3
2025-09-26T07:40:40.753Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"What is 2+2"}
2025-09-26T07:40:40.754Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T07:40:40.788Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:40:40.841Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"What is 2+2"}
2025-09-26T07:40:40.842Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T07:40:40.842Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:41:15.674Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 3332
2025-09-26T07:41:15.674Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:41:15.675Z [debug] [codegen] SUCCESS: Generated 3 actions for step 3
2025-09-26T07:41:15.675Z [debug] [gen] OK: prefetch codegen completed for session=simple-1758872279534 step=3 in 34834ms
2025-09-26T07:41:15.675Z [debug] compilerRouter: routing to js
2025-09-26T07:41:15.675Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T07:41:15.675Z [debug] [debugger] Chunk is valid with 3 actions, allowing all for rich visualizations
2025-09-26T07:41:15.677Z [debug] [gen] Prefetched and cached session=simple-1758872279534 step=3
2025-09-26T07:41:40.789Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T07:41:40.789Z [error] [gen] Codegen failed for session=simple-1758872279534 step=3: Error: codegen/gemini timeout after 60000ms
2025-09-26T07:41:40.795Z [debug] [gen] EMITTING to room: simple-1758872279534 with 3 actions
2025-09-26T07:41:40.798Z [debug] [gen] END: session=simple-1758872279534 step=3, emitted chunk
2025-09-26T07:41:40.805Z [debug] [genWorker] Received job: gen id=6
2025-09-26T07:41:40.805Z [debug] [gen] START: session=simple-1758872279534 step=4 tag=part_4
2025-09-26T07:41:40.808Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"What is 2+2"}
2025-09-26T07:41:40.809Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T07:41:40.809Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:41:50.831Z [debug] [genWorker] Received job: gen id=7
2025-09-26T07:41:50.831Z [debug] [gen] START: session=simple-1758872279534 step=4 tag=part_4
2025-09-26T07:41:50.832Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"What is 2+2"}
2025-09-26T07:41:50.833Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T07:41:50.833Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:42:03.462Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 1791
2025-09-26T07:42:03.462Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:42:03.462Z [debug] [codegen] SUCCESS: Generated 15 actions for step 4
2025-09-26T07:42:03.462Z [debug] [gen] OK: prefetch codegen completed for session=simple-1758872279534 step=4 in 22654ms
2025-09-26T07:42:03.462Z [debug] compilerRouter: routing to js
2025-09-26T07:42:03.462Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T07:42:03.462Z [debug] [debugger] Chunk is valid with 15 actions, allowing all for rich visualizations
2025-09-26T07:42:03.463Z [debug] [gen] Prefetched and cached session=simple-1758872279534 step=4
2025-09-26T07:42:07.097Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 901
2025-09-26T07:42:07.098Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:42:07.098Z [debug] [codegen] SUCCESS: Generated 7 actions for step 4
2025-09-26T07:42:07.098Z [debug] [gen] OK: codegen completed for session=simple-1758872279534 step=4 in 16266ms
2025-09-26T07:42:07.098Z [debug] compilerRouter: routing to js
2025-09-26T07:42:07.098Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T07:42:07.098Z [debug] [debugger] Chunk is valid with 7 actions, allowing all for rich visualizations
2025-09-26T07:42:07.102Z [debug] [gen] EMITTING to room: simple-1758872279534 with 7 actions
2025-09-26T07:42:07.102Z [debug] [gen] END: session=simple-1758872279534 step=4, emitted chunk
2025-09-26T07:42:07.105Z [debug] [genWorker] Received job: gen id=8
2025-09-26T07:42:07.105Z [debug] [gen] START: session=simple-1758872279534 step=5 tag=part_5
2025-09-26T07:42:07.107Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"What is 2+2"}
2025-09-26T07:42:07.108Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T07:42:07.108Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:42:17.107Z [debug] [genWorker] Received job: gen id=9
2025-09-26T07:42:17.107Z [debug] [gen] START: session=simple-1758872279534 step=5 tag=part_5
2025-09-26T07:42:17.108Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"What is 2+2"}
2025-09-26T07:42:17.108Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T07:42:17.109Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:42:28.708Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 1816
2025-09-26T07:42:28.708Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected non-whitespace character after JSON at position 1020
2025-09-26T07:42:28.709Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected non-whitespace character after JSON at position 726
2025-09-26T07:42:28.757Z [error] [gen:failed] id=8 Error: Failed to parse codegen response: SyntaxError: Unexpected non-whitespace character after JSON at position 726
2025-09-26T07:42:41.018Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 1871
2025-09-26T07:42:41.018Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."5 },

    // Visual "... is not valid JSON
2025-09-26T07:42:41.019Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."": 0.5 }, // Visual "... is not valid JSON
2025-09-26T07:42:41.019Z [error] [gen] Codegen failed for session=simple-1758872279534 step=5: Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."": 0.5 }, // Visual "... is not valid JSON
2025-09-26T07:42:41.020Z [debug] [gen] EMITTING to room: simple-1758872279534 with 3 actions
2025-09-26T07:42:41.020Z [debug] [gen] END: session=simple-1758872279534 step=5, emitted chunk
2025-09-26T07:42:41.020Z [debug] [orchestrator] All steps completed for session simple-1758872279534
2025-09-26T07:50:13.923Z [debug] Shutting down server...
2025-09-26T07:53:15.197Z [debug] NEW Plan worker created
2025-09-26T07:53:15.199Z [debug] NEW Gen worker created
2025-09-26T07:53:15.207Z [debug] Backend listening on http://localhost:3001
2025-09-26T07:53:27.080Z [debug] socket joined session socket-test-1758873207040
2025-09-26T07:53:28.082Z [debug] [test] Emitting test message to room socket-test-1758873207040
2025-09-26T07:53:57.897Z [debug] Shutting down server...
2025-09-26T07:53:58.155Z [debug] NEW Plan worker created
2025-09-26T07:53:58.156Z [debug] NEW Gen worker created
2025-09-26T07:53:58.165Z [debug] Backend listening on http://localhost:3001
2025-09-26T07:53:58.163Z [debug] NEW Plan worker created
2025-09-26T07:53:58.167Z [debug] NEW Plan worker created
2025-09-26T07:53:58.168Z [debug] NEW Plan worker created
2025-09-26T07:53:58.176Z [debug] NEW Plan worker created
2025-09-26T07:53:58.193Z [debug] NEW Plan worker created
2025-09-26T07:53:58.183Z [debug] NEW Plan worker created
2025-09-26T07:53:58.197Z [debug] NEW Plan worker created
2025-09-26T07:54:09.659Z [debug] Shutting down server...
2025-09-26T07:54:12.660Z [debug] NEW Plan worker created
2025-09-26T07:54:12.661Z [debug] NEW Gen worker created
2025-09-26T07:54:12.670Z [debug] Backend listening on http://localhost:3001
2025-09-26T07:54:23.564Z [debug] socket joined session simple-1758873263542
2025-09-26T07:54:24.084Z [debug] Received request on /api/query {"body":{"query":"What is 2+2","sessionId":"simple-1758873263542"}}
2025-09-26T07:54:24.084Z [debug] [orchestrator] Enqueuing plan for session simple-1758873263542
2025-09-26T07:54:24.088Z [debug] [orchestrator] Plan job added with id 2 for session simple-1758873263542
2025-09-26T07:54:24.092Z [debug] [planWorker] Received job: plan id=2
2025-09-26T07:54:24.092Z [debug] [plan] START: session=simple-1758873263542 query=What is 2+2
2025-09-26T07:54:24.094Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T07:54:24.119Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T07:54:24.564Z [debug] [test] Emitting test message to room simple-1758873263542
2025-09-26T07:54:35.994Z [debug] [planner] Received response from Gemini in 11900ms
2025-09-26T07:54:35.995Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T07:54:36.000Z [debug] [plan] OK: session=simple-1758873263542 plan received with 5 steps
2025-09-26T07:54:36.003Z [debug] [plan] Enqueuing first step emit: session=simple-1758873263542 stepId=1
2025-09-26T07:54:36.005Z [debug] [plan] END: session=simple-1758873263542
2025-09-26T07:54:36.010Z [debug] [genWorker] Received job: gen id=10
2025-09-26T07:54:36.010Z [debug] [gen] START: session=simple-1758873263542 step=1 tag=part_1
2025-09-26T07:54:36.013Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"What is 2+2"}
2025-09-26T07:54:36.013Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T07:54:36.014Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:54:59.428Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 1676
2025-09-26T07:54:59.430Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:54:59.430Z [debug] [codegen] SUCCESS: Generated 3 actions for step 1
2025-09-26T07:54:59.430Z [debug] [gen] OK: codegen completed for session=simple-1758873263542 step=1 in 23417ms
2025-09-26T07:54:59.430Z [debug] compilerRouter: routing to js
2025-09-26T07:54:59.430Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T07:54:59.430Z [debug] [debugger] Chunk is valid with 3 actions, allowing all for rich visualizations
2025-09-26T07:54:59.434Z [debug] [gen] EMITTING to room: simple-1758873263542 with 3 actions
2025-09-26T07:54:59.434Z [debug] [gen] Sockets in room simple-1758873263542: 0
2025-09-26T07:54:59.434Z [warn] [gen] No sockets in room simple-1758873263542! Client may have disconnected.
2025-09-26T07:54:59.435Z [debug] [gen] END: session=simple-1758873263542 step=1, emitted chunk
2025-09-26T07:54:59.439Z [debug] [genWorker] Received job: gen id=11
2025-09-26T07:54:59.439Z [debug] [gen] START: session=simple-1758873263542 step=2 tag=part_2
2025-09-26T07:54:59.441Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"What is 2+2"}
2025-09-26T07:54:59.441Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T07:54:59.441Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:55:09.509Z [debug] [genWorker] Received job: gen id=12
2025-09-26T07:55:09.509Z [debug] [gen] START: session=simple-1758873263542 step=2 tag=part_2
2025-09-26T07:55:09.511Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"What is 2+2"}
2025-09-26T07:55:09.511Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T07:55:09.511Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:55:16.046Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 2836
2025-09-26T07:55:16.046Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:55:16.046Z [debug] [codegen] SUCCESS: Generated 21 actions for step 2
2025-09-26T07:55:16.046Z [debug] [gen] OK: prefetch codegen completed for session=simple-1758873263542 step=2 in 16606ms
2025-09-26T07:55:16.047Z [debug] compilerRouter: routing to js
2025-09-26T07:55:16.047Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T07:55:16.047Z [debug] [debugger] Chunk is valid with 21 actions, allowing all for rich visualizations
2025-09-26T07:55:16.048Z [debug] [gen] Prefetched and cached session=simple-1758873263542 step=2
2025-09-26T07:55:41.742Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 1621
2025-09-26T07:55:41.743Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:55:41.743Z [debug] [codegen] SUCCESS: Generated 13 actions for step 2
2025-09-26T07:55:41.743Z [debug] [gen] OK: codegen completed for session=simple-1758873263542 step=2 in 32232ms
2025-09-26T07:55:41.743Z [debug] compilerRouter: routing to js
2025-09-26T07:55:41.743Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T07:55:41.743Z [debug] [debugger] Chunk is valid with 13 actions, allowing all for rich visualizations
2025-09-26T07:55:41.747Z [debug] [gen] EMITTING to room: simple-1758873263542 with 13 actions
2025-09-26T07:55:41.747Z [debug] [gen] Sockets in room simple-1758873263542: 0
2025-09-26T07:55:41.747Z [warn] [gen] No sockets in room simple-1758873263542! Client may have disconnected.
2025-09-26T07:55:41.748Z [debug] [gen] END: session=simple-1758873263542 step=2, emitted chunk
2025-09-26T07:55:41.752Z [debug] [genWorker] Received job: gen id=13
2025-09-26T07:55:41.752Z [debug] [gen] START: session=simple-1758873263542 step=3 tag=part_3
2025-09-26T07:55:41.754Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"What is 2+2"}
2025-09-26T07:55:41.754Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T07:55:41.754Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:55:51.785Z [debug] [genWorker] Received job: gen id=14
2025-09-26T07:55:51.785Z [debug] [gen] START: session=simple-1758873263542 step=3 tag=part_3
2025-09-26T07:55:51.786Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"What is 2+2"}
2025-09-26T07:55:51.786Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T07:55:51.786Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:55:58.180Z [debug] socket joined session simple-1758873358162
2025-09-26T07:55:58.701Z [debug] Received request on /api/query {"body":{"query":"What is 2+2","sessionId":"simple-1758873358162"}}
2025-09-26T07:55:58.701Z [debug] [orchestrator] Enqueuing plan for session simple-1758873358162
2025-09-26T07:55:58.704Z [debug] [orchestrator] Plan job added with id 3 for session simple-1758873358162
2025-09-26T07:55:58.705Z [debug] [planWorker] Received job: plan id=3
2025-09-26T07:55:58.705Z [debug] [plan] START: session=simple-1758873358162 query=What is 2+2
2025-09-26T07:55:58.706Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T07:55:58.706Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T07:55:59.183Z [debug] [test] Emitting test message to room simple-1758873358162
2025-09-26T07:56:07.515Z [debug] [planner] Received response from Gemini in 8809ms
2025-09-26T07:56:07.515Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T07:56:07.516Z [debug] [plan] OK: session=simple-1758873358162 plan received with 5 steps
2025-09-26T07:56:07.518Z [debug] [plan] Enqueuing first step emit: session=simple-1758873358162 stepId=1
2025-09-26T07:56:07.519Z [debug] [plan] END: session=simple-1758873358162
2025-09-26T07:56:08.614Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 636
2025-09-26T07:56:08.614Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:56:08.615Z [debug] [codegen] SUCCESS: Generated 3 actions for step 3
2025-09-26T07:56:08.615Z [debug] [gen] OK: prefetch codegen completed for session=simple-1758873263542 step=3 in 26861ms
2025-09-26T07:56:08.615Z [debug] compilerRouter: routing to js
2025-09-26T07:56:08.615Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T07:56:08.615Z [debug] [debugger] Chunk is valid with 3 actions, allowing all for rich visualizations
2025-09-26T07:56:08.616Z [debug] [gen] Prefetched and cached session=simple-1758873263542 step=3
2025-09-26T07:56:08.617Z [debug] [genWorker] Received job: gen id=15
2025-09-26T07:56:08.617Z [debug] [gen] START: session=simple-1758873358162 step=1 tag=part_1
2025-09-26T07:56:08.618Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"What is 2+2"}
2025-09-26T07:56:08.618Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T07:56:08.619Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:56:18.835Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 1099
2025-09-26T07:56:18.836Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:56:18.836Z [debug] [codegen] SUCCESS: Generated 12 actions for step 3
2025-09-26T07:56:18.836Z [debug] [gen] OK: codegen completed for session=simple-1758873263542 step=3 in 27050ms
2025-09-26T07:56:18.836Z [debug] compilerRouter: routing to js
2025-09-26T07:56:18.836Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T07:56:18.836Z [debug] [debugger] Chunk is valid with 12 actions, allowing all for rich visualizations
2025-09-26T07:56:18.839Z [debug] [gen] EMITTING to room: simple-1758873263542 with 12 actions
2025-09-26T07:56:18.839Z [debug] [gen] Sockets in room simple-1758873263542: 0
2025-09-26T07:56:18.839Z [warn] [gen] No sockets in room simple-1758873263542! Client may have disconnected.
2025-09-26T07:56:18.840Z [debug] [gen] END: session=simple-1758873263542 step=3, emitted chunk
2025-09-26T07:56:18.843Z [debug] [genWorker] Received job: gen id=16
2025-09-26T07:56:18.843Z [debug] [gen] START: session=simple-1758873263542 step=4 tag=part_4
2025-09-26T07:56:18.845Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"What is 2+2"}
2025-09-26T07:56:18.845Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T07:56:18.845Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:56:35.170Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 1674
2025-09-26T07:56:35.171Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:56:35.171Z [debug] [codegen] SUCCESS: Generated 13 actions for step 1
2025-09-26T07:56:35.171Z [debug] [gen] OK: codegen completed for session=simple-1758873358162 step=1 in 26553ms
2025-09-26T07:56:35.171Z [debug] compilerRouter: routing to js
2025-09-26T07:56:35.171Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T07:56:35.171Z [debug] [debugger] Chunk is valid with 13 actions, allowing all for rich visualizations
2025-09-26T07:56:35.174Z [debug] [gen] EMITTING to room: simple-1758873358162 with 13 actions
2025-09-26T07:56:35.174Z [debug] [gen] Sockets in room simple-1758873358162: 0
2025-09-26T07:56:35.174Z [warn] [gen] No sockets in room simple-1758873358162! Client may have disconnected.
2025-09-26T07:56:35.174Z [debug] [gen] END: session=simple-1758873358162 step=1, emitted chunk
2025-09-26T07:56:35.178Z [debug] [genWorker] Received job: gen id=18
2025-09-26T07:56:35.178Z [debug] [gen] START: session=simple-1758873358162 step=2 tag=part_2
2025-09-26T07:56:35.180Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"What is 2+2"}
2025-09-26T07:56:35.180Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T07:56:35.180Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:56:43.205Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 1281
2025-09-26T07:56:43.205Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:56:43.205Z [debug] [codegen] SUCCESS: Generated 11 actions for step 4
2025-09-26T07:56:43.205Z [debug] [gen] OK: prefetch codegen completed for session=simple-1758873263542 step=4 in 24360ms
2025-09-26T07:56:43.205Z [debug] compilerRouter: routing to js
2025-09-26T07:56:43.205Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T07:56:43.206Z [debug] [debugger] Chunk is valid with 11 actions, allowing all for rich visualizations
2025-09-26T07:56:43.206Z [debug] [gen] Prefetched and cached session=simple-1758873263542 step=4
2025-09-26T07:56:43.208Z [debug] [genWorker] Received job: gen id=17
2025-09-26T07:56:43.208Z [debug] [gen] START: session=simple-1758873263542 step=4 tag=part_4
2025-09-26T07:56:43.209Z [debug] [gen] Using cached chunk for session=simple-1758873263542 step=4
2025-09-26T07:56:43.211Z [debug] [gen] EMITTING to room: simple-1758873263542 with 11 actions
2025-09-26T07:56:43.211Z [debug] [gen] Sockets in room simple-1758873263542: 0
2025-09-26T07:56:43.211Z [warn] [gen] No sockets in room simple-1758873263542! Client may have disconnected.
2025-09-26T07:56:43.211Z [debug] [gen] END: session=simple-1758873263542 step=4, emitted chunk
2025-09-26T07:56:43.215Z [debug] [genWorker] Received job: gen id=20
2025-09-26T07:56:43.215Z [debug] [gen] START: session=simple-1758873263542 step=5 tag=part_5
2025-09-26T07:56:43.218Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"What is 2+2"}
2025-09-26T07:56:43.218Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T07:56:43.218Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:56:56.163Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 938
2025-09-26T07:56:56.163Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."s": [
    // Action "... is not valid JSON
2025-09-26T07:56:56.164Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."tions": [ // Action "... is not valid JSON
2025-09-26T07:56:56.206Z [error] [gen:failed] id=18 Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."tions": [ // Action "... is not valid JSON
2025-09-26T07:56:56.206Z [debug] [genWorker] Received job: gen id=19
2025-09-26T07:56:56.206Z [debug] [gen] START: session=simple-1758873358162 step=2 tag=part_2
2025-09-26T07:56:56.208Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"What is 2+2"}
2025-09-26T07:56:56.208Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T07:56:56.208Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:56:58.293Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 762
2025-09-26T07:56:58.294Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:56:58.294Z [debug] [codegen] SUCCESS: Generated 6 actions for step 5
2025-09-26T07:56:58.294Z [debug] [gen] OK: prefetch codegen completed for session=simple-1758873263542 step=5 in 15076ms
2025-09-26T07:56:58.294Z [debug] compilerRouter: routing to js
2025-09-26T07:56:58.295Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T07:56:58.295Z [debug] [debugger] Chunk is valid with 6 actions, allowing all for rich visualizations
2025-09-26T07:56:58.296Z [debug] [gen] Prefetched and cached session=simple-1758873263542 step=5
2025-09-26T07:56:58.298Z [debug] [genWorker] Received job: gen id=21
2025-09-26T07:56:58.298Z [debug] [gen] START: session=simple-1758873263542 step=5 tag=part_5
2025-09-26T07:56:58.303Z [debug] [gen] Using cached chunk for session=simple-1758873263542 step=5
2025-09-26T07:56:58.304Z [debug] [gen] EMITTING to room: simple-1758873263542 with 6 actions
2025-09-26T07:56:58.304Z [debug] [gen] Sockets in room simple-1758873263542: 0
2025-09-26T07:56:58.304Z [warn] [gen] No sockets in room simple-1758873263542! Client may have disconnected.
2025-09-26T07:56:58.304Z [debug] [gen] END: session=simple-1758873263542 step=5, emitted chunk
2025-09-26T07:56:58.304Z [debug] [orchestrator] All steps completed for session simple-1758873263542
2025-09-26T07:57:10.318Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 1216
2025-09-26T07:57:10.318Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T07:57:10.319Z [debug] [codegen] SUCCESS: Generated 8 actions for step 2
2025-09-26T07:57:10.319Z [debug] [gen] OK: codegen completed for session=simple-1758873358162 step=2 in 14112ms
2025-09-26T07:57:10.319Z [debug] compilerRouter: routing to js
2025-09-26T07:57:10.319Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T07:57:10.319Z [debug] [debugger] Chunk is valid with 8 actions, allowing all for rich visualizations
2025-09-26T07:57:10.320Z [debug] [gen] EMITTING to room: simple-1758873358162 with 8 actions
2025-09-26T07:57:10.320Z [debug] [gen] Sockets in room simple-1758873358162: 0
2025-09-26T07:57:10.321Z [warn] [gen] No sockets in room simple-1758873358162! Client may have disconnected.
2025-09-26T07:57:10.321Z [debug] [gen] END: session=simple-1758873358162 step=2, emitted chunk
2025-09-26T07:57:10.323Z [debug] [genWorker] Received job: gen id=22
2025-09-26T07:57:10.324Z [debug] [gen] START: session=simple-1758873358162 step=3 tag=part_3
2025-09-26T07:57:10.326Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"What is 2+2"}
2025-09-26T07:57:10.326Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T07:57:10.327Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:57:20.330Z [debug] [genWorker] Received job: gen id=23
2025-09-26T07:57:20.330Z [debug] [gen] START: session=simple-1758873358162 step=3 tag=part_3
2025-09-26T07:57:20.331Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"What is 2+2"}
2025-09-26T07:57:20.331Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T07:57:20.332Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T07:57:22.216Z [debug] Shutting down server...
2025-09-26T07:57:22.505Z [debug] NEW Plan worker created
2025-09-26T07:57:22.506Z [debug] NEW Gen worker created
2025-09-26T07:57:22.514Z [debug] Backend listening on http://localhost:3001
2025-09-26T07:57:22.508Z [debug] NEW Plan worker created
2025-09-26T07:57:22.509Z [debug] NEW Plan worker created
2025-09-26T07:57:22.510Z [debug] NEW Plan worker created
2025-09-26T07:57:22.517Z [debug] NEW Plan worker created
2025-09-26T07:57:22.521Z [debug] NEW Plan worker created
2025-09-26T07:57:22.523Z [debug] NEW Plan worker created
2025-09-26T07:57:22.529Z [debug] NEW Plan worker created
2025-09-26T07:57:22.518Z [debug] NEW Plan worker created
2025-09-26T07:57:47.235Z [debug] Shutting down server...
2025-09-26T07:58:01.044Z [debug] NEW Plan worker created
2025-09-26T07:58:01.045Z [debug] NEW Gen worker created
2025-09-26T07:58:01.053Z [debug] Backend listening on http://localhost:3001
2025-09-26T08:09:42.663Z [debug] NEW Plan worker created
2025-09-26T08:09:42.666Z [debug] NEW Gen worker created
2025-09-26T08:09:42.676Z [debug] Backend listening on http://localhost:3001
2025-09-26T08:10:01.052Z [debug] socket joined session simple-1758874201017
2025-09-26T08:10:01.582Z [debug] Received request on /api/query {"body":{"query":"What is 2+2","sessionId":"simple-1758874201017"}}
2025-09-26T08:10:01.583Z [debug] [orchestrator] Enqueuing plan for session simple-1758874201017
2025-09-26T08:10:01.592Z [debug] [orchestrator] Plan job added with id 1 for session simple-1758874201017
2025-09-26T08:10:01.600Z [debug] [planWorker] Received job: plan id=1
2025-09-26T08:10:01.600Z [debug] [plan] START: session=simple-1758874201017 query=What is 2+2
2025-09-26T08:10:01.602Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T08:10:01.630Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T08:10:02.054Z [debug] [test] Emitting test message to room simple-1758874201017
2025-09-26T08:10:10.225Z [debug] [planner] Received response from Gemini in 8623ms
2025-09-26T08:10:10.226Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T08:10:10.230Z [debug] [plan] OK: session=simple-1758874201017 plan received with 5 steps
2025-09-26T08:10:10.232Z [debug] [plan] Enqueuing first step emit: session=simple-1758874201017 stepId=1
2025-09-26T08:10:10.234Z [debug] [plan] END: session=simple-1758874201017
2025-09-26T08:10:10.241Z [debug] [genWorker] Received job: gen id=1
2025-09-26T08:10:10.241Z [debug] [gen] START: session=simple-1758874201017 step=1 tag=part_1
2025-09-26T08:10:10.245Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"What is 2+2"}
2025-09-26T08:10:10.246Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T08:10:10.246Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:10:39.698Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 923
2025-09-26T08:10:39.698Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T08:10:39.699Z [debug] [codegen] SUCCESS: Generated 9 actions for step 1
2025-09-26T08:10:39.699Z [debug] [gen] OK: codegen completed for session=simple-1758874201017 step=1 in 29454ms
2025-09-26T08:10:39.699Z [debug] compilerRouter: routing to js
2025-09-26T08:10:39.699Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T08:10:39.699Z [debug] [debugger] Chunk is valid with 9 actions, allowing all for rich visualizations
2025-09-26T08:10:39.704Z [debug] [gen] EMITTING to room: simple-1758874201017 with 9 actions
2025-09-26T08:10:39.705Z [debug] [gen] Sockets in room simple-1758874201017: 0
2025-09-26T08:10:39.705Z [warn] [gen] No sockets in room simple-1758874201017! Trying broadcast.
2025-09-26T08:10:39.705Z [debug] [gen] END: session=simple-1758874201017 step=1, emitted chunk
2025-09-26T08:10:39.711Z [debug] [genWorker] Received job: gen id=2
2025-09-26T08:10:39.711Z [debug] [gen] START: session=simple-1758874201017 step=2 tag=part_2
2025-09-26T08:10:39.715Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"What is 2+2"}
2025-09-26T08:10:39.715Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T08:10:39.716Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:10:49.756Z [debug] [genWorker] Received job: gen id=3
2025-09-26T08:10:49.757Z [debug] [gen] START: session=simple-1758874201017 step=2 tag=part_2
2025-09-26T08:10:49.758Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"What is 2+2"}
2025-09-26T08:10:49.758Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T08:10:49.759Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:10:58.994Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 975
2025-09-26T08:10:58.994Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T08:10:58.994Z [debug] [codegen] SUCCESS: Generated 8 actions for step 2
2025-09-26T08:10:58.994Z [debug] [gen] OK: prefetch codegen completed for session=simple-1758874201017 step=2 in 19279ms
2025-09-26T08:10:58.994Z [debug] compilerRouter: routing to js
2025-09-26T08:10:58.995Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T08:10:58.995Z [debug] [debugger] Chunk is valid with 8 actions, allowing all for rich visualizations
2025-09-26T08:10:58.995Z [debug] [gen] Prefetched and cached session=simple-1758874201017 step=2
2025-09-26T08:11:12.117Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 1830
2025-09-26T08:11:12.118Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T08:11:12.118Z [debug] [codegen] SUCCESS: Generated 13 actions for step 2
2025-09-26T08:11:12.118Z [debug] [gen] OK: codegen completed for session=simple-1758874201017 step=2 in 22360ms
2025-09-26T08:11:12.118Z [debug] compilerRouter: routing to js
2025-09-26T08:11:12.118Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T08:11:12.118Z [debug] [debugger] Chunk is valid with 13 actions, allowing all for rich visualizations
2025-09-26T08:11:12.121Z [debug] [gen] EMITTING to room: simple-1758874201017 with 13 actions
2025-09-26T08:11:12.122Z [debug] [gen] Sockets in room simple-1758874201017: 0
2025-09-26T08:11:12.122Z [warn] [gen] No sockets in room simple-1758874201017! Trying broadcast.
2025-09-26T08:11:12.122Z [debug] [gen] END: session=simple-1758874201017 step=2, emitted chunk
2025-09-26T08:11:12.125Z [debug] [genWorker] Received job: gen id=4
2025-09-26T08:11:12.126Z [debug] [gen] START: session=simple-1758874201017 step=3 tag=part_3
2025-09-26T08:11:12.128Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"What is 2+2"}
2025-09-26T08:11:12.128Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T08:11:12.129Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:11:22.149Z [debug] [genWorker] Received job: gen id=5
2025-09-26T08:11:22.150Z [debug] [gen] START: session=simple-1758874201017 step=3 tag=part_3
2025-09-26T08:11:22.152Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"What is 2+2"}
2025-09-26T08:11:22.153Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T08:11:22.153Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:11:34.270Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 1877
2025-09-26T08:11:34.270Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."  },

    // Action "... is not valid JSON
2025-09-26T08:11:34.271Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."": 0.1 }, // Action "... is not valid JSON
2025-09-26T08:11:34.309Z [error] [gen:failed] id=4 Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."": 0.1 }, // Action "... is not valid JSON
2025-09-26T08:11:36.665Z [debug] socket joined session persist-1758874296646
2025-09-26T08:11:37.668Z [debug] [test] Emitting test message to room persist-1758874296646
2025-09-26T08:11:37.692Z [debug] Received request on /api/query {"body":{"query":"What is 2+2","sessionId":"persist-1758874296646"}}
2025-09-26T08:11:37.693Z [debug] [orchestrator] Enqueuing plan for session persist-1758874296646
2025-09-26T08:11:37.695Z [debug] [orchestrator] Plan job added with id 2 for session persist-1758874296646
2025-09-26T08:11:37.697Z [debug] [planWorker] Received job: plan id=2
2025-09-26T08:11:37.698Z [debug] [plan] START: session=persist-1758874296646 query=What is 2+2
2025-09-26T08:11:37.699Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T08:11:37.699Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T08:11:43.502Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 1894
2025-09-26T08:11:43.502Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T08:11:43.502Z [debug] [codegen] SUCCESS: Generated 15 actions for step 3
2025-09-26T08:11:43.502Z [debug] [gen] OK: codegen completed for session=simple-1758874201017 step=3 in 21350ms
2025-09-26T08:11:43.502Z [debug] compilerRouter: routing to js
2025-09-26T08:11:43.503Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T08:11:43.503Z [debug] [debugger] Chunk is valid with 15 actions, allowing all for rich visualizations
2025-09-26T08:11:43.505Z [debug] [gen] EMITTING to room: simple-1758874201017 with 15 actions
2025-09-26T08:11:43.505Z [debug] [gen] Sockets in room simple-1758874201017: 0
2025-09-26T08:11:43.506Z [warn] [gen] No sockets in room simple-1758874201017! Trying broadcast.
2025-09-26T08:11:43.506Z [debug] [gen] END: session=simple-1758874201017 step=3, emitted chunk
2025-09-26T08:11:43.508Z [debug] [genWorker] Received job: gen id=6
2025-09-26T08:11:43.508Z [debug] [gen] START: session=simple-1758874201017 step=4 tag=part_4
2025-09-26T08:11:43.510Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"What is 2+2"}
2025-09-26T08:11:43.511Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T08:11:43.511Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:11:47.473Z [debug] [planner] Received response from Gemini in 9774ms
2025-09-26T08:11:47.474Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T08:11:47.475Z [debug] [plan] OK: session=persist-1758874296646 plan received with 5 steps
2025-09-26T08:11:47.476Z [debug] [plan] Enqueuing first step emit: session=persist-1758874296646 stepId=1
2025-09-26T08:11:47.478Z [debug] [plan] END: session=persist-1758874296646
2025-09-26T08:11:47.479Z [debug] [genWorker] Received job: gen id=8
2025-09-26T08:11:47.480Z [debug] [gen] START: session=persist-1758874296646 step=1 tag=part_1
2025-09-26T08:11:47.481Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"What is 2+2"}
2025-09-26T08:11:47.481Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T08:11:47.481Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:12:02.073Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 1244
2025-09-26T08:12:02.073Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T08:12:02.073Z [debug] [codegen] SUCCESS: Generated 10 actions for step 1
2025-09-26T08:12:02.073Z [debug] [gen] OK: codegen completed for session=persist-1758874296646 step=1 in 14592ms
2025-09-26T08:12:02.073Z [debug] compilerRouter: routing to js
2025-09-26T08:12:02.073Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T08:12:02.073Z [debug] [debugger] Chunk is valid with 10 actions, allowing all for rich visualizations
2025-09-26T08:12:02.076Z [debug] [gen] EMITTING to room: persist-1758874296646 with 10 actions
2025-09-26T08:12:02.077Z [debug] [gen] Sockets in room persist-1758874296646: 1
2025-09-26T08:12:02.077Z [debug] [gen] Direct emit to socket KW6nNJ7qf_FWQvyFAAAD
2025-09-26T08:12:02.077Z [debug] [gen] END: session=persist-1758874296646 step=1, emitted chunk
2025-09-26T08:12:02.081Z [debug] [genWorker] Received job: gen id=9
2025-09-26T08:12:02.081Z [debug] [gen] START: session=persist-1758874296646 step=2 tag=part_2
2025-09-26T08:12:02.083Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"What is 2+2"}
2025-09-26T08:12:02.083Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T08:12:02.084Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:12:10.351Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 2268
2025-09-26T08:12:10.352Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T08:12:10.352Z [debug] [codegen] SUCCESS: Generated 17 actions for step 4
2025-09-26T08:12:10.352Z [debug] [gen] OK: prefetch codegen completed for session=simple-1758874201017 step=4 in 26842ms
2025-09-26T08:12:10.352Z [debug] compilerRouter: routing to js
2025-09-26T08:12:10.352Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T08:12:10.352Z [debug] [debugger] Chunk is valid with 17 actions, allowing all for rich visualizations
2025-09-26T08:12:10.353Z [debug] [gen] Prefetched and cached session=simple-1758874201017 step=4
2025-09-26T08:12:10.355Z [debug] [genWorker] Received job: gen id=7
2025-09-26T08:12:10.355Z [debug] [gen] START: session=simple-1758874201017 step=4 tag=part_4
2025-09-26T08:12:10.356Z [debug] [gen] Using cached chunk for session=simple-1758874201017 step=4
2025-09-26T08:12:10.357Z [debug] [gen] EMITTING to room: simple-1758874201017 with 17 actions
2025-09-26T08:12:10.357Z [debug] [gen] Sockets in room simple-1758874201017: 0
2025-09-26T08:12:10.357Z [warn] [gen] No sockets in room simple-1758874201017! Trying broadcast.
2025-09-26T08:12:10.358Z [debug] [gen] END: session=simple-1758874201017 step=4, emitted chunk
2025-09-26T08:12:10.360Z [debug] [genWorker] Received job: gen id=11
2025-09-26T08:12:10.360Z [debug] [gen] START: session=simple-1758874201017 step=5 tag=part_5
2025-09-26T08:12:10.361Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"What is 2+2"}
2025-09-26T08:12:10.361Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T08:12:10.362Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:12:12.930Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 1279
2025-09-26T08:12:12.930Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ...".0},

    // Visual "... is not valid JSON
2025-09-26T08:12:12.931Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."n": 1.0}, // Visual "... is not valid JSON
2025-09-26T08:12:12.934Z [error] [gen:failed] id=9 Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."n": 1.0}, // Visual "... is not valid JSON
2025-09-26T08:12:12.934Z [debug] [genWorker] Received job: gen id=10
2025-09-26T08:12:12.934Z [debug] [gen] START: session=persist-1758874296646 step=2 tag=part_2
2025-09-26T08:12:12.936Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"What is 2+2"}
2025-09-26T08:12:12.936Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T08:12:12.937Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:12:29.303Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 891
2025-09-26T08:12:29.303Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."00},

    // Action "... is not valid JSON
2025-09-26T08:12:29.304Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."n": 500}, // Action "... is not valid JSON
2025-09-26T08:12:29.306Z [error] [gen:failed] id=11 Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."n": 500}, // Action "... is not valid JSON
2025-09-26T08:12:29.307Z [debug] [genWorker] Received job: gen id=12
2025-09-26T08:12:29.307Z [debug] [gen] START: session=simple-1758874201017 step=5 tag=part_5
2025-09-26T08:12:29.309Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"What is 2+2"}
2025-09-26T08:12:29.309Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T08:12:29.309Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:12:30.473Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 1397
2025-09-26T08:12:30.473Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T08:12:30.473Z [debug] [codegen] SUCCESS: Generated 13 actions for step 2
2025-09-26T08:12:30.473Z [debug] [gen] OK: codegen completed for session=persist-1758874296646 step=2 in 17537ms
2025-09-26T08:12:30.473Z [debug] compilerRouter: routing to js
2025-09-26T08:12:30.474Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T08:12:30.474Z [debug] [debugger] Chunk is valid with 13 actions, allowing all for rich visualizations
2025-09-26T08:12:30.477Z [debug] [gen] EMITTING to room: persist-1758874296646 with 13 actions
2025-09-26T08:12:30.477Z [debug] [gen] Sockets in room persist-1758874296646: 1
2025-09-26T08:12:30.477Z [debug] [gen] Direct emit to socket KW6nNJ7qf_FWQvyFAAAD
2025-09-26T08:12:30.478Z [debug] [gen] END: session=persist-1758874296646 step=2, emitted chunk
2025-09-26T08:12:30.481Z [debug] [genWorker] Received job: gen id=13
2025-09-26T08:12:30.481Z [debug] [gen] START: session=persist-1758874296646 step=3 tag=part_3
2025-09-26T08:12:30.482Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"What is 2+2"}
2025-09-26T08:12:30.483Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T08:12:30.483Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:12:59.577Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 763
2025-09-26T08:12:59.577Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T08:12:59.578Z [debug] [codegen] SUCCESS: Generated 5 actions for step 5
2025-09-26T08:12:59.578Z [debug] [gen] OK: codegen completed for session=simple-1758874201017 step=5 in 30269ms
2025-09-26T08:12:59.578Z [debug] compilerRouter: routing to js
2025-09-26T08:12:59.578Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T08:12:59.578Z [debug] [debugger] Chunk is valid with 5 actions, allowing all for rich visualizations
2025-09-26T08:12:59.580Z [debug] [gen] EMITTING to room: simple-1758874201017 with 5 actions
2025-09-26T08:12:59.580Z [debug] [gen] Sockets in room simple-1758874201017: 0
2025-09-26T08:12:59.580Z [warn] [gen] No sockets in room simple-1758874201017! Trying broadcast.
2025-09-26T08:12:59.581Z [debug] [gen] END: session=simple-1758874201017 step=5, emitted chunk
2025-09-26T08:12:59.581Z [debug] [orchestrator] All steps completed for session simple-1758874201017
2025-09-26T08:12:59.583Z [debug] [genWorker] Received job: gen id=14
2025-09-26T08:12:59.583Z [debug] [gen] START: session=persist-1758874296646 step=3 tag=part_3
2025-09-26T08:12:59.584Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"What is 2+2"}
2025-09-26T08:12:59.585Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T08:12:59.585Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:13:02.715Z [debug] Shutting down server...
2025-09-26T08:13:03.050Z [debug] NEW Plan worker created
2025-09-26T08:13:03.051Z [debug] NEW Gen worker created
2025-09-26T08:13:03.059Z [debug] Backend listening on http://localhost:3001
2025-09-26T08:13:55.184Z [debug] Shutting down server...
2025-09-26T08:13:58.281Z [debug] NEW Plan worker created
2025-09-26T08:13:58.282Z [debug] NEW Gen worker created
2025-09-26T08:13:58.290Z [debug] Backend listening on http://localhost:3001
2025-09-26T08:14:28.315Z [debug] [genWorker] Received job: gen id=14
2025-09-26T08:14:28.315Z [debug] [gen] START: session=persist-1758874296646 step=3 tag=part_3
2025-09-26T08:14:28.315Z [debug] [genWorker] Received job: gen id=13
2025-09-26T08:14:28.315Z [debug] [gen] START: session=persist-1758874296646 step=3 tag=part_3
2025-09-26T08:14:28.316Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"What is 2+2"}
2025-09-26T08:14:28.317Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T08:14:28.343Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:14:28.409Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"What is 2+2"}
2025-09-26T08:14:28.409Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T08:14:28.409Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:15:08.755Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 1716
2025-09-26T08:15:08.755Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T08:15:08.756Z [debug] [codegen] SUCCESS: Generated 12 actions for step 3
2025-09-26T08:15:08.756Z [debug] [gen] OK: codegen completed for session=persist-1758874296646 step=3 in 40440ms
2025-09-26T08:15:08.756Z [debug] compilerRouter: routing to js
2025-09-26T08:15:08.757Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T08:15:08.757Z [debug] [debugger] Chunk is valid with 12 actions, allowing all for rich visualizations
2025-09-26T08:15:08.766Z [debug] [gen] EMITTING to room: persist-1758874296646 with 12 actions
2025-09-26T08:15:08.767Z [debug] [gen] Sockets in room persist-1758874296646: 0
2025-09-26T08:15:08.767Z [warn] [gen] No sockets in room persist-1758874296646! Using broadcast fallback.
2025-09-26T08:15:08.769Z [debug] [gen] END: session=persist-1758874296646 step=3, emitted chunk
2025-09-26T08:15:08.777Z [debug] [genWorker] Received job: gen id=15
2025-09-26T08:15:08.778Z [debug] [gen] START: session=persist-1758874296646 step=4 tag=part_4
2025-09-26T08:15:08.779Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"What is 2+2"}
2025-09-26T08:15:08.779Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T08:15:08.780Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:15:16.954Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 1593
2025-09-26T08:15:16.954Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."s": [
    // Visual "... is not valid JSON
2025-09-26T08:15:16.955Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."tions": [ // Visual "... is not valid JSON
2025-09-26T08:15:17.006Z [error] [gen:failed] id=13 Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."tions": [ // Visual "... is not valid JSON
2025-09-26T08:15:18.843Z [debug] [genWorker] Received job: gen id=16
2025-09-26T08:15:18.844Z [debug] [gen] START: session=persist-1758874296646 step=4 tag=part_4
2025-09-26T08:15:18.845Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"What is 2+2"}
2025-09-26T08:15:18.845Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T08:15:18.846Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:15:29.716Z [debug] Shutting down server...
2025-09-26T08:15:39.904Z [debug] NEW Plan worker created
2025-09-26T08:15:39.906Z [debug] NEW Gen worker created
2025-09-26T08:15:39.914Z [debug] Backend listening on http://localhost:3001
2025-09-26T08:15:51.068Z [debug] socket joined session test-1758874551015
2025-09-26T08:15:51.604Z [debug] Received request on /api/query {"body":{"query":"What is 2+2?","sessionId":"test-1758874551015"}}
2025-09-26T08:15:51.605Z [debug] [orchestrator] Enqueuing plan for session test-1758874551015
2025-09-26T08:15:51.610Z [debug] [orchestrator] Plan job added with id 3 for session test-1758874551015
2025-09-26T08:15:51.615Z [debug] [planWorker] Received job: plan id=3
2025-09-26T08:15:51.615Z [debug] [plan] START: session=test-1758874551015 query=What is 2+2?
2025-09-26T08:15:51.616Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T08:15:51.630Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T08:15:52.069Z [debug] [test] Emitting test message to room test-1758874551015
2025-09-26T08:16:00.621Z [debug] [planner] Received response from Gemini in 9005ms
2025-09-26T08:16:00.622Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T08:16:00.628Z [debug] [plan] OK: session=test-1758874551015 plan received with 5 steps
2025-09-26T08:16:00.630Z [debug] [plan] Enqueuing first step emit: session=test-1758874551015 stepId=1
2025-09-26T08:16:00.632Z [debug] [plan] END: session=test-1758874551015
2025-09-26T08:16:00.637Z [debug] [genWorker] Received job: gen id=17
2025-09-26T08:16:00.637Z [debug] [gen] START: session=test-1758874551015 step=1 tag=part_1
2025-09-26T08:16:00.641Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"What is 2+2?"}
2025-09-26T08:16:00.641Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T08:16:00.642Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:16:11.687Z [debug] socket joined session test-1758874571675
2025-09-26T08:16:12.195Z [debug] Received request on /api/query {"body":{"query":"Explain gravity","sessionId":"test-1758874571675"}}
2025-09-26T08:16:12.195Z [debug] [orchestrator] Enqueuing plan for session test-1758874571675
2025-09-26T08:16:12.198Z [debug] [orchestrator] Plan job added with id 4 for session test-1758874571675
2025-09-26T08:16:12.200Z [debug] [planWorker] Received job: plan id=4
2025-09-26T08:16:12.200Z [debug] [plan] START: session=test-1758874571675 query=Explain gravity
2025-09-26T08:16:12.200Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T08:16:12.201Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T08:16:12.687Z [debug] [test] Emitting test message to room test-1758874571675
2025-09-26T08:16:21.579Z [debug] [planner] Received response from Gemini in 9379ms
2025-09-26T08:16:21.579Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T08:16:21.581Z [debug] [plan] OK: session=test-1758874571675 plan received with 5 steps
2025-09-26T08:16:21.582Z [debug] [plan] Enqueuing first step emit: session=test-1758874571675 stepId=1
2025-09-26T08:16:21.584Z [debug] [plan] END: session=test-1758874571675
2025-09-26T08:16:21.585Z [debug] [genWorker] Received job: gen id=18
2025-09-26T08:16:21.586Z [debug] [gen] START: session=test-1758874571675 step=1 tag=part_1
2025-09-26T08:16:21.588Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"Explain gravity"}
2025-09-26T08:16:21.588Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T08:16:21.588Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:16:24.813Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 2382
2025-09-26T08:16:24.813Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T08:16:24.813Z [debug] [codegen] SUCCESS: Generated 17 actions for step 1
2025-09-26T08:16:24.813Z [debug] [gen] OK: codegen completed for session=test-1758874551015 step=1 in 24172ms
2025-09-26T08:16:24.814Z [debug] compilerRouter: routing to js
2025-09-26T08:16:24.814Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T08:16:24.814Z [debug] [debugger] Chunk is valid with 17 actions, allowing all for rich visualizations
2025-09-26T08:16:24.819Z [debug] [gen] EMITTING to room: test-1758874551015 with 17 actions
2025-09-26T08:16:24.820Z [debug] [gen] Sockets in room test-1758874551015: 0
2025-09-26T08:16:24.820Z [warn] [gen] No sockets in room test-1758874551015! Using broadcast fallback.
2025-09-26T08:16:24.821Z [debug] [gen] END: session=test-1758874551015 step=1, emitted chunk
2025-09-26T08:16:24.826Z [debug] [genWorker] Received job: gen id=19
2025-09-26T08:16:24.826Z [debug] [gen] START: session=test-1758874551015 step=2 tag=part_2
2025-09-26T08:16:24.827Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"What is 2+2?"}
2025-09-26T08:16:24.827Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T08:16:24.828Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:16:37.213Z [debug] socket joined session test-1758874597206
2025-09-26T08:16:37.719Z [debug] Received request on /api/query {"body":{"query":"How does photosynthesis work?","sessionId":"test-1758874597206"}}
2025-09-26T08:16:37.719Z [debug] [orchestrator] Enqueuing plan for session test-1758874597206
2025-09-26T08:16:37.722Z [debug] [orchestrator] Plan job added with id 5 for session test-1758874597206
2025-09-26T08:16:37.724Z [debug] [planWorker] Received job: plan id=5
2025-09-26T08:16:37.724Z [debug] [plan] START: session=test-1758874597206 query=How does photosynthesis work?
2025-09-26T08:16:37.724Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T08:16:37.725Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T08:16:38.213Z [debug] [test] Emitting test message to room test-1758874597206
2025-09-26T08:16:43.393Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 1573
2025-09-26T08:16:43.393Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."s": [
    // Visual "... is not valid JSON
2025-09-26T08:16:43.394Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."tions": [ // Visual "... is not valid JSON
2025-09-26T08:16:43.431Z [error] [gen:failed] id=19 Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."tions": [ // Visual "... is not valid JSON
2025-09-26T08:16:43.431Z [debug] [genWorker] Received job: gen id=16
2025-09-26T08:16:43.431Z [debug] [gen] START: session=persist-1758874296646 step=4 tag=part_4
2025-09-26T08:16:43.432Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"What is 2+2"}
2025-09-26T08:16:43.432Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T08:16:43.433Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:16:49.722Z [debug] [planner] Received response from Gemini in 11998ms
2025-09-26T08:16:49.722Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T08:16:49.724Z [debug] [plan] OK: session=test-1758874597206 plan received with 5 steps
2025-09-26T08:16:49.725Z [debug] [plan] Enqueuing first step emit: session=test-1758874597206 stepId=1
2025-09-26T08:16:49.726Z [debug] [plan] END: session=test-1758874597206
2025-09-26T08:17:02.587Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 3374
2025-09-26T08:17:02.587Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."s": [
    // --- Vis"... is not valid JSON
2025-09-26T08:17:02.587Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."tions": [ // --- Vis"... is not valid JSON
2025-09-26T08:17:02.587Z [error] [gen] Codegen failed for session=test-1758874571675 step=1: Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."tions": [ // --- Vis"... is not valid JSON
2025-09-26T08:17:02.589Z [debug] [gen] EMITTING to room: test-1758874571675 with 3 actions
2025-09-26T08:17:02.589Z [debug] [gen] Sockets in room test-1758874571675: 0
2025-09-26T08:17:02.589Z [warn] [gen] No sockets in room test-1758874571675! Using broadcast fallback.
2025-09-26T08:17:02.589Z [debug] [gen] END: session=test-1758874571675 step=1, emitted chunk
2025-09-26T08:17:02.595Z [debug] [genWorker] Received job: gen id=15
2025-09-26T08:17:02.595Z [debug] [gen] START: session=persist-1758874296646 step=4 tag=part_4
2025-09-26T08:17:02.596Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"What is 2+2"}
2025-09-26T08:17:02.597Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T08:17:02.597Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:17:05.066Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 1852
2025-09-26T08:17:05.066Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T08:17:05.066Z [debug] [codegen] SUCCESS: Generated 15 actions for step 4
2025-09-26T08:17:05.066Z [debug] [gen] OK: codegen completed for session=persist-1758874296646 step=4 in 21634ms
2025-09-26T08:17:05.066Z [debug] compilerRouter: routing to js
2025-09-26T08:17:05.066Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T08:17:05.066Z [debug] [debugger] Chunk is valid with 15 actions, allowing all for rich visualizations
2025-09-26T08:17:05.069Z [debug] [gen] EMITTING to room: persist-1758874296646 with 15 actions
2025-09-26T08:17:05.069Z [debug] [gen] Sockets in room persist-1758874296646: 0
2025-09-26T08:17:05.069Z [warn] [gen] No sockets in room persist-1758874296646! Using broadcast fallback.
2025-09-26T08:17:05.069Z [debug] [gen] END: session=persist-1758874296646 step=4, emitted chunk
2025-09-26T08:17:05.073Z [debug] [genWorker] Received job: gen id=20
2025-09-26T08:17:05.073Z [debug] [gen] START: session=test-1758874551015 step=2 tag=part_2
2025-09-26T08:17:05.075Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"What is 2+2?"}
2025-09-26T08:17:05.075Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T08:17:05.076Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:17:11.699Z [debug] socket joined session persist-1758874631680
2025-09-26T08:17:12.701Z [debug] [test] Emitting test message to room persist-1758874631680
2025-09-26T08:17:12.722Z [debug] Received request on /api/query {"body":{"query":"What is 2+2","sessionId":"persist-1758874631680"}}
2025-09-26T08:17:12.722Z [debug] [orchestrator] Enqueuing plan for session persist-1758874631680
2025-09-26T08:17:12.724Z [debug] [orchestrator] Plan job added with id 6 for session persist-1758874631680
2025-09-26T08:17:12.726Z [debug] [planWorker] Received job: plan id=6
2025-09-26T08:17:12.726Z [debug] [plan] START: session=persist-1758874631680 query=What is 2+2
2025-09-26T08:17:12.727Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T08:17:12.727Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T08:17:21.908Z [debug] [planner] Received response from Gemini in 9181ms
2025-09-26T08:17:21.908Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T08:17:21.910Z [debug] [plan] OK: session=persist-1758874631680 plan received with 5 steps
2025-09-26T08:17:21.911Z [debug] [plan] Enqueuing first step emit: session=persist-1758874631680 stepId=1
2025-09-26T08:17:21.912Z [debug] [plan] END: session=persist-1758874631680
2025-09-26T08:17:25.104Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 2852
2025-09-26T08:17:25.105Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."
    
    // Action "... is not valid JSON
2025-09-26T08:17:25.105Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."": 500 }, // Action "... is not valid JSON
2025-09-26T08:17:25.105Z [error] [gen] Codegen failed for session=test-1758874551015 step=2: Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."": 500 }, // Action "... is not valid JSON
2025-09-26T08:17:25.106Z [debug] [gen] EMITTING to room: test-1758874551015 with 3 actions
2025-09-26T08:17:25.106Z [debug] [gen] Sockets in room test-1758874551015: 0
2025-09-26T08:17:25.106Z [warn] [gen] No sockets in room test-1758874551015! Using broadcast fallback.
2025-09-26T08:17:25.106Z [debug] [gen] END: session=test-1758874551015 step=2, emitted chunk
2025-09-26T08:17:25.109Z [debug] [genWorker] Received job: gen id=21
2025-09-26T08:17:25.109Z [debug] [gen] START: session=test-1758874597206 step=1 tag=part_1
2025-09-26T08:17:25.110Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"How does photosynthesis work?"}
2025-09-26T08:17:25.111Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T08:17:25.111Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:17:35.298Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 1363
2025-09-26T08:17:35.298Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T08:17:35.298Z [debug] [codegen] SUCCESS: Generated 14 actions for step 4
2025-09-26T08:17:35.299Z [debug] [gen] OK: prefetch codegen completed for session=persist-1758874296646 step=4 in 32703ms
2025-09-26T08:17:35.299Z [debug] compilerRouter: routing to js
2025-09-26T08:17:35.299Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T08:17:35.299Z [debug] [debugger] Chunk is valid with 14 actions, allowing all for rich visualizations
2025-09-26T08:17:35.299Z [debug] [gen] Prefetched and cached session=persist-1758874296646 step=4
2025-09-26T08:17:35.300Z [debug] [genWorker] Received job: gen id=22
2025-09-26T08:17:35.301Z [debug] [gen] START: session=test-1758874571675 step=2 tag=part_2
2025-09-26T08:17:35.301Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Explain gravity"}
2025-09-26T08:17:35.301Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T08:17:35.302Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:17:46.674Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 1263
2025-09-26T08:17:46.675Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ...".1},

    // Action "... is not valid JSON
2025-09-26T08:17:46.675Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."y": 0.1}, // Action "... is not valid JSON
2025-09-26T08:17:46.675Z [error] [gen] Codegen failed for session=test-1758874597206 step=1: Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."y": 0.1}, // Action "... is not valid JSON
2025-09-26T08:17:46.676Z [debug] [gen] EMITTING to room: test-1758874597206 with 3 actions
2025-09-26T08:17:46.676Z [debug] [gen] Sockets in room test-1758874597206: 0
2025-09-26T08:17:46.676Z [warn] [gen] No sockets in room test-1758874597206! Using broadcast fallback.
2025-09-26T08:17:46.677Z [debug] [gen] END: session=test-1758874597206 step=1, emitted chunk
2025-09-26T08:17:46.683Z [debug] [genWorker] Received job: gen id=24
2025-09-26T08:17:46.684Z [debug] [gen] START: session=persist-1758874296646 step=5 tag=part_5
2025-09-26T08:17:46.685Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"What is 2+2"}
2025-09-26T08:17:46.685Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T08:17:46.685Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:18:08.690Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 3428
2025-09-26T08:18:08.691Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T08:18:08.691Z [debug] [codegen] SUCCESS: Generated 21 actions for step 2
2025-09-26T08:18:08.691Z [debug] [gen] OK: prefetch codegen completed for session=test-1758874571675 step=2 in 33390ms
2025-09-26T08:18:08.691Z [debug] compilerRouter: routing to js
2025-09-26T08:18:08.691Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T08:18:08.691Z [debug] [debugger] Chunk is valid with 21 actions, allowing all for rich visualizations
2025-09-26T08:18:08.692Z [debug] [gen] Prefetched and cached session=test-1758874571675 step=2
2025-09-26T08:18:08.694Z [debug] [genWorker] Received job: gen id=26
2025-09-26T08:18:08.694Z [debug] [gen] START: session=persist-1758874631680 step=1 tag=part_1
2025-09-26T08:18:08.695Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"What is 2+2"}
2025-09-26T08:18:08.696Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T08:18:08.696Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:18:09.009Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 2236
2025-09-26T08:18:09.010Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."s": [
    // Visual "... is not valid JSON
2025-09-26T08:18:09.010Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."tions": [ // Visual "... is not valid JSON
2025-09-26T08:18:09.013Z [error] [gen:failed] id=24 Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."tions": [ // Visual "... is not valid JSON
2025-09-26T08:18:09.014Z [debug] [genWorker] Received job: gen id=27
2025-09-26T08:18:09.014Z [debug] [gen] START: session=test-1758874551015 step=3 tag=part_3
2025-09-26T08:18:09.015Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"What is 2+2?"}
2025-09-26T08:18:09.016Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T08:18:09.016Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:18:24.302Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 1206
2025-09-26T08:18:24.303Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T08:18:24.303Z [debug] [codegen] SUCCESS: Generated 12 actions for step 3
2025-09-26T08:18:24.303Z [debug] [gen] OK: prefetch codegen completed for session=test-1758874551015 step=3 in 15288ms
2025-09-26T08:18:24.303Z [debug] compilerRouter: routing to js
2025-09-26T08:18:24.303Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T08:18:24.303Z [debug] [debugger] Chunk is valid with 12 actions, allowing all for rich visualizations
2025-09-26T08:18:24.304Z [debug] [gen] Prefetched and cached session=test-1758874551015 step=3
2025-09-26T08:18:24.306Z [debug] [genWorker] Received job: gen id=23
2025-09-26T08:18:24.306Z [debug] [gen] START: session=test-1758874571675 step=2 tag=part_2
2025-09-26T08:18:24.308Z [debug] [gen] Using cached chunk for session=test-1758874571675 step=2
2025-09-26T08:18:24.309Z [debug] [gen] EMITTING to room: test-1758874571675 with 21 actions
2025-09-26T08:18:24.309Z [debug] [gen] Sockets in room test-1758874571675: 0
2025-09-26T08:18:24.309Z [warn] [gen] No sockets in room test-1758874571675! Using broadcast fallback.
2025-09-26T08:18:24.309Z [debug] [gen] END: session=test-1758874571675 step=2, emitted chunk
2025-09-26T08:18:24.313Z [debug] [genWorker] Received job: gen id=25
2025-09-26T08:18:24.314Z [debug] [gen] START: session=persist-1758874296646 step=5 tag=part_5
2025-09-26T08:18:24.315Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"What is 2+2"}
2025-09-26T08:18:24.315Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T08:18:24.315Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:18:30.647Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 1368
2025-09-26T08:18:30.648Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."s": [
    // Action "... is not valid JSON
2025-09-26T08:18:30.648Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."tions": [ // Action "... is not valid JSON
2025-09-26T08:18:30.648Z [error] [gen] Codegen failed for session=persist-1758874631680 step=1: Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."tions": [ // Action "... is not valid JSON
2025-09-26T08:18:30.649Z [debug] [gen] EMITTING to room: persist-1758874631680 with 3 actions
2025-09-26T08:18:30.649Z [debug] [gen] Sockets in room persist-1758874631680: 0
2025-09-26T08:18:30.649Z [warn] [gen] No sockets in room persist-1758874631680! Using broadcast fallback.
2025-09-26T08:18:30.649Z [debug] [gen] END: session=persist-1758874631680 step=1, emitted chunk
2025-09-26T08:18:30.652Z [debug] [genWorker] Received job: gen id=28
2025-09-26T08:18:30.652Z [debug] [gen] START: session=test-1758874551015 step=3 tag=part_3
2025-09-26T08:18:30.653Z [debug] [gen] Using cached chunk for session=test-1758874551015 step=3
2025-09-26T08:18:30.653Z [debug] [gen] EMITTING to room: test-1758874551015 with 12 actions
2025-09-26T08:18:30.654Z [debug] [gen] Sockets in room test-1758874551015: 0
2025-09-26T08:18:30.654Z [warn] [gen] No sockets in room test-1758874551015! Using broadcast fallback.
2025-09-26T08:18:30.654Z [debug] [gen] END: session=test-1758874551015 step=3, emitted chunk
2025-09-26T08:18:30.655Z [debug] [genWorker] Received job: gen id=29
2025-09-26T08:18:30.655Z [debug] [gen] START: session=test-1758874597206 step=2 tag=part_2
2025-09-26T08:18:30.656Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"How does photosynthesis work?"}
2025-09-26T08:18:30.656Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T08:18:30.656Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:18:32.108Z [debug] Shutting down server...
2025-09-26T08:51:28.890Z [debug] NEW Plan worker created
2025-09-26T08:51:28.892Z [debug] NEW Gen worker created
2025-09-26T08:51:28.899Z [debug] Backend listening on http://localhost:3001
2025-09-26T08:51:38.699Z [debug] Shutting down server...
2025-09-26T08:52:16.175Z [debug] NEW Plan worker created
2025-09-26T08:52:16.176Z [debug] NEW Gen worker created
2025-09-26T08:52:16.184Z [debug] Backend listening on http://localhost:3001
2025-09-26T08:52:29.063Z [debug] socket joined session 05e6d906-a249-44e6-9f73-a264aa0c6aec
2025-09-26T08:52:29.087Z [debug] Received request on /api/query {"body":{"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H","sessionId":"05e6d906-a249-44e6-9f73-a264aa0c6aec"}}
2025-09-26T08:52:29.087Z [debug] [orchestrator] Enqueuing plan for session 05e6d906-a249-44e6-9f73-a264aa0c6aec
2025-09-26T08:52:29.092Z [debug] [orchestrator] Plan job added with id 1 for session 05e6d906-a249-44e6-9f73-a264aa0c6aec
2025-09-26T08:52:29.098Z [debug] [planWorker] Received job: plan id=1
2025-09-26T08:52:29.098Z [debug] [plan] START: session=05e6d906-a249-44e6-9f73-a264aa0c6aec query=tell me H20 structure and draw Grah between the intermolecular force between OH and H
2025-09-26T08:52:29.100Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T08:52:29.127Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T08:52:30.064Z [debug] [test] Emitting test message to room 05e6d906-a249-44e6-9f73-a264aa0c6aec
2025-09-26T08:52:45.958Z [debug] [planner] Received response from Gemini in 16858ms
2025-09-26T08:52:45.958Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T08:52:45.962Z [debug] [plan] OK: session=05e6d906-a249-44e6-9f73-a264aa0c6aec plan received with 5 steps
2025-09-26T08:52:45.964Z [debug] [plan] Enqueuing first step emit: session=05e6d906-a249-44e6-9f73-a264aa0c6aec stepId=1
2025-09-26T08:52:45.966Z [debug] [plan] END: session=05e6d906-a249-44e6-9f73-a264aa0c6aec
2025-09-26T08:52:45.969Z [debug] [genWorker] Received job: gen id=1
2025-09-26T08:52:45.969Z [debug] [gen] START: session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=1 tag=part_1
2025-09-26T08:52:45.971Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T08:52:45.971Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T08:52:45.971Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:53:15.473Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 1595
2025-09-26T08:53:15.474Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T08:53:15.474Z [debug] [codegen] SUCCESS: Generated 9 actions for step 1
2025-09-26T08:53:15.474Z [debug] [gen] OK: codegen completed for session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=1 in 29503ms
2025-09-26T08:53:15.474Z [debug] compilerRouter: routing to js
2025-09-26T08:53:15.474Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T08:53:15.475Z [debug] [debugger] Chunk is valid with 9 actions, allowing all for rich visualizations
2025-09-26T08:53:15.481Z [debug] [gen] EMITTING to room: 05e6d906-a249-44e6-9f73-a264aa0c6aec with 9 actions
2025-09-26T08:53:15.482Z [debug] [gen] Sockets in room 05e6d906-a249-44e6-9f73-a264aa0c6aec: 1
2025-09-26T08:53:15.483Z [debug] [gen] Emitted to room 05e6d906-a249-44e6-9f73-a264aa0c6aec with 1 sockets
2025-09-26T08:53:15.483Z [debug] [gen] END: session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=1, emitted chunk
2025-09-26T08:53:15.488Z [debug] [genWorker] Received job: gen id=2
2025-09-26T08:53:15.488Z [debug] [gen] START: session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=2 tag=part_2
2025-09-26T08:53:15.491Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T08:53:15.491Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T08:53:15.492Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:53:25.494Z [debug] [genWorker] Received job: gen id=3
2025-09-26T08:53:25.494Z [debug] [gen] START: session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=2 tag=part_2
2025-09-26T08:53:25.496Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T08:53:25.496Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T08:53:25.497Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:53:36.898Z [debug] [api] Received request on /api/session/05e6d906-a249-44e6-9f73-a264aa0c6aec/next - automatic progression is enabled
2025-09-26T08:53:40.296Z [debug] [api] Received request on /api/session/05e6d906-a249-44e6-9f73-a264aa0c6aec/next - automatic progression is enabled
2025-09-26T08:53:40.929Z [debug] [api] Received request on /api/session/05e6d906-a249-44e6-9f73-a264aa0c6aec/next - automatic progression is enabled
2025-09-26T08:53:41.130Z [debug] [api] Received request on /api/session/05e6d906-a249-44e6-9f73-a264aa0c6aec/next - automatic progression is enabled
2025-09-26T08:53:41.313Z [debug] [api] Received request on /api/session/05e6d906-a249-44e6-9f73-a264aa0c6aec/next - automatic progression is enabled
2025-09-26T08:53:56.302Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 5432
2025-09-26T08:53:56.303Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T08:53:56.303Z [debug] [codegen] SUCCESS: Generated 22 actions for step 2
2025-09-26T08:53:56.303Z [debug] [gen] OK: prefetch codegen completed for session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=2 in 40812ms
2025-09-26T08:53:56.303Z [debug] compilerRouter: routing to js
2025-09-26T08:53:56.303Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T08:53:56.303Z [debug] [debugger] Chunk is valid with 22 actions, allowing all for rich visualizations
2025-09-26T08:53:56.304Z [debug] [gen] Prefetched and cached session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=2
2025-09-26T08:54:11.653Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 6817
2025-09-26T08:54:11.654Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T08:54:11.654Z [debug] [codegen] SUCCESS: Generated 43 actions for step 2
2025-09-26T08:54:11.654Z [debug] [gen] OK: codegen completed for session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=2 in 46158ms
2025-09-26T08:54:11.654Z [debug] compilerRouter: routing to js
2025-09-26T08:54:11.654Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T08:54:11.654Z [debug] [debugger] Chunk is valid with 43 actions, allowing all for rich visualizations
2025-09-26T08:54:11.660Z [debug] [gen] EMITTING to room: 05e6d906-a249-44e6-9f73-a264aa0c6aec with 43 actions
2025-09-26T08:54:11.661Z [debug] [gen] Sockets in room 05e6d906-a249-44e6-9f73-a264aa0c6aec: 1
2025-09-26T08:54:11.661Z [debug] [gen] Emitted to room 05e6d906-a249-44e6-9f73-a264aa0c6aec with 1 sockets
2025-09-26T08:54:11.661Z [debug] [gen] END: session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=2, emitted chunk
2025-09-26T08:54:11.664Z [debug] [genWorker] Received job: gen id=4
2025-09-26T08:54:11.664Z [debug] [gen] START: session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=3 tag=part_3
2025-09-26T08:54:11.666Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T08:54:11.666Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T08:54:11.666Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:54:21.761Z [debug] [genWorker] Received job: gen id=5
2025-09-26T08:54:21.762Z [debug] [gen] START: session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=3 tag=part_3
2025-09-26T08:54:21.763Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T08:54:21.763Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T08:54:21.764Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:54:46.982Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 5044
2025-09-26T08:54:46.982Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T08:54:46.983Z [debug] [codegen] SUCCESS: Generated 25 actions for step 3
2025-09-26T08:54:46.983Z [debug] [gen] OK: prefetch codegen completed for session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=3 in 35317ms
2025-09-26T08:54:46.983Z [debug] compilerRouter: routing to js
2025-09-26T08:54:46.983Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T08:54:46.983Z [debug] [debugger] Chunk is valid with 25 actions, allowing all for rich visualizations
2025-09-26T08:54:46.985Z [debug] [gen] Prefetched and cached session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=3
2025-09-26T08:55:00.053Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 3730
2025-09-26T08:55:00.053Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."[
        // Molecul"... is not valid JSON
2025-09-26T08:55:00.054Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."icles": [ // Molecul"... is not valid JSON
2025-09-26T08:55:00.054Z [error] [gen] Codegen failed for session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=3: Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."icles": [ // Molecul"... is not valid JSON
2025-09-26T08:55:00.055Z [debug] [gen] EMITTING to room: 05e6d906-a249-44e6-9f73-a264aa0c6aec with 3 actions
2025-09-26T08:55:00.056Z [debug] [gen] Sockets in room 05e6d906-a249-44e6-9f73-a264aa0c6aec: 1
2025-09-26T08:55:00.056Z [debug] [gen] Emitted to room 05e6d906-a249-44e6-9f73-a264aa0c6aec with 1 sockets
2025-09-26T08:55:00.056Z [debug] [gen] END: session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=3, emitted chunk
2025-09-26T08:55:00.059Z [debug] [genWorker] Received job: gen id=6
2025-09-26T08:55:00.059Z [debug] [gen] START: session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=4 tag=part_4
2025-09-26T08:55:00.062Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T08:55:00.062Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T08:55:00.063Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:55:10.074Z [debug] [genWorker] Received job: gen id=7
2025-09-26T08:55:10.074Z [debug] [gen] START: session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=4 tag=part_4
2025-09-26T08:55:10.076Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T08:55:10.077Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T08:55:10.077Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:55:24.062Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 2023
2025-09-26T08:55:24.062Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."s": [
    // Action "... is not valid JSON
2025-09-26T08:55:24.063Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."tions": [ // Action "... is not valid JSON
2025-09-26T08:55:24.109Z [error] [gen:failed] id=6 Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."tions": [ // Action "... is not valid JSON
2025-09-26T08:55:32.088Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 2365
2025-09-26T08:55:32.088Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T08:55:32.089Z [debug] [codegen] SUCCESS: Generated 13 actions for step 4
2025-09-26T08:55:32.089Z [debug] [gen] OK: codegen completed for session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=4 in 22013ms
2025-09-26T08:55:32.089Z [debug] compilerRouter: routing to js
2025-09-26T08:55:32.089Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T08:55:32.089Z [debug] [debugger] Chunk is valid with 13 actions, allowing all for rich visualizations
2025-09-26T08:55:32.095Z [debug] [gen] EMITTING to room: 05e6d906-a249-44e6-9f73-a264aa0c6aec with 13 actions
2025-09-26T08:55:32.095Z [debug] [gen] Sockets in room 05e6d906-a249-44e6-9f73-a264aa0c6aec: 1
2025-09-26T08:55:32.096Z [debug] [gen] Emitted to room 05e6d906-a249-44e6-9f73-a264aa0c6aec with 1 sockets
2025-09-26T08:55:32.096Z [debug] [gen] END: session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=4, emitted chunk
2025-09-26T08:55:32.099Z [debug] [genWorker] Received job: gen id=8
2025-09-26T08:55:32.099Z [debug] [gen] START: session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=5 tag=part_5
2025-09-26T08:55:32.102Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T08:55:32.102Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T08:55:32.102Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:55:42.167Z [debug] [genWorker] Received job: gen id=9
2025-09-26T08:55:42.167Z [debug] [gen] START: session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=5 tag=part_5
2025-09-26T08:55:42.169Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T08:55:42.170Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T08:55:42.170Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T08:56:05.498Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 4116
2025-09-26T08:56:05.498Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Expected ',' or '}' after property value in JSON at position 552
2025-09-26T08:56:05.499Z [error] [codegen] JSON parse failed completely: SyntaxError: Expected ',' or '}' after property value in JSON at position 438
2025-09-26T08:56:05.502Z [error] [gen:failed] id=8 Error: Failed to parse codegen response: SyntaxError: Expected ',' or '}' after property value in JSON at position 438
2025-09-26T08:56:30.268Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 5470
2025-09-26T08:56:30.268Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."s": [
    // Action "... is not valid JSON
2025-09-26T08:56:30.269Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."tions": [ // Action "... is not valid JSON
2025-09-26T08:56:30.269Z [error] [gen] Codegen failed for session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=5: Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."tions": [ // Action "... is not valid JSON
2025-09-26T08:56:30.270Z [debug] [gen] EMITTING to room: 05e6d906-a249-44e6-9f73-a264aa0c6aec with 3 actions
2025-09-26T08:56:30.270Z [debug] [gen] Sockets in room 05e6d906-a249-44e6-9f73-a264aa0c6aec: 1
2025-09-26T08:56:30.271Z [debug] [gen] Emitted to room 05e6d906-a249-44e6-9f73-a264aa0c6aec with 1 sockets
2025-09-26T08:56:30.271Z [debug] [gen] END: session=05e6d906-a249-44e6-9f73-a264aa0c6aec step=5, emitted chunk
2025-09-26T08:56:30.271Z [debug] [orchestrator] All steps completed for session 05e6d906-a249-44e6-9f73-a264aa0c6aec
2025-09-26T09:01:37.819Z [debug] [api] Received request on /api/session/05e6d906-a249-44e6-9f73-a264aa0c6aec/next - automatic progression is enabled
2025-09-26T09:01:38.100Z [debug] [api] Received request on /api/session/05e6d906-a249-44e6-9f73-a264aa0c6aec/next - automatic progression is enabled
2025-09-26T09:06:52.858Z [debug] Shutting down server...
2025-09-26T09:06:52.894Z [debug] Server shut down.
2025-09-26T09:07:04.711Z [debug] NEW Plan worker created
2025-09-26T09:07:04.713Z [debug] NEW Gen worker created
2025-09-26T09:07:04.722Z [debug] Backend listening on http://localhost:3001
2025-09-26T09:12:44.304Z [debug] socket joined session ee8027c0-ea07-44a1-89b7-920ee41f576e
2025-09-26T09:12:44.325Z [debug] Received request on /api/query {"body":{"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H","sessionId":"ee8027c0-ea07-44a1-89b7-920ee41f576e"}}
2025-09-26T09:12:44.326Z [debug] [orchestrator] Enqueuing plan for session ee8027c0-ea07-44a1-89b7-920ee41f576e
2025-09-26T09:12:44.330Z [debug] [orchestrator] Plan job added with id 2 for session ee8027c0-ea07-44a1-89b7-920ee41f576e
2025-09-26T09:12:44.335Z [debug] [planWorker] Received job: plan id=2
2025-09-26T09:12:44.335Z [debug] [plan] START: session=ee8027c0-ea07-44a1-89b7-920ee41f576e query=tell me H20 structure and draw Grah between the intermolecular force between OH and H
2025-09-26T09:12:44.336Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T09:12:44.351Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T09:12:45.306Z [debug] [test] Emitting test message to room ee8027c0-ea07-44a1-89b7-920ee41f576e
2025-09-26T09:12:57.682Z [debug] [planner] Received response from Gemini in 13346ms
2025-09-26T09:12:57.683Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T09:12:57.687Z [debug] [plan] OK: session=ee8027c0-ea07-44a1-89b7-920ee41f576e plan received with 5 steps
2025-09-26T09:12:57.689Z [debug] [plan] Enqueuing first step emit: session=ee8027c0-ea07-44a1-89b7-920ee41f576e stepId=1
2025-09-26T09:12:57.691Z [debug] [plan] END: session=ee8027c0-ea07-44a1-89b7-920ee41f576e
2025-09-26T09:12:57.694Z [debug] [genWorker] Received job: gen id=10
2025-09-26T09:12:57.694Z [debug] [gen] START: session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=1 tag=part_1
2025-09-26T09:12:57.696Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T09:12:57.696Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T09:12:57.696Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:13:30.027Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 1989
2025-09-26T09:13:30.028Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:13:30.028Z [debug] [codegen] SUCCESS: Generated 14 actions for step 1
2025-09-26T09:13:30.028Z [debug] [gen] OK: codegen completed for session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=1 in 32333ms
2025-09-26T09:13:30.028Z [debug] compilerRouter: routing to text
2025-09-26T09:13:30.029Z [error] [gen] Codegen failed for session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=1: Error: Invalid compiler type
2025-09-26T09:13:30.031Z [debug] [gen] EMITTING to room: ee8027c0-ea07-44a1-89b7-920ee41f576e with 3 actions
2025-09-26T09:13:30.031Z [debug] [gen] Sockets in room ee8027c0-ea07-44a1-89b7-920ee41f576e: 1
2025-09-26T09:13:30.032Z [debug] [gen] Emitted to room ee8027c0-ea07-44a1-89b7-920ee41f576e with 1 sockets
2025-09-26T09:13:30.032Z [debug] [gen] END: session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=1, emitted chunk
2025-09-26T09:13:30.036Z [debug] [genWorker] Received job: gen id=11
2025-09-26T09:13:30.037Z [debug] [gen] START: session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=2 tag=part_2
2025-09-26T09:13:30.038Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T09:13:30.039Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T09:13:30.039Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:13:40.084Z [debug] [genWorker] Received job: gen id=12
2025-09-26T09:13:40.084Z [debug] [gen] START: session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=2 tag=part_2
2025-09-26T09:13:40.086Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T09:13:40.086Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T09:13:40.087Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:14:15.214Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 6998
2025-09-26T09:14:15.215Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:14:15.215Z [debug] [codegen] SUCCESS: Generated 52 actions for step 2
2025-09-26T09:14:15.215Z [debug] [gen] OK: codegen completed for session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=2 in 35129ms
2025-09-26T09:14:15.215Z [debug] compilerRouter: routing to text
2025-09-26T09:14:15.215Z [error] [gen] Codegen failed for session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=2: Error: Invalid compiler type
2025-09-26T09:14:15.217Z [debug] [gen] EMITTING to room: ee8027c0-ea07-44a1-89b7-920ee41f576e with 3 actions
2025-09-26T09:14:15.217Z [debug] [gen] Sockets in room ee8027c0-ea07-44a1-89b7-920ee41f576e: 1
2025-09-26T09:14:15.218Z [debug] [gen] Emitted to room ee8027c0-ea07-44a1-89b7-920ee41f576e with 1 sockets
2025-09-26T09:14:15.218Z [debug] [gen] END: session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=2, emitted chunk
2025-09-26T09:14:15.222Z [debug] [genWorker] Received job: gen id=13
2025-09-26T09:14:15.222Z [debug] [gen] START: session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=3 tag=part_3
2025-09-26T09:14:15.223Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T09:14:15.224Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T09:14:15.224Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:14:30.041Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:14:30.059Z [error] [gen:failed] id=11 Error: codegen/gemini timeout after 60000ms
2025-09-26T09:14:30.060Z [debug] [genWorker] Received job: gen id=14
2025-09-26T09:14:30.060Z [debug] [gen] START: session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=3 tag=part_3
2025-09-26T09:14:30.061Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T09:14:30.061Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T09:14:30.061Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:14:51.148Z [debug] [api] Received request on /api/session/ee8027c0-ea07-44a1-89b7-920ee41f576e/next - automatic progression is enabled
2025-09-26T09:15:00.058Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 4300
2025-09-26T09:15:00.059Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:15:00.059Z [debug] [codegen] SUCCESS: Generated 25 actions for step 3
2025-09-26T09:15:00.059Z [debug] [gen] OK: prefetch codegen completed for session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=3 in 44836ms
2025-09-26T09:15:00.059Z [debug] compilerRouter: routing to text
2025-09-26T09:15:00.084Z [error] [gen:failed] id=13 Error: Invalid compiler type
2025-09-26T09:15:01.761Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 3345
2025-09-26T09:15:01.762Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."[
        // First w"... is not valid JSON
2025-09-26T09:15:01.763Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."icles": [ // First w"... is not valid JSON
2025-09-26T09:15:01.763Z [error] [gen] Codegen failed for session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=3: Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."icles": [ // First w"... is not valid JSON
2025-09-26T09:15:01.764Z [debug] [gen] EMITTING to room: ee8027c0-ea07-44a1-89b7-920ee41f576e with 3 actions
2025-09-26T09:15:01.764Z [debug] [gen] Sockets in room ee8027c0-ea07-44a1-89b7-920ee41f576e: 1
2025-09-26T09:15:01.765Z [debug] [gen] Emitted to room ee8027c0-ea07-44a1-89b7-920ee41f576e with 1 sockets
2025-09-26T09:15:01.765Z [debug] [gen] END: session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=3, emitted chunk
2025-09-26T09:15:01.768Z [debug] [genWorker] Received job: gen id=15
2025-09-26T09:15:01.768Z [debug] [gen] START: session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=4 tag=part_4
2025-09-26T09:15:01.771Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T09:15:01.771Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T09:15:01.771Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:15:11.858Z [debug] [genWorker] Received job: gen id=16
2025-09-26T09:15:11.859Z [debug] [gen] START: session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=4 tag=part_4
2025-09-26T09:15:11.861Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T09:15:11.861Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T09:15:11.861Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:15:37.404Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 1797
2025-09-26T09:15:37.405Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:15:37.405Z [debug] [codegen] SUCCESS: Generated 9 actions for step 4
2025-09-26T09:15:37.405Z [debug] [gen] OK: prefetch codegen completed for session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=4 in 35634ms
2025-09-26T09:15:37.405Z [debug] compilerRouter: routing to drawing/text
2025-09-26T09:15:37.407Z [error] [gen:failed] id=15 Error: Invalid compiler type
2025-09-26T09:15:44.068Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 1604
2025-09-26T09:15:44.068Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:15:44.068Z [debug] [codegen] SUCCESS: Generated 10 actions for step 4
2025-09-26T09:15:44.068Z [debug] [gen] OK: codegen completed for session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=4 in 32207ms
2025-09-26T09:15:44.069Z [debug] compilerRouter: routing to drawing/text
2025-09-26T09:15:44.070Z [error] [gen] Codegen failed for session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=4: Error: Invalid compiler type
2025-09-26T09:15:44.071Z [debug] [gen] EMITTING to room: ee8027c0-ea07-44a1-89b7-920ee41f576e with 3 actions
2025-09-26T09:15:44.072Z [debug] [gen] Sockets in room ee8027c0-ea07-44a1-89b7-920ee41f576e: 1
2025-09-26T09:15:44.072Z [debug] [gen] Emitted to room ee8027c0-ea07-44a1-89b7-920ee41f576e with 1 sockets
2025-09-26T09:15:44.072Z [debug] [gen] END: session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=4, emitted chunk
2025-09-26T09:15:44.076Z [debug] [genWorker] Received job: gen id=17
2025-09-26T09:15:44.076Z [debug] [gen] START: session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=5 tag=part_5
2025-09-26T09:15:44.078Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T09:15:44.079Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T09:15:44.079Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:15:54.122Z [debug] [genWorker] Received job: gen id=18
2025-09-26T09:15:54.122Z [debug] [gen] START: session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=5 tag=part_5
2025-09-26T09:15:54.124Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T09:15:54.124Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T09:15:54.125Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:16:24.615Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 4492
2025-09-26T09:16:24.615Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."s": [
    // Action "... is not valid JSON
2025-09-26T09:16:24.616Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."tions": [ // Action "... is not valid JSON
2025-09-26T09:16:24.618Z [error] [gen:failed] id=17 Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."tions": [ // Action "... is not valid JSON
2025-09-26T09:16:41.695Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 5680
2025-09-26T09:16:41.695Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:16:41.695Z [debug] [codegen] SUCCESS: Generated 27 actions for step 5
2025-09-26T09:16:41.695Z [debug] [gen] OK: codegen completed for session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=5 in 47571ms
2025-09-26T09:16:41.695Z [debug] compilerRouter: routing to text
2025-09-26T09:16:41.695Z [error] [gen] Codegen failed for session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=5: Error: Invalid compiler type
2025-09-26T09:16:41.697Z [debug] [gen] EMITTING to room: ee8027c0-ea07-44a1-89b7-920ee41f576e with 3 actions
2025-09-26T09:16:41.697Z [debug] [gen] Sockets in room ee8027c0-ea07-44a1-89b7-920ee41f576e: 1
2025-09-26T09:16:41.698Z [debug] [gen] Emitted to room ee8027c0-ea07-44a1-89b7-920ee41f576e with 1 sockets
2025-09-26T09:16:41.698Z [debug] [gen] END: session=ee8027c0-ea07-44a1-89b7-920ee41f576e step=5, emitted chunk
2025-09-26T09:16:41.698Z [debug] [orchestrator] All steps completed for session ee8027c0-ea07-44a1-89b7-920ee41f576e
2025-09-26T09:17:12.294Z [debug] Shutting down server...
2025-09-26T09:29:33.992Z [debug] NEW Plan worker created
2025-09-26T09:29:33.994Z [debug] NEW Gen worker created
2025-09-26T09:29:34.002Z [debug] Backend listening on http://localhost:3001
2025-09-26T09:29:34.006Z [debug] NEW Plan worker created
2025-09-26T09:31:06.812Z [debug] Shutting down server...
2025-09-26T09:31:17.731Z [debug] NEW Plan worker created
2025-09-26T09:31:17.732Z [debug] NEW Gen worker created
2025-09-26T09:31:17.740Z [debug] Backend listening on http://localhost:3001
2025-09-26T09:32:05.957Z [debug] Received request on /api/query {"body":{"query":"Show derivatives as tangent lines moving along a curve - visualize f(x) = x^2","sessionId":"3b1b-test-1758879125897"}}
2025-09-26T09:32:05.957Z [debug] [orchestrator] Enqueuing plan for session 3b1b-test-1758879125897
2025-09-26T09:32:05.961Z [debug] [orchestrator] Plan job added with id 3 for session 3b1b-test-1758879125897
2025-09-26T09:32:05.966Z [debug] [planWorker] Received job: plan id=3
2025-09-26T09:32:05.966Z [debug] [plan] START: session=3b1b-test-1758879125897 query=Show derivatives as tangent lines moving along a curve - visualize f(x) = x^2
2025-09-26T09:32:05.967Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T09:32:05.980Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T09:32:13.996Z [debug] Received request on /api/query {"body":{"query":"Demonstrate vector addition and subtraction with animated arrows","sessionId":"3b1b-test-1758879133991"}}
2025-09-26T09:32:13.996Z [debug] [orchestrator] Enqueuing plan for session 3b1b-test-1758879133991
2025-09-26T09:32:13.999Z [debug] [orchestrator] Plan job added with id 4 for session 3b1b-test-1758879133991
2025-09-26T09:32:22.024Z [debug] Received request on /api/query {"body":{"query":"Visualize complex numbers on the complex plane with rotations","sessionId":"3b1b-test-1758879142017"}}
2025-09-26T09:32:22.025Z [debug] [orchestrator] Enqueuing plan for session 3b1b-test-1758879142017
2025-09-26T09:32:22.027Z [debug] [orchestrator] Plan job added with id 5 for session 3b1b-test-1758879142017
2025-09-26T09:32:24.146Z [debug] [planner] Received response from Gemini in 18179ms
2025-09-26T09:32:24.147Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T09:32:24.151Z [debug] [plan] OK: session=3b1b-test-1758879125897 plan received with 5 steps
2025-09-26T09:32:24.153Z [debug] [plan] Enqueuing first step emit: session=3b1b-test-1758879125897 stepId=1
2025-09-26T09:32:24.154Z [debug] [plan] END: session=3b1b-test-1758879125897
2025-09-26T09:32:24.157Z [debug] [planWorker] Received job: plan id=4
2025-09-26T09:32:24.157Z [debug] [plan] START: session=3b1b-test-1758879133991 query=Demonstrate vector addition and subtraction with animated arrows
2025-09-26T09:32:24.158Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T09:32:24.158Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T09:32:24.162Z [debug] [genWorker] Received job: gen id=19
2025-09-26T09:32:24.162Z [debug] [gen] START: session=3b1b-test-1758879125897 step=1 tag=intro_concepts
2025-09-26T09:32:24.165Z [debug] [codegen] START: stepId=1 tag=intro_concepts {"params":{},"query":"Show derivatives as tangent lines moving along a curve - visualize f(x) = x^2"}
2025-09-26T09:32:24.165Z [debug] [codegen] Sending prompt to Gemini for tag=intro_concepts
2025-09-26T09:32:24.166Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:32:30.048Z [debug] Received request on /api/query {"body":{"query":"Show how sine waves combine to form complex waveforms","sessionId":"3b1b-test-1758879150044"}}
2025-09-26T09:32:30.048Z [debug] [orchestrator] Enqueuing plan for session 3b1b-test-1758879150044
2025-09-26T09:32:30.051Z [debug] [orchestrator] Plan job added with id 6 for session 3b1b-test-1758879150044
2025-09-26T09:32:35.033Z [debug] [planner] Received response from Gemini in 10875ms
2025-09-26T09:32:35.033Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T09:32:35.035Z [debug] [plan] OK: session=3b1b-test-1758879133991 plan received with 5 steps
2025-09-26T09:32:35.036Z [debug] [plan] Enqueuing first step emit: session=3b1b-test-1758879133991 stepId=1
2025-09-26T09:32:35.038Z [debug] [plan] END: session=3b1b-test-1758879133991
2025-09-26T09:32:35.039Z [debug] [genWorker] Received job: gen id=20
2025-09-26T09:32:35.039Z [debug] [gen] START: session=3b1b-test-1758879133991 step=1 tag=part_1
2025-09-26T09:32:35.041Z [debug] [planWorker] Received job: plan id=5
2025-09-26T09:32:35.041Z [debug] [plan] START: session=3b1b-test-1758879142017 query=Visualize complex numbers on the complex plane with rotations
2025-09-26T09:32:35.041Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T09:32:35.042Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T09:32:35.045Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"Demonstrate vector addition and subtraction with animated arrows"}
2025-09-26T09:32:35.046Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T09:32:35.046Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:32:38.073Z [debug] Received request on /api/query {"body":{"query":"Animate matrix transformations - rotation, scaling, shearing","sessionId":"3b1b-test-1758879158068"}}
2025-09-26T09:32:38.073Z [debug] [orchestrator] Enqueuing plan for session 3b1b-test-1758879158068
2025-09-26T09:32:38.075Z [debug] [orchestrator] Plan job added with id 7 for session 3b1b-test-1758879158068
2025-09-26T09:32:39.508Z [debug] [codegen] Received response from Gemini for tag=intro_concepts, length: 2165
2025-09-26T09:32:39.508Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:32:39.508Z [debug] [codegen] SUCCESS: Generated 14 actions for step 1
2025-09-26T09:32:39.508Z [debug] [gen] OK: codegen completed for session=3b1b-test-1758879125897 step=1 in 15344ms
2025-09-26T09:32:39.509Z [debug] compilerRouter: routing to js
2025-09-26T09:32:39.509Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T09:32:39.509Z [debug] [debugger] Chunk is valid with 14 actions, allowing all for rich visualizations
2025-09-26T09:32:39.515Z [debug] [gen] EMITTING to room: 3b1b-test-1758879125897 with 14 actions
2025-09-26T09:32:39.515Z [debug] [gen] Sockets in room 3b1b-test-1758879125897: 0
2025-09-26T09:32:39.515Z [warn] [gen] No sockets in room 3b1b-test-1758879125897! Using broadcast fallback.
2025-09-26T09:32:39.517Z [debug] [gen] END: session=3b1b-test-1758879125897 step=1, emitted chunk
2025-09-26T09:32:39.521Z [debug] [genWorker] Received job: gen id=21
2025-09-26T09:32:39.521Z [debug] [gen] START: session=3b1b-test-1758879125897 step=2 tag=static_tangent
2025-09-26T09:32:39.522Z [debug] [codegen] START: stepId=2 tag=static_tangent {"params":{},"query":"Show derivatives as tangent lines moving along a curve - visualize f(x) = x^2"}
2025-09-26T09:32:39.523Z [debug] [codegen] Sending prompt to Gemini for tag=static_tangent
2025-09-26T09:32:39.523Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:32:45.457Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 3227
2025-09-26T09:32:45.457Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:32:45.457Z [debug] [codegen] SUCCESS: Generated 25 actions for step 1
2025-09-26T09:32:45.457Z [debug] [gen] OK: codegen completed for session=3b1b-test-1758879133991 step=1 in 10412ms
2025-09-26T09:32:45.457Z [debug] compilerRouter: routing to js
2025-09-26T09:32:45.457Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T09:32:45.457Z [debug] [debugger] Chunk is valid with 25 actions, allowing all for rich visualizations
2025-09-26T09:32:45.461Z [debug] [gen] EMITTING to room: 3b1b-test-1758879133991 with 25 actions
2025-09-26T09:32:45.461Z [debug] [gen] Sockets in room 3b1b-test-1758879133991: 0
2025-09-26T09:32:45.461Z [warn] [gen] No sockets in room 3b1b-test-1758879133991! Using broadcast fallback.
2025-09-26T09:32:45.463Z [debug] [gen] END: session=3b1b-test-1758879133991 step=1, emitted chunk
2025-09-26T09:32:45.469Z [debug] [genWorker] Received job: gen id=23
2025-09-26T09:32:45.469Z [debug] [gen] START: session=3b1b-test-1758879133991 step=2 tag=part_2
2025-09-26T09:32:45.470Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Demonstrate vector addition and subtraction with animated arrows"}
2025-09-26T09:32:45.470Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T09:32:45.471Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:32:51.599Z [debug] [planner] Received response from Gemini in 16558ms
2025-09-26T09:32:51.599Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T09:32:51.600Z [debug] [plan] OK: session=3b1b-test-1758879142017 plan received with 5 steps
2025-09-26T09:32:51.600Z [debug] [plan] Enqueuing first step emit: session=3b1b-test-1758879142017 stepId=1
2025-09-26T09:32:51.601Z [debug] [plan] END: session=3b1b-test-1758879142017
2025-09-26T09:32:51.602Z [debug] [planWorker] Received job: plan id=6
2025-09-26T09:32:51.602Z [debug] [plan] START: session=3b1b-test-1758879150044 query=Show how sine waves combine to form complex waveforms
2025-09-26T09:32:51.602Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T09:32:51.602Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T09:33:02.495Z [debug] [planner] Received response from Gemini in 10893ms
2025-09-26T09:33:02.495Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T09:33:02.496Z [debug] [plan] OK: session=3b1b-test-1758879150044 plan received with 5 steps
2025-09-26T09:33:02.497Z [debug] [plan] Enqueuing first step emit: session=3b1b-test-1758879150044 stepId=1
2025-09-26T09:33:02.499Z [debug] [plan] END: session=3b1b-test-1758879150044
2025-09-26T09:33:02.500Z [debug] [planWorker] Received job: plan id=7
2025-09-26T09:33:02.500Z [debug] [plan] START: session=3b1b-test-1758879158068 query=Animate matrix transformations - rotation, scaling, shearing
2025-09-26T09:33:02.500Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T09:33:02.501Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T09:33:10.867Z [debug] [codegen] Received response from Gemini for tag=static_tangent, length: 5875
2025-09-26T09:33:10.867Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:33:10.867Z [debug] [codegen] SUCCESS: Generated 17 actions for step 2
2025-09-26T09:33:10.867Z [debug] [gen] OK: prefetch codegen completed for session=3b1b-test-1758879125897 step=2 in 31345ms
2025-09-26T09:33:10.867Z [debug] compilerRouter: routing to js
2025-09-26T09:33:10.867Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T09:33:10.868Z [debug] [debugger] Chunk is valid with 17 actions, allowing all for rich visualizations
2025-09-26T09:33:10.868Z [debug] [gen] Prefetched and cached session=3b1b-test-1758879125897 step=2
2025-09-26T09:33:10.870Z [debug] [genWorker] Received job: gen id=25
2025-09-26T09:33:10.871Z [debug] [gen] START: session=3b1b-test-1758879142017 step=1 tag=part_1
2025-09-26T09:33:10.872Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"Visualize complex numbers on the complex plane with rotations"}
2025-09-26T09:33:10.872Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T09:33:10.873Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:33:18.220Z [debug] [planner] Received response from Gemini in 15720ms
2025-09-26T09:33:18.221Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T09:33:18.222Z [debug] [plan] OK: session=3b1b-test-1758879158068 plan received with 5 steps
2025-09-26T09:33:18.225Z [debug] [plan] Enqueuing first step emit: session=3b1b-test-1758879158068 stepId=1
2025-09-26T09:33:18.226Z [debug] [plan] END: session=3b1b-test-1758879158068
2025-09-26T09:33:18.228Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 5773
2025-09-26T09:33:18.228Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:33:18.228Z [debug] [codegen] SUCCESS: Generated 43 actions for step 2
2025-09-26T09:33:18.228Z [debug] [gen] OK: prefetch codegen completed for session=3b1b-test-1758879133991 step=2 in 32758ms
2025-09-26T09:33:18.228Z [debug] compilerRouter: routing to js
2025-09-26T09:33:18.228Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T09:33:18.228Z [debug] [debugger] Chunk is valid with 43 actions, allowing all for rich visualizations
2025-09-26T09:33:18.229Z [debug] [gen] Prefetched and cached session=3b1b-test-1758879133991 step=2
2025-09-26T09:33:18.230Z [debug] [genWorker] Received job: gen id=26
2025-09-26T09:33:18.231Z [debug] [gen] START: session=3b1b-test-1758879150044 step=1 tag=part_1
2025-09-26T09:33:18.232Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"Show how sine waves combine to form complex waveforms"}
2025-09-26T09:33:18.233Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T09:33:18.233Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:33:26.165Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 3728
2025-09-26T09:33:26.165Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:33:26.166Z [debug] [codegen] SUCCESS: Generated 29 actions for step 1
2025-09-26T09:33:26.166Z [debug] [gen] OK: codegen completed for session=3b1b-test-1758879142017 step=1 in 15294ms
2025-09-26T09:33:26.166Z [debug] compilerRouter: routing to js
2025-09-26T09:33:26.166Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T09:33:26.166Z [debug] [debugger] Chunk is valid with 29 actions, allowing all for rich visualizations
2025-09-26T09:33:26.169Z [debug] [gen] EMITTING to room: 3b1b-test-1758879142017 with 29 actions
2025-09-26T09:33:26.169Z [debug] [gen] Sockets in room 3b1b-test-1758879142017: 0
2025-09-26T09:33:26.169Z [warn] [gen] No sockets in room 3b1b-test-1758879142017! Using broadcast fallback.
2025-09-26T09:33:26.169Z [debug] [gen] END: session=3b1b-test-1758879142017 step=1, emitted chunk
2025-09-26T09:33:26.173Z [debug] [genWorker] Received job: gen id=22
2025-09-26T09:33:26.173Z [debug] [gen] START: session=3b1b-test-1758879125897 step=2 tag=static_tangent
2025-09-26T09:33:26.175Z [debug] [gen] Using cached chunk for session=3b1b-test-1758879125897 step=2
2025-09-26T09:33:26.177Z [debug] [gen] EMITTING to room: 3b1b-test-1758879125897 with 17 actions
2025-09-26T09:33:26.177Z [debug] [gen] Sockets in room 3b1b-test-1758879125897: 0
2025-09-26T09:33:26.177Z [warn] [gen] No sockets in room 3b1b-test-1758879125897! Using broadcast fallback.
2025-09-26T09:33:26.177Z [debug] [gen] END: session=3b1b-test-1758879125897 step=2, emitted chunk
2025-09-26T09:33:26.182Z [debug] [genWorker] Received job: gen id=24
2025-09-26T09:33:26.182Z [debug] [gen] START: session=3b1b-test-1758879133991 step=2 tag=part_2
2025-09-26T09:33:26.183Z [debug] [gen] Using cached chunk for session=3b1b-test-1758879133991 step=2
2025-09-26T09:33:26.185Z [debug] [gen] EMITTING to room: 3b1b-test-1758879133991 with 43 actions
2025-09-26T09:33:26.185Z [debug] [gen] Sockets in room 3b1b-test-1758879133991: 0
2025-09-26T09:33:26.185Z [warn] [gen] No sockets in room 3b1b-test-1758879133991! Using broadcast fallback.
2025-09-26T09:33:26.185Z [debug] [gen] END: session=3b1b-test-1758879133991 step=2, emitted chunk
2025-09-26T09:33:26.188Z [debug] [genWorker] Received job: gen id=27
2025-09-26T09:33:26.188Z [debug] [gen] START: session=3b1b-test-1758879158068 step=1 tag=part_1
2025-09-26T09:33:26.189Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"Animate matrix transformations - rotation, scaling, shearing"}
2025-09-26T09:33:26.189Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T09:33:26.189Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:33:50.935Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 2792
2025-09-26T09:33:50.935Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:33:50.935Z [debug] [codegen] SUCCESS: Generated 30 actions for step 1
2025-09-26T09:33:50.935Z [debug] [gen] OK: codegen completed for session=3b1b-test-1758879158068 step=1 in 24746ms
2025-09-26T09:33:50.936Z [debug] compilerRouter: routing to js
2025-09-26T09:33:50.936Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T09:33:50.936Z [debug] [debugger] Chunk is valid with 30 actions, allowing all for rich visualizations
2025-09-26T09:33:50.940Z [debug] [gen] EMITTING to room: 3b1b-test-1758879158068 with 30 actions
2025-09-26T09:33:50.940Z [debug] [gen] Sockets in room 3b1b-test-1758879158068: 0
2025-09-26T09:33:50.940Z [warn] [gen] No sockets in room 3b1b-test-1758879158068! Using broadcast fallback.
2025-09-26T09:33:50.941Z [debug] [gen] END: session=3b1b-test-1758879158068 step=1, emitted chunk
2025-09-26T09:33:50.945Z [debug] [genWorker] Received job: gen id=28
2025-09-26T09:33:50.945Z [debug] [gen] START: session=3b1b-test-1758879142017 step=2 tag=part_2
2025-09-26T09:33:50.947Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Visualize complex numbers on the complex plane with rotations"}
2025-09-26T09:33:50.948Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T09:33:50.948Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:34:12.664Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 5652
2025-09-26T09:34:12.664Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:34:12.664Z [debug] [codegen] SUCCESS: Generated 41 actions for step 2
2025-09-26T09:34:12.664Z [debug] [gen] OK: prefetch codegen completed for session=3b1b-test-1758879142017 step=2 in 21717ms
2025-09-26T09:34:12.665Z [debug] compilerRouter: routing to js
2025-09-26T09:34:12.665Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T09:34:12.665Z [debug] [debugger] Chunk is valid with 41 actions, allowing all for rich visualizations
2025-09-26T09:34:12.666Z [debug] [gen] Prefetched and cached session=3b1b-test-1758879142017 step=2
2025-09-26T09:34:12.668Z [debug] [genWorker] Received job: gen id=30
2025-09-26T09:34:12.668Z [debug] [gen] START: session=3b1b-test-1758879125897 step=3 tag=dynamic_tangent
2025-09-26T09:34:12.669Z [debug] [codegen] START: stepId=3 tag=dynamic_tangent {"params":{},"query":"Show derivatives as tangent lines moving along a curve - visualize f(x) = x^2"}
2025-09-26T09:34:12.670Z [debug] [codegen] Sending prompt to Gemini for tag=dynamic_tangent
2025-09-26T09:34:12.670Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:34:18.234Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:34:18.234Z [error] [gen] Codegen failed for session=3b1b-test-1758879150044 step=1: Error: codegen/gemini timeout after 60000ms
2025-09-26T09:34:18.236Z [debug] [gen] EMITTING to room: 3b1b-test-1758879150044 with 3 actions
2025-09-26T09:34:18.236Z [debug] [gen] Sockets in room 3b1b-test-1758879150044: 0
2025-09-26T09:34:18.236Z [warn] [gen] No sockets in room 3b1b-test-1758879150044! Using broadcast fallback.
2025-09-26T09:34:18.238Z [debug] [gen] END: session=3b1b-test-1758879150044 step=1, emitted chunk
2025-09-26T09:34:18.241Z [debug] [genWorker] Received job: gen id=32
2025-09-26T09:34:18.241Z [debug] [gen] START: session=3b1b-test-1758879133991 step=3 tag=part_3
2025-09-26T09:34:18.243Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"Demonstrate vector addition and subtraction with animated arrows"}
2025-09-26T09:34:18.243Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T09:34:18.243Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:34:31.536Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 3574
2025-09-26T09:34:31.537Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:34:31.537Z [debug] [codegen] SUCCESS: Generated 31 actions for step 3
2025-09-26T09:34:31.537Z [debug] [gen] OK: prefetch codegen completed for session=3b1b-test-1758879133991 step=3 in 13294ms
2025-09-26T09:34:31.537Z [debug] compilerRouter: routing to js
2025-09-26T09:34:31.537Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T09:34:31.537Z [debug] [debugger] Chunk is valid with 31 actions, allowing all for rich visualizations
2025-09-26T09:34:31.537Z [debug] [gen] Prefetched and cached session=3b1b-test-1758879133991 step=3
2025-09-26T09:34:31.538Z [debug] [genWorker] Received job: gen id=34
2025-09-26T09:34:31.538Z [debug] [gen] START: session=3b1b-test-1758879158068 step=2 tag=part_2
2025-09-26T09:34:31.539Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Animate matrix transformations - rotation, scaling, shearing"}
2025-09-26T09:34:31.539Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T09:34:31.539Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:34:56.643Z [debug] Received request on /api/query {"body":{"query":"BRUTAL TEST: Explain quadratic functions with parabola visualization, vertex, and roots","sessionId":"brutal-debug-test"}}
2025-09-26T09:34:56.644Z [debug] [orchestrator] Enqueuing plan for session brutal-debug-test
2025-09-26T09:34:56.647Z [debug] [orchestrator] Plan job added with id 8 for session brutal-debug-test
2025-09-26T09:34:56.648Z [debug] [planWorker] Received job: plan id=8
2025-09-26T09:34:56.648Z [debug] [plan] START: session=brutal-debug-test query=BRUTAL TEST: Explain quadratic functions with parabola visualization, vertex, and roots
2025-09-26T09:34:56.649Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T09:34:56.649Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T09:35:11.449Z [debug] [planner] Received response from Gemini in 14800ms
2025-09-26T09:35:11.449Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T09:35:11.450Z [debug] [plan] OK: session=brutal-debug-test plan received with 5 steps
2025-09-26T09:35:11.451Z [debug] [plan] Enqueuing first step emit: session=brutal-debug-test stepId=1
2025-09-26T09:35:11.452Z [debug] [plan] END: session=brutal-debug-test
2025-09-26T09:35:12.671Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:35:12.686Z [error] [gen:failed] id=30 Error: codegen/gemini timeout after 60000ms
2025-09-26T09:35:12.686Z [debug] [genWorker] Received job: gen id=29
2025-09-26T09:35:12.687Z [debug] [gen] START: session=3b1b-test-1758879142017 step=2 tag=part_2
2025-09-26T09:35:12.688Z [debug] [gen] Using cached chunk for session=3b1b-test-1758879142017 step=2
2025-09-26T09:35:12.691Z [debug] [gen] EMITTING to room: 3b1b-test-1758879142017 with 41 actions
2025-09-26T09:35:12.691Z [debug] [gen] Sockets in room 3b1b-test-1758879142017: 0
2025-09-26T09:35:12.691Z [warn] [gen] No sockets in room 3b1b-test-1758879142017! Using broadcast fallback.
2025-09-26T09:35:12.692Z [debug] [gen] END: session=3b1b-test-1758879142017 step=2, emitted chunk
2025-09-26T09:35:12.695Z [debug] [genWorker] Received job: gen id=31
2025-09-26T09:35:12.695Z [debug] [gen] START: session=3b1b-test-1758879125897 step=3 tag=dynamic_tangent
2025-09-26T09:35:12.696Z [debug] [codegen] START: stepId=3 tag=dynamic_tangent {"params":{},"query":"Show derivatives as tangent lines moving along a curve - visualize f(x) = x^2"}
2025-09-26T09:35:12.696Z [debug] [codegen] Sending prompt to Gemini for tag=dynamic_tangent
2025-09-26T09:35:12.697Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:35:28.193Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 7300
2025-09-26T09:35:28.193Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:35:28.193Z [debug] [codegen] SUCCESS: Generated 70 actions for step 2
2025-09-26T09:35:28.193Z [debug] [gen] OK: prefetch codegen completed for session=3b1b-test-1758879158068 step=2 in 56654ms
2025-09-26T09:35:28.194Z [debug] compilerRouter: routing to js
2025-09-26T09:35:28.194Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T09:35:28.194Z [debug] [debugger] Chunk is valid with 70 actions, allowing all for rich visualizations
2025-09-26T09:35:28.196Z [debug] [gen] Prefetched and cached session=3b1b-test-1758879158068 step=2
2025-09-26T09:35:28.198Z [debug] [genWorker] Received job: gen id=33
2025-09-26T09:35:28.198Z [debug] [gen] START: session=3b1b-test-1758879133991 step=3 tag=part_3
2025-09-26T09:35:28.200Z [debug] [gen] Using cached chunk for session=3b1b-test-1758879133991 step=3
2025-09-26T09:35:28.203Z [debug] [gen] EMITTING to room: 3b1b-test-1758879133991 with 31 actions
2025-09-26T09:35:28.203Z [debug] [gen] Sockets in room 3b1b-test-1758879133991: 0
2025-09-26T09:35:28.203Z [warn] [gen] No sockets in room 3b1b-test-1758879133991! Using broadcast fallback.
2025-09-26T09:35:28.204Z [debug] [gen] END: session=3b1b-test-1758879133991 step=3, emitted chunk
2025-09-26T09:35:28.208Z [debug] [genWorker] Received job: gen id=35
2025-09-26T09:35:28.208Z [debug] [gen] START: session=3b1b-test-1758879158068 step=2 tag=part_2
2025-09-26T09:35:28.209Z [debug] [gen] Using cached chunk for session=3b1b-test-1758879158068 step=2
2025-09-26T09:35:28.214Z [debug] [gen] EMITTING to room: 3b1b-test-1758879158068 with 70 actions
2025-09-26T09:35:28.214Z [debug] [gen] Sockets in room 3b1b-test-1758879158068: 0
2025-09-26T09:35:28.214Z [warn] [gen] No sockets in room 3b1b-test-1758879158068! Using broadcast fallback.
2025-09-26T09:35:28.215Z [debug] [gen] END: session=3b1b-test-1758879158068 step=2, emitted chunk
2025-09-26T09:35:28.218Z [debug] [genWorker] Received job: gen id=36
2025-09-26T09:35:28.218Z [debug] [gen] START: session=3b1b-test-1758879150044 step=2 tag=part_2
2025-09-26T09:35:28.219Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Show how sine waves combine to form complex waveforms"}
2025-09-26T09:35:28.219Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T09:35:28.219Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:35:54.204Z [debug] Received request on /api/query {"body":{"query":"SIMPLE TEST: Draw a parabola y=x^2","sessionId":"simple-brutal-test"}}
2025-09-26T09:35:54.204Z [debug] [orchestrator] Enqueuing plan for session simple-brutal-test
2025-09-26T09:35:54.205Z [debug] [orchestrator] Plan job added with id 9 for session simple-brutal-test
2025-09-26T09:35:54.206Z [debug] [planWorker] Received job: plan id=9
2025-09-26T09:35:54.206Z [debug] [plan] START: session=simple-brutal-test query=SIMPLE TEST: Draw a parabola y=x^2
2025-09-26T09:35:54.207Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T09:35:54.207Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T09:36:06.448Z [debug] [planner] Received response from Gemini in 12240ms
2025-09-26T09:36:06.448Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T09:36:06.449Z [debug] [plan] OK: session=simple-brutal-test plan received with 5 steps
2025-09-26T09:36:06.450Z [debug] [plan] Enqueuing first step emit: session=simple-brutal-test stepId=1
2025-09-26T09:36:06.451Z [debug] [plan] END: session=simple-brutal-test
2025-09-26T09:36:12.696Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:36:12.697Z [error] [gen] Codegen failed for session=3b1b-test-1758879125897 step=3: Error: codegen/gemini timeout after 60000ms
2025-09-26T09:36:12.698Z [debug] [gen] EMITTING to room: 3b1b-test-1758879125897 with 3 actions
2025-09-26T09:36:12.698Z [debug] [gen] Sockets in room 3b1b-test-1758879125897: 0
2025-09-26T09:36:12.699Z [warn] [gen] No sockets in room 3b1b-test-1758879125897! Using broadcast fallback.
2025-09-26T09:36:12.699Z [debug] [gen] END: session=3b1b-test-1758879125897 step=3, emitted chunk
2025-09-26T09:36:12.702Z [debug] [genWorker] Received job: gen id=37
2025-09-26T09:36:12.702Z [debug] [gen] START: session=3b1b-test-1758879150044 step=2 tag=part_2
2025-09-26T09:36:12.703Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Show how sine waves combine to form complex waveforms"}
2025-09-26T09:36:12.704Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T09:36:12.704Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:36:18.741Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 7258
2025-09-26T09:36:18.742Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:36:18.742Z [debug] [codegen] SUCCESS: Generated 21 actions for step 2
2025-09-26T09:36:18.742Z [debug] [gen] OK: prefetch codegen completed for session=3b1b-test-1758879150044 step=2 in 50523ms
2025-09-26T09:36:18.742Z [debug] compilerRouter: routing to js
2025-09-26T09:36:18.742Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T09:36:18.742Z [debug] [debugger] Chunk is valid with 21 actions, allowing all for rich visualizations
2025-09-26T09:36:18.743Z [debug] [gen] Prefetched and cached session=3b1b-test-1758879150044 step=2
2025-09-26T09:36:18.745Z [debug] [genWorker] Received job: gen id=38
2025-09-26T09:36:18.745Z [debug] [gen] START: session=brutal-debug-test step=1 tag=part_1
2025-09-26T09:36:18.746Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"BRUTAL TEST: Explain quadratic functions with parabola visualization, vertex, and roots"}
2025-09-26T09:36:18.746Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T09:36:18.747Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:36:28.036Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 2052
2025-09-26T09:36:28.036Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:36:28.036Z [debug] [codegen] SUCCESS: Generated 18 actions for step 1
2025-09-26T09:36:28.037Z [debug] [gen] OK: codegen completed for session=brutal-debug-test step=1 in 9291ms
2025-09-26T09:36:28.037Z [debug] compilerRouter: routing to js
2025-09-26T09:36:28.037Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T09:36:28.037Z [debug] [debugger] Chunk is valid with 18 actions, allowing all for rich visualizations
2025-09-26T09:36:28.039Z [debug] [gen] EMITTING to room: brutal-debug-test with 18 actions
2025-09-26T09:36:28.039Z [debug] [gen] Sockets in room brutal-debug-test: 0
2025-09-26T09:36:28.040Z [warn] [gen] No sockets in room brutal-debug-test! Using broadcast fallback.
2025-09-26T09:36:28.040Z [debug] [gen] END: session=brutal-debug-test step=1, emitted chunk
2025-09-26T09:36:28.044Z [debug] [genWorker] Received job: gen id=39
2025-09-26T09:36:28.044Z [debug] [gen] START: session=3b1b-test-1758879142017 step=3 tag=part_3
2025-09-26T09:36:28.045Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"Visualize complex numbers on the complex plane with rotations"}
2025-09-26T09:36:28.045Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T09:36:28.046Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:37:12.706Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:37:12.707Z [error] [gen] Codegen failed for session=3b1b-test-1758879150044 step=2: Error: codegen/gemini timeout after 60000ms
2025-09-26T09:37:12.708Z [debug] [gen] EMITTING to room: 3b1b-test-1758879150044 with 3 actions
2025-09-26T09:37:12.708Z [debug] [gen] Sockets in room 3b1b-test-1758879150044: 0
2025-09-26T09:37:12.708Z [warn] [gen] No sockets in room 3b1b-test-1758879150044! Using broadcast fallback.
2025-09-26T09:37:12.709Z [debug] [gen] END: session=3b1b-test-1758879150044 step=2, emitted chunk
2025-09-26T09:37:12.713Z [debug] [genWorker] Received job: gen id=40
2025-09-26T09:37:12.713Z [debug] [gen] START: session=3b1b-test-1758879142017 step=3 tag=part_3
2025-09-26T09:37:12.714Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"Visualize complex numbers on the complex plane with rotations"}
2025-09-26T09:37:12.714Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T09:37:12.714Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:37:28.046Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:37:28.049Z [error] [gen:failed] id=39 Error: codegen/gemini timeout after 60000ms
2025-09-26T09:37:28.049Z [debug] [genWorker] Received job: gen id=41
2025-09-26T09:37:28.049Z [debug] [gen] START: session=3b1b-test-1758879133991 step=4 tag=part_4
2025-09-26T09:37:28.050Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"Demonstrate vector addition and subtraction with animated arrows"}
2025-09-26T09:37:28.051Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T09:37:28.051Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:38:12.715Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:38:12.716Z [error] [gen] Codegen failed for session=3b1b-test-1758879142017 step=3: Error: codegen/gemini timeout after 60000ms
2025-09-26T09:38:12.717Z [debug] [gen] EMITTING to room: 3b1b-test-1758879142017 with 3 actions
2025-09-26T09:38:12.717Z [debug] [gen] Sockets in room 3b1b-test-1758879142017: 0
2025-09-26T09:38:12.717Z [warn] [gen] No sockets in room 3b1b-test-1758879142017! Using broadcast fallback.
2025-09-26T09:38:12.718Z [debug] [gen] END: session=3b1b-test-1758879142017 step=3, emitted chunk
2025-09-26T09:38:12.722Z [debug] [genWorker] Received job: gen id=43
2025-09-26T09:38:12.722Z [debug] [gen] START: session=3b1b-test-1758879158068 step=3 tag=part_3
2025-09-26T09:38:12.724Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"Animate matrix transformations - rotation, scaling, shearing"}
2025-09-26T09:38:12.724Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T09:38:12.724Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:38:28.052Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:38:28.056Z [error] [gen:failed] id=41 Error: codegen/gemini timeout after 60000ms
2025-09-26T09:38:28.057Z [debug] [genWorker] Received job: gen id=45
2025-09-26T09:38:28.057Z [debug] [gen] START: session=simple-brutal-test step=1 tag=part_1
2025-09-26T09:38:28.058Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"SIMPLE TEST: Draw a parabola y=x^2"}
2025-09-26T09:38:28.059Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T09:38:28.059Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:38:34.098Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 874
2025-09-26T09:38:34.099Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:38:34.099Z [debug] [codegen] SUCCESS: Generated 9 actions for step 1
2025-09-26T09:38:34.099Z [debug] [gen] OK: codegen completed for session=simple-brutal-test step=1 in 6041ms
2025-09-26T09:38:34.099Z [debug] compilerRouter: routing to js
2025-09-26T09:38:34.099Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T09:38:34.099Z [debug] [debugger] Chunk is valid with 9 actions, allowing all for rich visualizations
2025-09-26T09:38:34.101Z [debug] [gen] EMITTING to room: simple-brutal-test with 9 actions
2025-09-26T09:38:34.102Z [debug] [gen] Sockets in room simple-brutal-test: 0
2025-09-26T09:38:34.102Z [warn] [gen] No sockets in room simple-brutal-test! Using broadcast fallback.
2025-09-26T09:38:34.102Z [debug] [gen] END: session=simple-brutal-test step=1, emitted chunk
2025-09-26T09:38:34.105Z [debug] [genWorker] Received job: gen id=46
2025-09-26T09:38:34.106Z [debug] [gen] START: session=3b1b-test-1758879125897 step=4 tag=derivative_mapping
2025-09-26T09:38:34.108Z [debug] [codegen] START: stepId=4 tag=derivative_mapping {"params":{},"query":"Show derivatives as tangent lines moving along a curve - visualize f(x) = x^2"}
2025-09-26T09:38:34.108Z [debug] [codegen] Sending prompt to Gemini for tag=derivative_mapping
2025-09-26T09:38:34.109Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:42:10.587Z [debug] NEW Plan worker created
2025-09-26T09:42:10.588Z [debug] NEW Gen worker created
2025-09-26T09:42:10.596Z [debug] Backend listening on http://localhost:3001
2025-09-26T09:42:10.614Z [debug] [genWorker] Received job: gen id=42
2025-09-26T09:42:10.614Z [debug] [gen] START: session=3b1b-test-1758879133991 step=4 tag=part_4
2025-09-26T09:42:10.614Z [debug] [genWorker] Received job: gen id=44
2025-09-26T09:42:10.614Z [debug] [gen] START: session=3b1b-test-1758879158068 step=3 tag=part_3
2025-09-26T09:42:10.616Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"Demonstrate vector addition and subtraction with animated arrows"}
2025-09-26T09:42:10.616Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T09:42:10.627Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:42:10.658Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"Animate matrix transformations - rotation, scaling, shearing"}
2025-09-26T09:42:10.658Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T09:42:10.658Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:42:35.221Z [debug] socket joined session socket-test-1758879755186
2025-09-26T09:42:36.221Z [debug] [test] Emitting test message to room socket-test-1758879755186
2025-09-26T09:42:37.225Z [debug] Received request on /api/query {"body":{"query":"Draw a simple sine wave y = sin(x) with axis and labels","sessionId":"socket-test-1758879755186"}}
2025-09-26T09:42:37.225Z [debug] [orchestrator] Enqueuing plan for session socket-test-1758879755186
2025-09-26T09:42:37.229Z [debug] [orchestrator] Plan job added with id 10 for session socket-test-1758879755186
2025-09-26T09:42:37.233Z [debug] [planWorker] Received job: plan id=10
2025-09-26T09:42:37.233Z [debug] [plan] START: session=socket-test-1758879755186 query=Draw a simple sine wave y = sin(x) with axis and labels
2025-09-26T09:42:37.234Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T09:42:37.234Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T09:42:52.325Z [debug] [planner] Received response from Gemini in 15091ms
2025-09-26T09:42:52.326Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T09:42:52.331Z [debug] [plan] OK: session=socket-test-1758879755186 plan received with 5 steps
2025-09-26T09:42:52.335Z [debug] [plan] Enqueuing first step emit: session=socket-test-1758879755186 stepId=1
2025-09-26T09:42:52.337Z [debug] [plan] END: session=socket-test-1758879755186
2025-09-26T09:42:55.532Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 5351
2025-09-26T09:42:55.532Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Expected ',' or '}' after property value in JSON at position 2305
2025-09-26T09:42:55.533Z [error] [codegen] JSON parse failed completely: SyntaxError: Expected ',' or '}' after property value in JSON at position 2193
2025-09-26T09:42:55.533Z [error] [gen] Codegen failed for session=3b1b-test-1758879158068 step=3: Error: Failed to parse codegen response: SyntaxError: Expected ',' or '}' after property value in JSON at position 2193
2025-09-26T09:42:55.535Z [debug] [gen] EMITTING to room: 3b1b-test-1758879158068 with 3 actions
2025-09-26T09:42:55.536Z [debug] [gen] Sockets in room 3b1b-test-1758879158068: 0
2025-09-26T09:42:55.536Z [warn] [gen] No sockets in room 3b1b-test-1758879158068! Using broadcast fallback.
2025-09-26T09:42:55.537Z [debug] [gen] END: session=3b1b-test-1758879158068 step=3, emitted chunk
2025-09-26T09:42:55.543Z [debug] [genWorker] Received job: gen id=46
2025-09-26T09:42:55.543Z [debug] [gen] START: session=3b1b-test-1758879125897 step=4 tag=derivative_mapping
2025-09-26T09:42:55.544Z [debug] [codegen] START: stepId=4 tag=derivative_mapping {"params":{},"query":"Show derivatives as tangent lines moving along a curve - visualize f(x) = x^2"}
2025-09-26T09:42:55.544Z [debug] [codegen] Sending prompt to Gemini for tag=derivative_mapping
2025-09-26T09:42:55.545Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:43:10.262Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 13853
2025-09-26T09:43:10.263Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Expected ',' or ']' after array element in JSON at position 3452
2025-09-26T09:43:10.264Z [error] [codegen] JSON parse failed completely: SyntaxError: Expected ',' or ']' after array element in JSON at position 2422
2025-09-26T09:43:10.264Z [error] [gen] Codegen failed for session=3b1b-test-1758879133991 step=4: Error: Failed to parse codegen response: SyntaxError: Expected ',' or ']' after array element in JSON at position 2422
2025-09-26T09:43:10.266Z [debug] [gen] EMITTING to room: 3b1b-test-1758879133991 with 3 actions
2025-09-26T09:43:10.266Z [debug] [gen] Sockets in room 3b1b-test-1758879133991: 0
2025-09-26T09:43:10.266Z [warn] [gen] No sockets in room 3b1b-test-1758879133991! Using broadcast fallback.
2025-09-26T09:43:10.267Z [debug] [gen] END: session=3b1b-test-1758879133991 step=4, emitted chunk
2025-09-26T09:43:10.271Z [debug] [genWorker] Received job: gen id=43
2025-09-26T09:43:10.271Z [debug] [gen] START: session=3b1b-test-1758879158068 step=3 tag=part_3
2025-09-26T09:43:10.273Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"Animate matrix transformations - rotation, scaling, shearing"}
2025-09-26T09:43:10.273Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T09:43:10.273Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:43:55.546Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:43:55.563Z [error] [gen:failed] id=46 Error: codegen/gemini timeout after 60000ms
2025-09-26T09:43:55.564Z [debug] [genWorker] Received job: gen id=48
2025-09-26T09:43:55.564Z [debug] [gen] START: session=brutal-debug-test step=2 tag=part_2
2025-09-26T09:43:55.566Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"BRUTAL TEST: Explain quadratic functions with parabola visualization, vertex, and roots"}
2025-09-26T09:43:55.566Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T09:43:55.567Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:44:10.275Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:44:10.277Z [error] [gen:failed] id=43 Error: codegen/gemini timeout after 60000ms
2025-09-26T09:44:10.278Z [debug] [genWorker] Received job: gen id=47
2025-09-26T09:44:10.278Z [debug] [gen] START: session=3b1b-test-1758879125897 step=4 tag=derivative_mapping
2025-09-26T09:44:10.281Z [debug] [codegen] START: stepId=4 tag=derivative_mapping {"params":{},"query":"Show derivatives as tangent lines moving along a curve - visualize f(x) = x^2"}
2025-09-26T09:44:10.281Z [debug] [codegen] Sending prompt to Gemini for tag=derivative_mapping
2025-09-26T09:44:10.282Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:44:17.646Z [debug] socket joined session final-test-1758879857625
2025-09-26T09:44:18.648Z [debug] [test] Emitting test message to room final-test-1758879857625
2025-09-26T09:44:19.662Z [debug] Received request on /api/query {"body":{"query":"TEST: Draw parabola y=x^2 with vertex and axis labels","sessionId":"final-test-1758879857625"}}
2025-09-26T09:44:19.662Z [debug] [orchestrator] Enqueuing plan for session final-test-1758879857625
2025-09-26T09:44:19.664Z [debug] [orchestrator] Plan job added with id 11 for session final-test-1758879857625
2025-09-26T09:44:19.666Z [debug] [planWorker] Received job: plan id=11
2025-09-26T09:44:19.666Z [debug] [plan] START: session=final-test-1758879857625 query=TEST: Draw parabola y=x^2 with vertex and axis labels
2025-09-26T09:44:19.667Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T09:44:19.667Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T09:44:28.945Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 5886
2025-09-26T09:44:28.946Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:44:28.946Z [debug] [codegen] SUCCESS: Generated 44 actions for step 2
2025-09-26T09:44:28.946Z [debug] [gen] OK: prefetch codegen completed for session=brutal-debug-test step=2 in 33380ms
2025-09-26T09:44:28.947Z [debug] compilerRouter: routing to js
2025-09-26T09:44:28.947Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T09:44:28.947Z [debug] [debugger] Chunk is valid with 44 actions, allowing all for rich visualizations
2025-09-26T09:44:28.948Z [debug] [gen] Prefetched and cached session=brutal-debug-test step=2
2025-09-26T09:44:28.950Z [debug] [genWorker] Received job: gen id=50
2025-09-26T09:44:28.950Z [debug] [gen] START: session=3b1b-test-1758879150044 step=3 tag=part_3
2025-09-26T09:44:28.951Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"Show how sine waves combine to form complex waveforms"}
2025-09-26T09:44:28.952Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T09:44:28.952Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:44:30.910Z [debug] [planner] Received response from Gemini in 11243ms
2025-09-26T09:44:30.910Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T09:44:30.911Z [debug] [plan] OK: session=final-test-1758879857625 plan received with 5 steps
2025-09-26T09:44:30.912Z [debug] [plan] Enqueuing first step emit: session=final-test-1758879857625 stepId=1
2025-09-26T09:44:30.913Z [debug] [plan] END: session=final-test-1758879857625
2025-09-26T09:45:10.283Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:45:10.283Z [error] [gen] Codegen failed for session=3b1b-test-1758879125897 step=4: Error: codegen/gemini timeout after 60000ms
2025-09-26T09:45:10.286Z [debug] [gen] EMITTING to room: 3b1b-test-1758879125897 with 3 actions
2025-09-26T09:45:10.286Z [debug] [gen] Sockets in room 3b1b-test-1758879125897: 0
2025-09-26T09:45:10.286Z [warn] [gen] No sockets in room 3b1b-test-1758879125897! Using broadcast fallback.
2025-09-26T09:45:10.286Z [debug] [gen] END: session=3b1b-test-1758879125897 step=4, emitted chunk
2025-09-26T09:45:10.290Z [debug] [genWorker] Received job: gen id=49
2025-09-26T09:45:10.291Z [debug] [gen] START: session=brutal-debug-test step=2 tag=part_2
2025-09-26T09:45:10.292Z [debug] [gen] Using cached chunk for session=brutal-debug-test step=2
2025-09-26T09:45:10.298Z [debug] [gen] EMITTING to room: brutal-debug-test with 44 actions
2025-09-26T09:45:10.298Z [debug] [gen] Sockets in room brutal-debug-test: 0
2025-09-26T09:45:10.298Z [warn] [gen] No sockets in room brutal-debug-test! Using broadcast fallback.
2025-09-26T09:45:10.299Z [debug] [gen] END: session=brutal-debug-test step=2, emitted chunk
2025-09-26T09:45:10.303Z [debug] [genWorker] Received job: gen id=51
2025-09-26T09:45:10.303Z [debug] [gen] START: session=3b1b-test-1758879150044 step=3 tag=part_3
2025-09-26T09:45:10.305Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"Show how sine waves combine to form complex waveforms"}
2025-09-26T09:45:10.305Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T09:45:10.305Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:45:28.954Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:45:28.957Z [error] [gen:failed] id=50 Error: codegen/gemini timeout after 60000ms
2025-09-26T09:45:28.957Z [debug] [genWorker] Received job: gen id=52
2025-09-26T09:45:28.958Z [debug] [gen] START: session=3b1b-test-1758879142017 step=4 tag=part_4
2025-09-26T09:45:28.959Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"Visualize complex numbers on the complex plane with rotations"}
2025-09-26T09:45:28.959Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T09:45:28.960Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:46:10.306Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:46:10.306Z [error] [gen] Codegen failed for session=3b1b-test-1758879150044 step=3: Error: codegen/gemini timeout after 60000ms
2025-09-26T09:46:10.308Z [debug] [gen] EMITTING to room: 3b1b-test-1758879150044 with 3 actions
2025-09-26T09:46:10.308Z [debug] [gen] Sockets in room 3b1b-test-1758879150044: 0
2025-09-26T09:46:10.309Z [warn] [gen] No sockets in room 3b1b-test-1758879150044! Using broadcast fallback.
2025-09-26T09:46:10.309Z [debug] [gen] END: session=3b1b-test-1758879150044 step=3, emitted chunk
2025-09-26T09:46:10.313Z [debug] [genWorker] Received job: gen id=53
2025-09-26T09:46:10.313Z [debug] [gen] START: session=3b1b-test-1758879142017 step=4 tag=part_4
2025-09-26T09:46:10.315Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"Visualize complex numbers on the complex plane with rotations"}
2025-09-26T09:46:10.315Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T09:46:10.316Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:46:28.961Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:46:28.963Z [error] [gen:failed] id=52 Error: codegen/gemini timeout after 60000ms
2025-09-26T09:46:28.964Z [debug] [genWorker] Received job: gen id=54
2025-09-26T09:46:28.965Z [debug] [gen] START: session=simple-brutal-test step=2 tag=part_2
2025-09-26T09:46:28.967Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"SIMPLE TEST: Draw a parabola y=x^2"}
2025-09-26T09:46:28.968Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T09:46:28.968Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:46:43.791Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 2100
2025-09-26T09:46:43.791Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Expected ',' or ']' after array element in JSON at position 749
2025-09-26T09:46:43.792Z [error] [codegen] JSON parse failed completely: SyntaxError: Expected ',' or ']' after array element in JSON at position 525
2025-09-26T09:46:43.792Z [error] [gen] Codegen failed for session=3b1b-test-1758879142017 step=4: Error: Failed to parse codegen response: SyntaxError: Expected ',' or ']' after array element in JSON at position 525
2025-09-26T09:46:43.793Z [debug] [gen] EMITTING to room: 3b1b-test-1758879142017 with 3 actions
2025-09-26T09:46:43.793Z [debug] [gen] Sockets in room 3b1b-test-1758879142017: 0
2025-09-26T09:46:43.794Z [warn] [gen] No sockets in room 3b1b-test-1758879142017! Using broadcast fallback.
2025-09-26T09:46:43.794Z [debug] [gen] END: session=3b1b-test-1758879142017 step=4, emitted chunk
2025-09-26T09:46:43.798Z [debug] [genWorker] Received job: gen id=55
2025-09-26T09:46:43.798Z [debug] [gen] START: session=simple-brutal-test step=2 tag=part_2
2025-09-26T09:46:43.799Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"SIMPLE TEST: Draw a parabola y=x^2"}
2025-09-26T09:46:43.799Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T09:46:43.800Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:46:49.199Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 2878
2025-09-26T09:46:49.199Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:46:49.199Z [debug] [codegen] SUCCESS: Generated 28 actions for step 2
2025-09-26T09:46:49.199Z [debug] [gen] OK: prefetch codegen completed for session=simple-brutal-test step=2 in 20232ms
2025-09-26T09:46:49.199Z [debug] compilerRouter: routing to js
2025-09-26T09:46:49.199Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T09:46:49.200Z [debug] [debugger] Chunk is valid with 28 actions, allowing all for rich visualizations
2025-09-26T09:46:49.200Z [debug] [gen] Prefetched and cached session=simple-brutal-test step=2
2025-09-26T09:46:49.202Z [debug] [genWorker] Received job: gen id=56
2025-09-26T09:46:49.202Z [debug] [gen] START: session=socket-test-1758879755186 step=1 tag=part_1
2025-09-26T09:46:49.204Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"Draw a simple sine wave y = sin(x) with axis and labels"}
2025-09-26T09:46:49.204Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T09:46:49.204Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:46:56.863Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 1943
2025-09-26T09:46:56.864Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:46:56.864Z [debug] [codegen] SUCCESS: Generated 12 actions for step 2
2025-09-26T09:46:56.864Z [debug] [gen] OK: codegen completed for session=simple-brutal-test step=2 in 13065ms
2025-09-26T09:46:56.864Z [debug] compilerRouter: routing to js
2025-09-26T09:46:56.864Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T09:46:56.864Z [debug] [debugger] Chunk is valid with 12 actions, allowing all for rich visualizations
2025-09-26T09:46:56.867Z [debug] [gen] EMITTING to room: simple-brutal-test with 12 actions
2025-09-26T09:46:56.867Z [debug] [gen] Sockets in room simple-brutal-test: 0
2025-09-26T09:46:56.867Z [warn] [gen] No sockets in room simple-brutal-test! Using broadcast fallback.
2025-09-26T09:46:56.867Z [debug] [gen] END: session=simple-brutal-test step=2, emitted chunk
2025-09-26T09:46:56.872Z [debug] [genWorker] Received job: gen id=57
2025-09-26T09:46:56.872Z [debug] [gen] START: session=3b1b-test-1758879158068 step=4 tag=part_4
2025-09-26T09:46:56.874Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"Animate matrix transformations - rotation, scaling, shearing"}
2025-09-26T09:46:56.874Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T09:46:56.874Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:47:37.276Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 3459
2025-09-26T09:47:37.276Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."1 },

    // Calcula"... is not valid JSON
2025-09-26T09:47:37.277Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."on": 1 }, // Calcula"... is not valid JSON
2025-09-26T09:47:37.277Z [error] [gen] Codegen failed for session=socket-test-1758879755186 step=1: Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."on": 1 }, // Calcula"... is not valid JSON
2025-09-26T09:47:37.278Z [debug] [gen] EMITTING to room: socket-test-1758879755186 with 3 actions
2025-09-26T09:47:37.278Z [debug] [gen] Sockets in room socket-test-1758879755186: 0
2025-09-26T09:47:37.278Z [warn] [gen] No sockets in room socket-test-1758879755186! Using broadcast fallback.
2025-09-26T09:47:37.279Z [debug] [gen] END: session=socket-test-1758879755186 step=1, emitted chunk
2025-09-26T09:47:37.283Z [debug] [genWorker] Received job: gen id=59
2025-09-26T09:47:37.283Z [debug] [gen] START: session=3b1b-test-1758879133991 step=5 tag=part_5
2025-09-26T09:47:37.285Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"Demonstrate vector addition and subtraction with animated arrows"}
2025-09-26T09:47:37.285Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T09:47:37.285Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:47:56.877Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:47:56.879Z [error] [gen:failed] id=57 Error: codegen/gemini timeout after 60000ms
2025-09-26T09:47:56.880Z [debug] [genWorker] Received job: gen id=58
2025-09-26T09:47:56.880Z [debug] [gen] START: session=3b1b-test-1758879158068 step=4 tag=part_4
2025-09-26T09:47:56.881Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"Animate matrix transformations - rotation, scaling, shearing"}
2025-09-26T09:47:56.881Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T09:47:56.882Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:48:03.250Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 6487
2025-09-26T09:48:03.250Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:48:03.251Z [debug] [codegen] SUCCESS: Generated 70 actions for step 5
2025-09-26T09:48:03.251Z [debug] [gen] OK: prefetch codegen completed for session=3b1b-test-1758879133991 step=5 in 25966ms
2025-09-26T09:48:03.251Z [debug] compilerRouter: routing to js
2025-09-26T09:48:03.251Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T09:48:03.251Z [debug] [debugger] Chunk is valid with 70 actions, allowing all for rich visualizations
2025-09-26T09:48:03.252Z [debug] [gen] Prefetched and cached session=3b1b-test-1758879133991 step=5
2025-09-26T09:48:03.254Z [debug] [genWorker] Received job: gen id=60
2025-09-26T09:48:03.254Z [debug] [gen] START: session=3b1b-test-1758879133991 step=5 tag=part_5
2025-09-26T09:48:03.256Z [debug] [gen] Using cached chunk for session=3b1b-test-1758879133991 step=5
2025-09-26T09:48:03.261Z [debug] [gen] EMITTING to room: 3b1b-test-1758879133991 with 70 actions
2025-09-26T09:48:03.261Z [debug] [gen] Sockets in room 3b1b-test-1758879133991: 0
2025-09-26T09:48:03.261Z [warn] [gen] No sockets in room 3b1b-test-1758879133991! Using broadcast fallback.
2025-09-26T09:48:03.261Z [debug] [gen] END: session=3b1b-test-1758879133991 step=5, emitted chunk
2025-09-26T09:48:03.261Z [debug] [orchestrator] All steps completed for session 3b1b-test-1758879133991
2025-09-26T09:48:03.262Z [debug] [genWorker] Received job: gen id=61
2025-09-26T09:48:03.263Z [debug] [gen] START: session=final-test-1758879857625 step=1 tag=basics
2025-09-26T09:48:03.263Z [debug] [codegen] START: stepId=1 tag=basics {"params":{},"query":"TEST: Draw parabola y=x^2 with vertex and axis labels"}
2025-09-26T09:48:03.263Z [debug] [codegen] Sending prompt to Gemini for tag=basics
2025-09-26T09:48:03.264Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:48:10.956Z [debug] [codegen] Received response from Gemini for tag=basics, length: 1984
2025-09-26T09:48:10.957Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:48:10.957Z [debug] [codegen] SUCCESS: Generated 12 actions for step 1
2025-09-26T09:48:10.957Z [debug] [gen] OK: codegen completed for session=final-test-1758879857625 step=1 in 7694ms
2025-09-26T09:48:10.957Z [debug] compilerRouter: routing to js
2025-09-26T09:48:10.957Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T09:48:10.957Z [debug] [debugger] Chunk is valid with 12 actions, allowing all for rich visualizations
2025-09-26T09:48:10.959Z [debug] [gen] EMITTING to room: final-test-1758879857625 with 12 actions
2025-09-26T09:48:10.960Z [debug] [gen] Sockets in room final-test-1758879857625: 0
2025-09-26T09:48:10.960Z [warn] [gen] No sockets in room final-test-1758879857625! Using broadcast fallback.
2025-09-26T09:48:10.960Z [debug] [gen] END: session=final-test-1758879857625 step=1, emitted chunk
2025-09-26T09:48:10.964Z [debug] [genWorker] Received job: gen id=62
2025-09-26T09:48:10.964Z [debug] [gen] START: session=3b1b-test-1758879125897 step=5 tag=summary_conclusion
2025-09-26T09:48:10.967Z [debug] [codegen] START: stepId=5 tag=summary_conclusion {"params":{},"query":"Show derivatives as tangent lines moving along a curve - visualize f(x) = x^2"}
2025-09-26T09:48:10.967Z [debug] [codegen] Sending prompt to Gemini for tag=summary_conclusion
2025-09-26T09:48:10.967Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:48:11.973Z [debug] socket joined session 44d6a23a-ebb5-42af-a974-46a49b093f45
2025-09-26T09:48:11.982Z [debug] Received request on /api/query {"body":{"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H","sessionId":"44d6a23a-ebb5-42af-a974-46a49b093f45"}}
2025-09-26T09:48:11.983Z [debug] [orchestrator] Enqueuing plan for session 44d6a23a-ebb5-42af-a974-46a49b093f45
2025-09-26T09:48:11.985Z [debug] [orchestrator] Plan job added with id 12 for session 44d6a23a-ebb5-42af-a974-46a49b093f45
2025-09-26T09:48:11.987Z [debug] [planWorker] Received job: plan id=12
2025-09-26T09:48:11.987Z [debug] [plan] START: session=44d6a23a-ebb5-42af-a974-46a49b093f45 query=tell me H20 structure and draw Grah between the intermolecular force between OH and H
2025-09-26T09:48:11.987Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T09:48:11.988Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T09:48:12.975Z [debug] [test] Emitting test message to room 44d6a23a-ebb5-42af-a974-46a49b093f45
2025-09-26T09:48:32.810Z [debug] [planner] Received response from Gemini in 20823ms
2025-09-26T09:48:32.811Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T09:48:32.811Z [debug] [plan] OK: session=44d6a23a-ebb5-42af-a974-46a49b093f45 plan received with 5 steps
2025-09-26T09:48:32.812Z [debug] [plan] Enqueuing first step emit: session=44d6a23a-ebb5-42af-a974-46a49b093f45 stepId=1
2025-09-26T09:48:32.813Z [debug] [plan] END: session=44d6a23a-ebb5-42af-a974-46a49b093f45
2025-09-26T09:48:36.329Z [debug] [codegen] Received response from Gemini for tag=summary_conclusion, length: 2976
2025-09-26T09:48:36.329Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:48:36.329Z [debug] [codegen] SUCCESS: Generated 22 actions for step 5
2025-09-26T09:48:36.329Z [debug] [gen] OK: prefetch codegen completed for session=3b1b-test-1758879125897 step=5 in 25362ms
2025-09-26T09:48:36.330Z [debug] compilerRouter: routing to js
2025-09-26T09:48:36.330Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T09:48:36.330Z [debug] [debugger] Chunk is valid with 22 actions, allowing all for rich visualizations
2025-09-26T09:48:36.330Z [debug] [gen] Prefetched and cached session=3b1b-test-1758879125897 step=5
2025-09-26T09:48:36.332Z [debug] [genWorker] Received job: gen id=64
2025-09-26T09:48:36.332Z [debug] [gen] START: session=brutal-debug-test step=3 tag=part_3
2025-09-26T09:48:36.333Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"BRUTAL TEST: Explain quadratic functions with parabola visualization, vertex, and roots"}
2025-09-26T09:48:36.334Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T09:48:36.334Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:48:46.658Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 7826
2025-09-26T09:48:46.658Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:48:46.658Z [debug] [codegen] SUCCESS: Generated 53 actions for step 4
2025-09-26T09:48:46.658Z [debug] [gen] OK: codegen completed for session=3b1b-test-1758879158068 step=4 in 49777ms
2025-09-26T09:48:46.658Z [debug] compilerRouter: routing to js
2025-09-26T09:48:46.658Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T09:48:46.658Z [debug] [debugger] Chunk is valid with 53 actions, allowing all for rich visualizations
2025-09-26T09:48:46.665Z [debug] [gen] EMITTING to room: 3b1b-test-1758879158068 with 53 actions
2025-09-26T09:48:46.666Z [debug] [gen] Sockets in room 3b1b-test-1758879158068: 0
2025-09-26T09:48:46.666Z [warn] [gen] No sockets in room 3b1b-test-1758879158068! Using broadcast fallback.
2025-09-26T09:48:46.667Z [debug] [gen] END: session=3b1b-test-1758879158068 step=4, emitted chunk
2025-09-26T09:48:46.671Z [debug] [genWorker] Received job: gen id=63
2025-09-26T09:48:46.671Z [debug] [gen] START: session=3b1b-test-1758879125897 step=5 tag=summary_conclusion
2025-09-26T09:48:46.673Z [debug] [gen] Using cached chunk for session=3b1b-test-1758879125897 step=5
2025-09-26T09:48:46.675Z [debug] [gen] EMITTING to room: 3b1b-test-1758879125897 with 22 actions
2025-09-26T09:48:46.675Z [debug] [gen] Sockets in room 3b1b-test-1758879125897: 0
2025-09-26T09:48:46.675Z [warn] [gen] No sockets in room 3b1b-test-1758879125897! Using broadcast fallback.
2025-09-26T09:48:46.675Z [debug] [gen] END: session=3b1b-test-1758879125897 step=5, emitted chunk
2025-09-26T09:48:46.676Z [debug] [orchestrator] All steps completed for session 3b1b-test-1758879125897
2025-09-26T09:48:46.677Z [debug] [genWorker] Received job: gen id=65
2025-09-26T09:48:46.677Z [debug] [gen] START: session=brutal-debug-test step=3 tag=part_3
2025-09-26T09:48:46.678Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"BRUTAL TEST: Explain quadratic functions with parabola visualization, vertex, and roots"}
2025-09-26T09:48:46.678Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T09:48:46.678Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:48:50.874Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 4996
2025-09-26T09:48:50.875Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:48:50.875Z [debug] [codegen] SUCCESS: Generated 31 actions for step 3
2025-09-26T09:48:50.875Z [debug] [gen] OK: prefetch codegen completed for session=brutal-debug-test step=3 in 14542ms
2025-09-26T09:48:50.875Z [debug] compilerRouter: routing to js
2025-09-26T09:48:50.875Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T09:48:50.875Z [debug] [debugger] Chunk is valid with 31 actions, allowing all for rich visualizations
2025-09-26T09:48:50.876Z [debug] [gen] Prefetched and cached session=brutal-debug-test step=3
2025-09-26T09:48:50.878Z [debug] [genWorker] Received job: gen id=66
2025-09-26T09:48:50.878Z [debug] [gen] START: session=3b1b-test-1758879150044 step=4 tag=part_4
2025-09-26T09:48:50.879Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"Show how sine waves combine to form complex waveforms"}
2025-09-26T09:48:50.879Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T09:48:50.880Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:49:03.039Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 1999
2025-09-26T09:49:03.039Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:49:03.039Z [debug] [codegen] SUCCESS: Generated 18 actions for step 4
2025-09-26T09:49:03.039Z [debug] [gen] OK: prefetch codegen completed for session=3b1b-test-1758879150044 step=4 in 12160ms
2025-09-26T09:49:03.039Z [debug] compilerRouter: routing to js
2025-09-26T09:49:03.039Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T09:49:03.039Z [debug] [debugger] Chunk is valid with 18 actions, allowing all for rich visualizations
2025-09-26T09:49:03.040Z [debug] [gen] Prefetched and cached session=3b1b-test-1758879150044 step=4
2025-09-26T09:49:03.042Z [debug] [genWorker] Received job: gen id=67
2025-09-26T09:49:03.042Z [debug] [gen] START: session=3b1b-test-1758879150044 step=4 tag=part_4
2025-09-26T09:49:03.043Z [debug] [gen] Using cached chunk for session=3b1b-test-1758879150044 step=4
2025-09-26T09:49:03.045Z [debug] [gen] EMITTING to room: 3b1b-test-1758879150044 with 18 actions
2025-09-26T09:49:03.045Z [debug] [gen] Sockets in room 3b1b-test-1758879150044: 0
2025-09-26T09:49:03.045Z [warn] [gen] No sockets in room 3b1b-test-1758879150044! Using broadcast fallback.
2025-09-26T09:49:03.045Z [debug] [gen] END: session=3b1b-test-1758879150044 step=4, emitted chunk
2025-09-26T09:49:03.049Z [debug] [genWorker] Received job: gen id=68
2025-09-26T09:49:03.049Z [debug] [gen] START: session=3b1b-test-1758879142017 step=5 tag=part_5
2025-09-26T09:49:03.050Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"Visualize complex numbers on the complex plane with rotations"}
2025-09-26T09:49:03.050Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T09:49:03.051Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:49:46.678Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:49:46.679Z [error] [gen] Codegen failed for session=brutal-debug-test step=3: Error: codegen/gemini timeout after 60000ms
2025-09-26T09:49:46.680Z [debug] [gen] EMITTING to room: brutal-debug-test with 3 actions
2025-09-26T09:49:46.680Z [debug] [gen] Sockets in room brutal-debug-test: 0
2025-09-26T09:49:46.680Z [warn] [gen] No sockets in room brutal-debug-test! Using broadcast fallback.
2025-09-26T09:49:46.680Z [debug] [gen] END: session=brutal-debug-test step=3, emitted chunk
2025-09-26T09:49:46.684Z [debug] [genWorker] Received job: gen id=70
2025-09-26T09:49:46.684Z [debug] [gen] START: session=simple-brutal-test step=3 tag=part_3
2025-09-26T09:49:46.685Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"SIMPLE TEST: Draw a parabola y=x^2"}
2025-09-26T09:49:46.685Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T09:49:46.686Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:50:02.055Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 5333
2025-09-26T09:50:02.057Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."5 },

    // 1. Draw"... is not valid JSON
2025-09-26T09:50:02.058Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."": 1.5 }, // 1. Draw"... is not valid JSON
2025-09-26T09:50:02.091Z [error] [gen:failed] id=68 Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."": 1.5 }, // 1. Draw"... is not valid JSON
2025-09-26T09:50:02.091Z [debug] [genWorker] Received job: gen id=69
2025-09-26T09:50:02.092Z [debug] [gen] START: session=3b1b-test-1758879142017 step=5 tag=part_5
2025-09-26T09:50:02.093Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"Visualize complex numbers on the complex plane with rotations"}
2025-09-26T09:50:02.093Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T09:50:02.093Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:50:07.735Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 1568
2025-09-26T09:50:07.735Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:50:07.735Z [debug] [codegen] SUCCESS: Generated 13 actions for step 5
2025-09-26T09:50:07.736Z [debug] [gen] OK: codegen completed for session=3b1b-test-1758879142017 step=5 in 5643ms
2025-09-26T09:50:07.736Z [debug] compilerRouter: routing to js
2025-09-26T09:50:07.736Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T09:50:07.736Z [debug] [debugger] Chunk is valid with 13 actions, allowing all for rich visualizations
2025-09-26T09:50:07.737Z [debug] [gen] EMITTING to room: 3b1b-test-1758879142017 with 13 actions
2025-09-26T09:50:07.738Z [debug] [gen] Sockets in room 3b1b-test-1758879142017: 0
2025-09-26T09:50:07.738Z [warn] [gen] No sockets in room 3b1b-test-1758879142017! Using broadcast fallback.
2025-09-26T09:50:07.738Z [debug] [gen] END: session=3b1b-test-1758879142017 step=5, emitted chunk
2025-09-26T09:50:07.738Z [debug] [orchestrator] All steps completed for session 3b1b-test-1758879142017
2025-09-26T09:50:07.740Z [debug] [genWorker] Received job: gen id=72
2025-09-26T09:50:07.740Z [debug] [gen] START: session=socket-test-1758879755186 step=2 tag=part_2
2025-09-26T09:50:07.742Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Draw a simple sine wave y = sin(x) with axis and labels"}
2025-09-26T09:50:07.742Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T09:50:07.742Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:50:22.090Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 3255
2025-09-26T09:50:22.091Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:50:22.091Z [debug] [codegen] SUCCESS: Generated 30 actions for step 3
2025-09-26T09:50:22.091Z [debug] [gen] OK: prefetch codegen completed for session=simple-brutal-test step=3 in 35406ms
2025-09-26T09:50:22.091Z [debug] compilerRouter: routing to js
2025-09-26T09:50:22.091Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T09:50:22.091Z [debug] [debugger] Chunk is valid with 30 actions, allowing all for rich visualizations
2025-09-26T09:50:22.092Z [debug] [gen] Prefetched and cached session=simple-brutal-test step=3
2025-09-26T09:50:22.095Z [debug] [genWorker] Received job: gen id=71
2025-09-26T09:50:22.095Z [debug] [gen] START: session=simple-brutal-test step=3 tag=part_3
2025-09-26T09:50:22.096Z [debug] [gen] Using cached chunk for session=simple-brutal-test step=3
2025-09-26T09:50:22.099Z [debug] [gen] EMITTING to room: simple-brutal-test with 30 actions
2025-09-26T09:50:22.099Z [debug] [gen] Sockets in room simple-brutal-test: 0
2025-09-26T09:50:22.099Z [warn] [gen] No sockets in room simple-brutal-test! Using broadcast fallback.
2025-09-26T09:50:22.100Z [debug] [gen] END: session=simple-brutal-test step=3, emitted chunk
2025-09-26T09:50:22.103Z [debug] [genWorker] Received job: gen id=73
2025-09-26T09:50:22.103Z [debug] [gen] START: session=socket-test-1758879755186 step=2 tag=part_2
2025-09-26T09:50:22.105Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Draw a simple sine wave y = sin(x) with axis and labels"}
2025-09-26T09:50:22.105Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T09:50:22.105Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:50:30.740Z [debug] Shutting down server...
2025-09-26T09:50:40.548Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 1823
2025-09-26T09:50:40.549Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '(', ...""points": (function("... is not valid JSON
2025-09-26T09:50:40.549Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '(', ...""points": (function("... is not valid JSON
2025-09-26T09:50:40.551Z [error] [gen:failed] id=72 Error: Failed to parse codegen response: SyntaxError: Unexpected token '(', ...""points": (function("... is not valid JSON
2025-09-26T09:50:40.552Z [debug] [genWorker] Received job: gen id=74
2025-09-26T09:50:40.552Z [debug] [gen] START: session=final-test-1758879857625 step=2 tag=key_features
2025-09-26T09:50:40.553Z [debug] [codegen] START: stepId=2 tag=key_features {"params":{},"query":"TEST: Draw parabola y=x^2 with vertex and axis labels"}
2025-09-26T09:50:40.553Z [debug] [codegen] Sending prompt to Gemini for tag=key_features
2025-09-26T09:50:40.553Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:51:04.668Z [debug] [codegen] Received response from Gemini for tag=key_features, length: 2862
2025-09-26T09:51:04.668Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:51:04.668Z [debug] [codegen] SUCCESS: Generated 14 actions for step 2
2025-09-26T09:51:04.668Z [debug] [gen] OK: prefetch codegen completed for session=final-test-1758879857625 step=2 in 24115ms
2025-09-26T09:51:04.668Z [debug] compilerRouter: routing to js
2025-09-26T09:51:04.669Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T09:51:04.669Z [debug] [debugger] Chunk is valid with 14 actions, allowing all for rich visualizations
2025-09-26T09:51:04.669Z [debug] [gen] Prefetched and cached session=final-test-1758879857625 step=2
2025-09-26T09:51:04.671Z [debug] [genWorker] Received job: gen id=76
2025-09-26T09:51:04.671Z [debug] [gen] START: session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=1 tag=part_1
2025-09-26T09:51:04.672Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T09:51:04.673Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T09:51:04.673Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:51:22.106Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:51:22.106Z [error] [gen] Codegen failed for session=socket-test-1758879755186 step=2: Error: codegen/gemini timeout after 60000ms
2025-09-26T09:51:22.107Z [debug] [gen] EMITTING to room: socket-test-1758879755186 with 3 actions
2025-09-26T09:51:22.108Z [debug] [gen] Sockets in room socket-test-1758879755186: 0
2025-09-26T09:51:22.108Z [warn] [gen] No sockets in room socket-test-1758879755186! Using broadcast fallback.
2025-09-26T09:51:22.108Z [debug] [gen] END: session=socket-test-1758879755186 step=2, emitted chunk
2025-09-26T09:51:22.112Z [debug] [genWorker] Received job: gen id=75
2025-09-26T09:51:22.112Z [debug] [gen] START: session=final-test-1758879857625 step=2 tag=key_features
2025-09-26T09:51:22.113Z [debug] [gen] Using cached chunk for session=final-test-1758879857625 step=2
2025-09-26T09:51:22.116Z [debug] [gen] EMITTING to room: final-test-1758879857625 with 14 actions
2025-09-26T09:51:22.116Z [debug] [gen] Sockets in room final-test-1758879857625: 0
2025-09-26T09:51:22.116Z [warn] [gen] No sockets in room final-test-1758879857625! Using broadcast fallback.
2025-09-26T09:51:22.117Z [debug] [gen] END: session=final-test-1758879857625 step=2, emitted chunk
2025-09-26T09:51:22.121Z [debug] [genWorker] Received job: gen id=77
2025-09-26T09:51:22.121Z [debug] [gen] START: session=3b1b-test-1758879158068 step=5 tag=part_5
2025-09-26T09:51:22.122Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"Animate matrix transformations - rotation, scaling, shearing"}
2025-09-26T09:51:22.122Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T09:51:22.123Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:51:55.784Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 5532
2025-09-26T09:51:55.784Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."s": [
    // 1. Titl"... is not valid JSON
2025-09-26T09:51:55.785Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."tions": [ // 1. Titl"... is not valid JSON
2025-09-26T09:51:55.785Z [error] [gen] Codegen failed for session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=1: Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."tions": [ // 1. Titl"... is not valid JSON
2025-09-26T09:51:55.786Z [debug] [gen] EMITTING to room: 44d6a23a-ebb5-42af-a974-46a49b093f45 with 3 actions
2025-09-26T09:51:55.786Z [debug] [gen] Sockets in room 44d6a23a-ebb5-42af-a974-46a49b093f45: 1
2025-09-26T09:51:55.787Z [debug] [gen] Emitted to room 44d6a23a-ebb5-42af-a974-46a49b093f45 with 1 sockets
2025-09-26T09:51:55.787Z [debug] [gen] END: session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=1, emitted chunk
2025-09-26T09:51:55.791Z [debug] [genWorker] Received job: gen id=78
2025-09-26T09:51:55.791Z [debug] [gen] START: session=3b1b-test-1758879158068 step=5 tag=part_5
2025-09-26T09:51:55.793Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"Animate matrix transformations - rotation, scaling, shearing"}
2025-09-26T09:51:55.793Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T09:51:55.793Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:52:14.999Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 8539
2025-09-26T09:52:15.000Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Expected ',' or ']' after array element in JSON at position 1943
2025-09-26T09:52:15.001Z [error] [codegen] JSON parse failed completely: SyntaxError: Expected ',' or ']' after array element in JSON at position 1337
2025-09-26T09:52:15.003Z [error] [gen:failed] id=77 Error: Failed to parse codegen response: SyntaxError: Expected ',' or ']' after array element in JSON at position 1337
2025-09-26T09:52:15.004Z [debug] [genWorker] Received job: gen id=79
2025-09-26T09:52:15.004Z [debug] [gen] START: session=3b1b-test-1758879150044 step=5 tag=part_5
2025-09-26T09:52:15.005Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"Show how sine waves combine to form complex waveforms"}
2025-09-26T09:52:15.005Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T09:52:15.006Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:52:50.199Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 7590
2025-09-26T09:52:50.200Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '<', ..."1 },

    <!-- Defin"... is not valid JSON
2025-09-26T09:52:50.202Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '<', ..."on": 1 }, <!-- Defin"... is not valid JSON
2025-09-26T09:52:50.202Z [error] [gen] Codegen failed for session=3b1b-test-1758879158068 step=5: Error: Failed to parse codegen response: SyntaxError: Unexpected token '<', ..."on": 1 }, <!-- Defin"... is not valid JSON
2025-09-26T09:52:50.203Z [debug] [gen] EMITTING to room: 3b1b-test-1758879158068 with 3 actions
2025-09-26T09:52:50.203Z [debug] [gen] Sockets in room 3b1b-test-1758879158068: 0
2025-09-26T09:52:50.203Z [warn] [gen] No sockets in room 3b1b-test-1758879158068! Using broadcast fallback.
2025-09-26T09:52:50.203Z [debug] [gen] END: session=3b1b-test-1758879158068 step=5, emitted chunk
2025-09-26T09:52:50.204Z [debug] [orchestrator] All steps completed for session 3b1b-test-1758879158068
2025-09-26T09:52:50.206Z [debug] [genWorker] Received job: gen id=81
2025-09-26T09:52:50.206Z [debug] [gen] START: session=brutal-debug-test step=4 tag=part_4
2025-09-26T09:52:50.209Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"BRUTAL TEST: Explain quadratic functions with parabola visualization, vertex, and roots"}
2025-09-26T09:52:50.209Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T09:52:50.209Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:53:07.906Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 4752
2025-09-26T09:53:07.907Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Expected ',' or ']' after array element in JSON at position 1547
2025-09-26T09:53:07.907Z [error] [codegen] JSON parse failed completely: SyntaxError: Expected ',' or '}' after property value in JSON at position 336
2025-09-26T09:53:07.910Z [error] [gen:failed] id=81 Error: Failed to parse codegen response: SyntaxError: Expected ',' or '}' after property value in JSON at position 336
2025-09-26T09:53:07.911Z [debug] [genWorker] Received job: gen id=80
2025-09-26T09:53:07.911Z [debug] [gen] START: session=3b1b-test-1758879150044 step=5 tag=part_5
2025-09-26T09:53:07.912Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"Show how sine waves combine to form complex waveforms"}
2025-09-26T09:53:07.912Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T09:53:07.913Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:53:15.008Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:53:15.011Z [error] [gen:failed] id=79 Error: codegen/gemini timeout after 60000ms
2025-09-26T09:53:15.011Z [debug] [genWorker] Received job: gen id=82
2025-09-26T09:53:15.012Z [debug] [gen] START: session=brutal-debug-test step=4 tag=part_4
2025-09-26T09:53:15.013Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"BRUTAL TEST: Explain quadratic functions with parabola visualization, vertex, and roots"}
2025-09-26T09:53:15.013Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T09:53:15.013Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:53:38.761Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 4883
2025-09-26T09:53:38.761Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:53:38.762Z [debug] [codegen] SUCCESS: Generated 41 actions for step 4
2025-09-26T09:53:38.762Z [debug] [gen] OK: codegen completed for session=brutal-debug-test step=4 in 23749ms
2025-09-26T09:53:38.762Z [debug] compilerRouter: routing to js
2025-09-26T09:53:38.762Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T09:53:38.762Z [debug] [debugger] Chunk is valid with 41 actions, allowing all for rich visualizations
2025-09-26T09:53:38.764Z [debug] [gen] EMITTING to room: brutal-debug-test with 41 actions
2025-09-26T09:53:38.764Z [debug] [gen] Sockets in room brutal-debug-test: 0
2025-09-26T09:53:38.764Z [warn] [gen] No sockets in room brutal-debug-test! Using broadcast fallback.
2025-09-26T09:53:38.765Z [debug] [gen] END: session=brutal-debug-test step=4, emitted chunk
2025-09-26T09:53:38.768Z [debug] [genWorker] Received job: gen id=83
2025-09-26T09:53:38.768Z [debug] [gen] START: session=simple-brutal-test step=4 tag=part_4
2025-09-26T09:53:38.770Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"SIMPLE TEST: Draw a parabola y=x^2"}
2025-09-26T09:53:38.770Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T09:53:38.770Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:54:07.913Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:54:07.913Z [error] [gen] Codegen failed for session=3b1b-test-1758879150044 step=5: Error: codegen/gemini timeout after 60000ms
2025-09-26T09:54:07.916Z [debug] [gen] EMITTING to room: 3b1b-test-1758879150044 with 3 actions
2025-09-26T09:54:07.916Z [debug] [gen] Sockets in room 3b1b-test-1758879150044: 0
2025-09-26T09:54:07.916Z [warn] [gen] No sockets in room 3b1b-test-1758879150044! Using broadcast fallback.
2025-09-26T09:54:07.917Z [debug] [gen] END: session=3b1b-test-1758879150044 step=5, emitted chunk
2025-09-26T09:54:07.917Z [debug] [orchestrator] All steps completed for session 3b1b-test-1758879150044
2025-09-26T09:54:07.918Z [debug] [genWorker] Received job: gen id=84
2025-09-26T09:54:07.919Z [debug] [gen] START: session=simple-brutal-test step=4 tag=part_4
2025-09-26T09:54:07.920Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"SIMPLE TEST: Draw a parabola y=x^2"}
2025-09-26T09:54:07.920Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T09:54:07.921Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:54:38.770Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:54:38.773Z [error] [gen:failed] id=83 Error: codegen/gemini timeout after 60000ms
2025-09-26T09:54:38.773Z [debug] [genWorker] Received job: gen id=85
2025-09-26T09:54:38.773Z [debug] [gen] START: session=socket-test-1758879755186 step=3 tag=part_3
2025-09-26T09:54:38.775Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"Draw a simple sine wave y = sin(x) with axis and labels"}
2025-09-26T09:54:38.775Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T09:54:38.775Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:54:53.664Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 3211
2025-09-26T09:54:53.664Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:54:53.664Z [debug] [codegen] SUCCESS: Generated 27 actions for step 3
2025-09-26T09:54:53.664Z [debug] [gen] OK: prefetch codegen completed for session=socket-test-1758879755186 step=3 in 14889ms
2025-09-26T09:54:53.664Z [debug] compilerRouter: routing to js
2025-09-26T09:54:53.665Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T09:54:53.665Z [debug] [debugger] Chunk is valid with 27 actions, allowing all for rich visualizations
2025-09-26T09:54:53.665Z [debug] [gen] Prefetched and cached session=socket-test-1758879755186 step=3
2025-09-26T09:54:53.667Z [debug] [genWorker] Received job: gen id=87
2025-09-26T09:54:53.667Z [debug] [gen] START: session=final-test-1758879857625 step=3 tag=plotting_points
2025-09-26T09:54:53.668Z [debug] [codegen] START: stepId=3 tag=plotting_points {"params":{},"query":"TEST: Draw parabola y=x^2 with vertex and axis labels"}
2025-09-26T09:54:53.669Z [debug] [codegen] Sending prompt to Gemini for tag=plotting_points
2025-09-26T09:54:53.669Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:55:07.921Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:55:07.921Z [error] [gen] Codegen failed for session=simple-brutal-test step=4: Error: codegen/gemini timeout after 60000ms
2025-09-26T09:55:07.922Z [debug] [gen] EMITTING to room: simple-brutal-test with 3 actions
2025-09-26T09:55:07.922Z [debug] [gen] Sockets in room simple-brutal-test: 0
2025-09-26T09:55:07.922Z [warn] [gen] No sockets in room simple-brutal-test! Using broadcast fallback.
2025-09-26T09:55:07.923Z [debug] [gen] END: session=simple-brutal-test step=4, emitted chunk
2025-09-26T09:55:07.927Z [debug] [genWorker] Received job: gen id=89
2025-09-26T09:55:07.927Z [debug] [gen] START: session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=2 tag=part_2
2025-09-26T09:55:07.930Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T09:55:07.930Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T09:55:07.930Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:55:16.305Z [debug] [codegen] Received response from Gemini for tag=plotting_points, length: 3032
2025-09-26T09:55:16.306Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:55:16.306Z [debug] [codegen] SUCCESS: Generated 27 actions for step 3
2025-09-26T09:55:16.306Z [debug] [gen] OK: prefetch codegen completed for session=final-test-1758879857625 step=3 in 22638ms
2025-09-26T09:55:16.306Z [debug] compilerRouter: routing to js
2025-09-26T09:55:16.306Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T09:55:16.306Z [debug] [debugger] Chunk is valid with 27 actions, allowing all for rich visualizations
2025-09-26T09:55:16.307Z [debug] [gen] Prefetched and cached session=final-test-1758879857625 step=3
2025-09-26T09:55:16.308Z [debug] [genWorker] Received job: gen id=86
2025-09-26T09:55:16.308Z [debug] [gen] START: session=socket-test-1758879755186 step=3 tag=part_3
2025-09-26T09:55:16.309Z [debug] [gen] Using cached chunk for session=socket-test-1758879755186 step=3
2025-09-26T09:55:16.310Z [debug] [gen] EMITTING to room: socket-test-1758879755186 with 27 actions
2025-09-26T09:55:16.311Z [debug] [gen] Sockets in room socket-test-1758879755186: 0
2025-09-26T09:55:16.311Z [warn] [gen] No sockets in room socket-test-1758879755186! Using broadcast fallback.
2025-09-26T09:55:16.311Z [debug] [gen] END: session=socket-test-1758879755186 step=3, emitted chunk
2025-09-26T09:55:16.314Z [debug] [genWorker] Received job: gen id=88
2025-09-26T09:55:16.314Z [debug] [gen] START: session=final-test-1758879857625 step=3 tag=plotting_points
2025-09-26T09:55:16.315Z [debug] [gen] Using cached chunk for session=final-test-1758879857625 step=3
2025-09-26T09:55:16.317Z [debug] [gen] EMITTING to room: final-test-1758879857625 with 27 actions
2025-09-26T09:55:16.317Z [debug] [gen] Sockets in room final-test-1758879857625: 0
2025-09-26T09:55:16.317Z [warn] [gen] No sockets in room final-test-1758879857625! Using broadcast fallback.
2025-09-26T09:55:16.318Z [debug] [gen] END: session=final-test-1758879857625 step=3, emitted chunk
2025-09-26T09:55:16.323Z [debug] [genWorker] Received job: gen id=90
2025-09-26T09:55:16.323Z [debug] [gen] START: session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=2 tag=part_2
2025-09-26T09:55:16.325Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T09:55:16.325Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T09:55:16.325Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:55:37.935Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 4336
2025-09-26T09:55:37.936Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:55:37.936Z [debug] [codegen] SUCCESS: Generated 32 actions for step 2
2025-09-26T09:55:37.936Z [debug] [gen] OK: prefetch codegen completed for session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=2 in 30006ms
2025-09-26T09:55:37.936Z [debug] compilerRouter: routing to js
2025-09-26T09:55:37.936Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T09:55:37.936Z [debug] [debugger] Chunk is valid with 32 actions, allowing all for rich visualizations
2025-09-26T09:55:37.937Z [debug] [gen] Prefetched and cached session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=2
2025-09-26T09:55:37.939Z [debug] [genWorker] Received job: gen id=91
2025-09-26T09:55:37.939Z [debug] [gen] START: session=brutal-debug-test step=5 tag=part_5
2025-09-26T09:55:37.940Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"BRUTAL TEST: Explain quadratic functions with parabola visualization, vertex, and roots"}
2025-09-26T09:55:37.940Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T09:55:37.940Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:56:13.023Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 6263
2025-09-26T09:56:13.024Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:56:13.024Z [debug] [codegen] SUCCESS: Generated 42 actions for step 5
2025-09-26T09:56:13.024Z [debug] [gen] OK: prefetch codegen completed for session=brutal-debug-test step=5 in 35084ms
2025-09-26T09:56:13.024Z [debug] compilerRouter: routing to js
2025-09-26T09:56:13.024Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T09:56:13.024Z [debug] [debugger] Chunk is valid with 42 actions, allowing all for rich visualizations
2025-09-26T09:56:13.025Z [debug] [gen] Prefetched and cached session=brutal-debug-test step=5
2025-09-26T09:56:13.026Z [debug] [genWorker] Received job: gen id=92
2025-09-26T09:56:13.026Z [debug] [gen] START: session=brutal-debug-test step=5 tag=part_5
2025-09-26T09:56:13.028Z [debug] [gen] Using cached chunk for session=brutal-debug-test step=5
2025-09-26T09:56:13.031Z [debug] [gen] EMITTING to room: brutal-debug-test with 42 actions
2025-09-26T09:56:13.031Z [debug] [gen] Sockets in room brutal-debug-test: 0
2025-09-26T09:56:13.031Z [warn] [gen] No sockets in room brutal-debug-test! Using broadcast fallback.
2025-09-26T09:56:13.032Z [debug] [gen] END: session=brutal-debug-test step=5, emitted chunk
2025-09-26T09:56:13.032Z [debug] [orchestrator] All steps completed for session brutal-debug-test
2025-09-26T09:56:13.034Z [debug] [genWorker] Received job: gen id=93
2025-09-26T09:56:13.034Z [debug] [gen] START: session=simple-brutal-test step=5 tag=part_5
2025-09-26T09:56:13.035Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"SIMPLE TEST: Draw a parabola y=x^2"}
2025-09-26T09:56:13.035Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T09:56:13.035Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:56:16.327Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:56:16.327Z [error] [gen] Codegen failed for session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=2: Error: codegen/gemini timeout after 60000ms
2025-09-26T09:56:16.329Z [debug] [gen] EMITTING to room: 44d6a23a-ebb5-42af-a974-46a49b093f45 with 3 actions
2025-09-26T09:56:16.329Z [debug] [gen] Sockets in room 44d6a23a-ebb5-42af-a974-46a49b093f45: 1
2025-09-26T09:56:16.329Z [debug] [gen] Emitted to room 44d6a23a-ebb5-42af-a974-46a49b093f45 with 1 sockets
2025-09-26T09:56:16.329Z [debug] [gen] END: session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=2, emitted chunk
2025-09-26T09:56:16.333Z [debug] [genWorker] Received job: gen id=95
2025-09-26T09:56:16.333Z [debug] [gen] START: session=socket-test-1758879755186 step=4 tag=part_4
2025-09-26T09:56:16.334Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"Draw a simple sine wave y = sin(x) with axis and labels"}
2025-09-26T09:56:16.334Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T09:56:16.334Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:56:19.771Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 1043
2025-09-26T09:56:19.771Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:56:19.771Z [debug] [codegen] SUCCESS: Generated 9 actions for step 5
2025-09-26T09:56:19.771Z [debug] [gen] OK: prefetch codegen completed for session=simple-brutal-test step=5 in 6736ms
2025-09-26T09:56:19.771Z [debug] compilerRouter: routing to js
2025-09-26T09:56:19.771Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T09:56:19.771Z [debug] [debugger] Chunk is valid with 9 actions, allowing all for rich visualizations
2025-09-26T09:56:19.772Z [debug] [gen] Prefetched and cached session=simple-brutal-test step=5
2025-09-26T09:56:19.774Z [debug] [genWorker] Received job: gen id=97
2025-09-26T09:56:19.774Z [debug] [gen] START: session=final-test-1758879857625 step=4 tag=drawing_and_labeling
2025-09-26T09:56:19.775Z [debug] [codegen] START: stepId=4 tag=drawing_and_labeling {"params":{},"query":"TEST: Draw parabola y=x^2 with vertex and axis labels"}
2025-09-26T09:56:19.776Z [debug] [codegen] Sending prompt to Gemini for tag=drawing_and_labeling
2025-09-26T09:56:19.776Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:56:44.387Z [debug] [codegen] Received response from Gemini for tag=drawing_and_labeling, length: 2745
2025-09-26T09:56:44.388Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:56:44.388Z [debug] [codegen] SUCCESS: Generated 11 actions for step 4
2025-09-26T09:56:44.388Z [debug] [gen] OK: prefetch codegen completed for session=final-test-1758879857625 step=4 in 24613ms
2025-09-26T09:56:44.388Z [debug] compilerRouter: routing to js
2025-09-26T09:56:44.388Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T09:56:44.388Z [debug] [debugger] Chunk is valid with 11 actions, allowing all for rich visualizations
2025-09-26T09:56:44.389Z [debug] [gen] Prefetched and cached session=final-test-1758879857625 step=4
2025-09-26T09:56:44.390Z [debug] [genWorker] Received job: gen id=94
2025-09-26T09:56:44.391Z [debug] [gen] START: session=simple-brutal-test step=5 tag=part_5
2025-09-26T09:56:44.392Z [debug] [gen] Using cached chunk for session=simple-brutal-test step=5
2025-09-26T09:56:44.393Z [debug] [gen] EMITTING to room: simple-brutal-test with 9 actions
2025-09-26T09:56:44.393Z [debug] [gen] Sockets in room simple-brutal-test: 0
2025-09-26T09:56:44.393Z [warn] [gen] No sockets in room simple-brutal-test! Using broadcast fallback.
2025-09-26T09:56:44.394Z [debug] [gen] END: session=simple-brutal-test step=5, emitted chunk
2025-09-26T09:56:44.394Z [debug] [orchestrator] All steps completed for session simple-brutal-test
2025-09-26T09:56:44.395Z [debug] [genWorker] Received job: gen id=96
2025-09-26T09:56:44.395Z [debug] [gen] START: session=socket-test-1758879755186 step=4 tag=part_4
2025-09-26T09:56:44.396Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"Draw a simple sine wave y = sin(x) with axis and labels"}
2025-09-26T09:56:44.396Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T09:56:44.396Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:57:16.335Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:57:16.337Z [error] [gen:failed] id=95 Error: codegen/gemini timeout after 60000ms
2025-09-26T09:57:16.338Z [debug] [genWorker] Received job: gen id=98
2025-09-26T09:57:16.339Z [debug] [gen] START: session=final-test-1758879857625 step=4 tag=drawing_and_labeling
2025-09-26T09:57:16.340Z [debug] [gen] Using cached chunk for session=final-test-1758879857625 step=4
2025-09-26T09:57:16.342Z [debug] [gen] EMITTING to room: final-test-1758879857625 with 11 actions
2025-09-26T09:57:16.342Z [debug] [gen] Sockets in room final-test-1758879857625: 0
2025-09-26T09:57:16.342Z [warn] [gen] No sockets in room final-test-1758879857625! Using broadcast fallback.
2025-09-26T09:57:16.343Z [debug] [gen] END: session=final-test-1758879857625 step=4, emitted chunk
2025-09-26T09:57:16.346Z [debug] [genWorker] Received job: gen id=99
2025-09-26T09:57:16.346Z [debug] [gen] START: session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=3 tag=part_3
2025-09-26T09:57:16.347Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T09:57:16.347Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T09:57:16.347Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:57:41.621Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 6365
2025-09-26T09:57:41.621Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:57:41.621Z [debug] [codegen] SUCCESS: Generated 49 actions for step 3
2025-09-26T09:57:41.621Z [debug] [gen] OK: prefetch codegen completed for session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=3 in 25274ms
2025-09-26T09:57:41.621Z [debug] compilerRouter: routing to js
2025-09-26T09:57:41.621Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T09:57:41.621Z [debug] [debugger] Chunk is valid with 49 actions, allowing all for rich visualizations
2025-09-26T09:57:41.622Z [debug] [gen] Prefetched and cached session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=3
2025-09-26T09:57:41.624Z [debug] [genWorker] Received job: gen id=100
2025-09-26T09:57:41.624Z [debug] [gen] START: session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=3 tag=part_3
2025-09-26T09:57:41.627Z [debug] [gen] Using cached chunk for session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=3
2025-09-26T09:57:41.630Z [debug] [gen] EMITTING to room: 44d6a23a-ebb5-42af-a974-46a49b093f45 with 49 actions
2025-09-26T09:57:41.630Z [debug] [gen] Sockets in room 44d6a23a-ebb5-42af-a974-46a49b093f45: 1
2025-09-26T09:57:41.630Z [debug] [gen] Emitted to room 44d6a23a-ebb5-42af-a974-46a49b093f45 with 1 sockets
2025-09-26T09:57:41.630Z [debug] [gen] END: session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=3, emitted chunk
2025-09-26T09:57:41.634Z [debug] [genWorker] Received job: gen id=101
2025-09-26T09:57:41.634Z [debug] [gen] START: session=final-test-1758879857625 step=5 tag=review
2025-09-26T09:57:41.636Z [debug] [codegen] START: stepId=5 tag=review {"params":{},"query":"TEST: Draw parabola y=x^2 with vertex and axis labels"}
2025-09-26T09:57:41.636Z [debug] [codegen] Sending prompt to Gemini for tag=review
2025-09-26T09:57:41.636Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:57:44.397Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T09:57:44.397Z [error] [gen] Codegen failed for session=socket-test-1758879755186 step=4: Error: codegen/gemini timeout after 60000ms
2025-09-26T09:57:44.398Z [debug] [gen] EMITTING to room: socket-test-1758879755186 with 3 actions
2025-09-26T09:57:44.399Z [debug] [gen] Sockets in room socket-test-1758879755186: 0
2025-09-26T09:57:44.399Z [warn] [gen] No sockets in room socket-test-1758879755186! Using broadcast fallback.
2025-09-26T09:57:44.399Z [debug] [gen] END: session=socket-test-1758879755186 step=4, emitted chunk
2025-09-26T09:57:44.402Z [debug] [genWorker] Received job: gen id=102
2025-09-26T09:57:44.403Z [debug] [gen] START: session=final-test-1758879857625 step=5 tag=review
2025-09-26T09:57:44.405Z [debug] [codegen] START: stepId=5 tag=review {"params":{},"query":"TEST: Draw parabola y=x^2 with vertex and axis labels"}
2025-09-26T09:57:44.405Z [debug] [codegen] Sending prompt to Gemini for tag=review
2025-09-26T09:57:44.405Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:58:09.139Z [debug] [codegen] Received response from Gemini for tag=review, length: 3444
2025-09-26T09:58:09.139Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:58:09.140Z [debug] [codegen] SUCCESS: Generated 15 actions for step 5
2025-09-26T09:58:09.140Z [debug] [gen] OK: prefetch codegen completed for session=final-test-1758879857625 step=5 in 27504ms
2025-09-26T09:58:09.140Z [debug] compilerRouter: routing to js
2025-09-26T09:58:09.140Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T09:58:09.140Z [debug] [debugger] Chunk is valid with 15 actions, allowing all for rich visualizations
2025-09-26T09:58:09.141Z [debug] [gen] Prefetched and cached session=final-test-1758879857625 step=5
2025-09-26T09:58:09.143Z [debug] [genWorker] Received job: gen id=103
2025-09-26T09:58:09.143Z [debug] [gen] START: session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=4 tag=part_4
2025-09-26T09:58:09.144Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T09:58:09.145Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T09:58:09.145Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:58:43.869Z [debug] [codegen] Received response from Gemini for tag=review, length: 2786
2025-09-26T09:58:43.870Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:58:43.870Z [debug] [codegen] SUCCESS: Generated 11 actions for step 5
2025-09-26T09:58:43.870Z [debug] [gen] OK: codegen completed for session=final-test-1758879857625 step=5 in 59465ms
2025-09-26T09:58:43.870Z [debug] compilerRouter: routing to js
2025-09-26T09:58:43.870Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T09:58:43.870Z [debug] [debugger] Chunk is valid with 11 actions, allowing all for rich visualizations
2025-09-26T09:58:43.872Z [debug] [gen] EMITTING to room: final-test-1758879857625 with 11 actions
2025-09-26T09:58:43.872Z [debug] [gen] Sockets in room final-test-1758879857625: 0
2025-09-26T09:58:43.873Z [warn] [gen] No sockets in room final-test-1758879857625! Using broadcast fallback.
2025-09-26T09:58:43.873Z [debug] [gen] END: session=final-test-1758879857625 step=5, emitted chunk
2025-09-26T09:58:43.873Z [debug] [orchestrator] All steps completed for session final-test-1758879857625
2025-09-26T09:58:43.874Z [debug] [genWorker] Received job: gen id=105
2025-09-26T09:58:43.875Z [debug] [gen] START: session=socket-test-1758879755186 step=5 tag=part_5
2025-09-26T09:58:43.876Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"Draw a simple sine wave y = sin(x) with axis and labels"}
2025-09-26T09:58:43.876Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T09:58:43.877Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:58:51.137Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 610
2025-09-26T09:58:51.137Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:58:51.137Z [debug] [codegen] SUCCESS: Generated 7 actions for step 5
2025-09-26T09:58:51.137Z [debug] [gen] OK: prefetch codegen completed for session=socket-test-1758879755186 step=5 in 7261ms
2025-09-26T09:58:51.137Z [debug] compilerRouter: routing to js
2025-09-26T09:58:51.137Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T09:58:51.137Z [debug] [debugger] Chunk is valid with 7 actions, allowing all for rich visualizations
2025-09-26T09:58:51.138Z [debug] [gen] Prefetched and cached session=socket-test-1758879755186 step=5
2025-09-26T09:58:51.140Z [debug] [genWorker] Received job: gen id=104
2025-09-26T09:58:51.140Z [debug] [gen] START: session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=4 tag=part_4
2025-09-26T09:58:51.141Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T09:58:51.142Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T09:58:51.142Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:58:57.421Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 3707
2025-09-26T09:58:57.421Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."5 },

    // Action "... is not valid JSON
2025-09-26T09:58:57.421Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."": 1.5 }, // Action "... is not valid JSON
2025-09-26T09:58:57.423Z [error] [gen:failed] id=103 Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."": 1.5 }, // Action "... is not valid JSON
2025-09-26T09:58:57.423Z [debug] [genWorker] Received job: gen id=106
2025-09-26T09:58:57.423Z [debug] [gen] START: session=socket-test-1758879755186 step=5 tag=part_5
2025-09-26T09:58:57.425Z [debug] [gen] Using cached chunk for session=socket-test-1758879755186 step=5
2025-09-26T09:58:57.425Z [debug] [gen] EMITTING to room: socket-test-1758879755186 with 7 actions
2025-09-26T09:58:57.425Z [debug] [gen] Sockets in room socket-test-1758879755186: 0
2025-09-26T09:58:57.425Z [warn] [gen] No sockets in room socket-test-1758879755186! Using broadcast fallback.
2025-09-26T09:58:57.426Z [debug] [gen] END: session=socket-test-1758879755186 step=5, emitted chunk
2025-09-26T09:58:57.426Z [debug] [orchestrator] All steps completed for session socket-test-1758879755186
2025-09-26T09:59:15.186Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 4140
2025-09-26T09:59:15.186Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:59:15.186Z [debug] [codegen] SUCCESS: Generated 30 actions for step 4
2025-09-26T09:59:15.186Z [debug] [gen] OK: codegen completed for session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=4 in 24045ms
2025-09-26T09:59:15.186Z [debug] compilerRouter: routing to js
2025-09-26T09:59:15.186Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T09:59:15.186Z [debug] [debugger] Chunk is valid with 30 actions, allowing all for rich visualizations
2025-09-26T09:59:15.189Z [debug] [gen] EMITTING to room: 44d6a23a-ebb5-42af-a974-46a49b093f45 with 30 actions
2025-09-26T09:59:15.189Z [debug] [gen] Sockets in room 44d6a23a-ebb5-42af-a974-46a49b093f45: 1
2025-09-26T09:59:15.190Z [debug] [gen] Emitted to room 44d6a23a-ebb5-42af-a974-46a49b093f45 with 1 sockets
2025-09-26T09:59:15.190Z [debug] [gen] END: session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=4, emitted chunk
2025-09-26T09:59:15.193Z [debug] [genWorker] Received job: gen id=107
2025-09-26T09:59:15.193Z [debug] [gen] START: session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=5 tag=part_5
2025-09-26T09:59:15.196Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T09:59:15.196Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T09:59:15.196Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:59:25.278Z [debug] [genWorker] Received job: gen id=108
2025-09-26T09:59:25.278Z [debug] [gen] START: session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=5 tag=part_5
2025-09-26T09:59:25.280Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"tell me H20 structure and draw Grah between the intermolecular force between OH and H"}
2025-09-26T09:59:25.280Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T09:59:25.280Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T09:59:38.030Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 7620
2025-09-26T09:59:38.031Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T09:59:38.031Z [debug] [codegen] SUCCESS: Generated 51 actions for step 5
2025-09-26T09:59:38.031Z [debug] [gen] OK: prefetch codegen completed for session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=5 in 22835ms
2025-09-26T09:59:38.031Z [debug] compilerRouter: routing to js
2025-09-26T09:59:38.031Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T09:59:38.031Z [debug] [debugger] Chunk is valid with 51 actions, allowing all for rich visualizations
2025-09-26T09:59:38.032Z [debug] [gen] Prefetched and cached session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=5
2025-09-26T10:00:06.707Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 4567
2025-09-26T10:00:06.707Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T10:00:06.707Z [debug] [codegen] SUCCESS: Generated 34 actions for step 5
2025-09-26T10:00:06.707Z [debug] [gen] OK: codegen completed for session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=5 in 41427ms
2025-09-26T10:00:06.707Z [debug] compilerRouter: routing to js
2025-09-26T10:00:06.707Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T10:00:06.707Z [debug] [debugger] Chunk is valid with 34 actions, allowing all for rich visualizations
2025-09-26T10:00:06.710Z [debug] [gen] EMITTING to room: 44d6a23a-ebb5-42af-a974-46a49b093f45 with 34 actions
2025-09-26T10:00:06.711Z [debug] [gen] Sockets in room 44d6a23a-ebb5-42af-a974-46a49b093f45: 1
2025-09-26T10:00:06.711Z [debug] [gen] Emitted to room 44d6a23a-ebb5-42af-a974-46a49b093f45 with 1 sockets
2025-09-26T10:00:06.711Z [debug] [gen] END: session=44d6a23a-ebb5-42af-a974-46a49b093f45 step=5, emitted chunk
2025-09-26T10:00:06.711Z [debug] [orchestrator] All steps completed for session 44d6a23a-ebb5-42af-a974-46a49b093f45
2025-09-26T10:22:27.845Z [debug] Server shut down.
2025-09-26T10:39:48.983Z [debug] NEW Plan worker created
2025-09-26T10:39:48.985Z [debug] NEW Gen worker created
2025-09-26T10:39:49.003Z [debug] Backend listening on http://localhost:3001
2025-09-26T10:40:22.013Z [debug] NEW Plan worker created
2025-09-26T10:40:51.907Z [debug] NEW Plan worker created
2025-09-26T10:40:51.910Z [debug] NEW Gen worker created
2025-09-26T10:40:51.920Z [debug] Backend listening on http://localhost:3001
2025-09-26T10:41:06.942Z [debug] socket joined session 8ff1725a-e475-4ae2-9b86-1a12f2a66475
2025-09-26T10:41:06.969Z [debug] Received request on /api/query {"body":{"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H","sessionId":"8ff1725a-e475-4ae2-9b86-1a12f2a66475"}}
2025-09-26T10:41:06.969Z [debug] [orchestrator] Enqueuing plan for session 8ff1725a-e475-4ae2-9b86-1a12f2a66475
2025-09-26T10:41:06.974Z [debug] [orchestrator] Plan job added with id 13 for session 8ff1725a-e475-4ae2-9b86-1a12f2a66475
2025-09-26T10:41:06.981Z [debug] [planWorker] Received job: plan id=13
2025-09-26T10:41:06.981Z [debug] [plan] START: session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 query=tell me H20 structure and draw Graph between the intermolecular force between OH and H
2025-09-26T10:41:06.982Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T10:41:07.007Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T10:41:07.945Z [debug] [test] Emitting test message to room 8ff1725a-e475-4ae2-9b86-1a12f2a66475
2025-09-26T10:41:15.438Z [debug] Shutting down server...
2025-09-26T10:41:15.451Z [debug] Server shut down.
2025-09-26T10:41:18.400Z [debug] NEW Plan worker created
2025-09-26T10:41:18.401Z [debug] NEW Gen worker created
2025-09-26T10:41:18.409Z [debug] Backend listening on http://localhost:3001
2025-09-26T10:41:18.451Z [debug] socket joined session 8ff1725a-e475-4ae2-9b86-1a12f2a66475
2025-09-26T10:41:19.457Z [debug] [test] Emitting test message to room 8ff1725a-e475-4ae2-9b86-1a12f2a66475
2025-09-26T10:41:53.976Z [debug] socket joined session 498bf99d-1ee4-401e-bbfa-aeb8e30dfad8
2025-09-26T10:41:54.006Z [debug] Received request on /api/query {"body":{"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H","sessionId":"498bf99d-1ee4-401e-bbfa-aeb8e30dfad8"}}
2025-09-26T10:41:54.006Z [debug] [orchestrator] Enqueuing plan for session 498bf99d-1ee4-401e-bbfa-aeb8e30dfad8
2025-09-26T10:41:54.010Z [debug] [orchestrator] Plan job added with id 14 for session 498bf99d-1ee4-401e-bbfa-aeb8e30dfad8
2025-09-26T10:41:54.014Z [debug] [planWorker] Received job: plan id=14
2025-09-26T10:41:54.014Z [debug] [plan] START: session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 query=tell me H20 structure and draw Graph between the intermolecular force between OH and H
2025-09-26T10:41:54.015Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T10:41:54.039Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T10:41:54.978Z [debug] [test] Emitting test message to room 498bf99d-1ee4-401e-bbfa-aeb8e30dfad8
2025-09-26T10:42:12.065Z [debug] [planner] Received response from Gemini in 18050ms
2025-09-26T10:42:12.065Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T10:42:12.067Z [debug] [plan] OK: session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 plan received with 5 steps
2025-09-26T10:42:12.069Z [debug] [plan] Enqueuing first step emit: session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 stepId=1
2025-09-26T10:42:12.070Z [debug] [plan] END: session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8
2025-09-26T10:42:12.072Z [debug] [genWorker] Received job: gen id=109
2025-09-26T10:42:12.072Z [debug] [gen] START: session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=1 tag=part_1
2025-09-26T10:42:12.074Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T10:42:12.074Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T10:42:12.074Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T10:42:18.432Z [debug] [planWorker] Received job: plan id=13
2025-09-26T10:42:18.433Z [debug] [plan] START: session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 query=tell me H20 structure and draw Graph between the intermolecular force between OH and H
2025-09-26T10:42:18.433Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T10:42:18.434Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T10:42:20.629Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 2634
2025-09-26T10:42:20.630Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T10:42:20.630Z [debug] [codegen] SUCCESS: Generated 22 actions for step 1
2025-09-26T10:42:20.630Z [debug] [gen] OK: codegen completed for session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=1 in 8556ms
2025-09-26T10:42:20.630Z [debug] compilerRouter: routing to js
2025-09-26T10:42:20.631Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T10:42:20.631Z [debug] [debugger] Chunk is valid with 22 actions, allowing all for rich visualizations
2025-09-26T10:42:20.637Z [debug] [gen] EMITTING to room: 498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 with 22 actions
2025-09-26T10:42:20.638Z [debug] [gen] Sockets in room 498bf99d-1ee4-401e-bbfa-aeb8e30dfad8: 1
2025-09-26T10:42:20.638Z [debug] [gen] Emitted to room 498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 with 1 sockets
2025-09-26T10:42:20.638Z [debug] [gen] END: session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=1, emitted chunk
2025-09-26T10:42:20.641Z [debug] [genWorker] Received job: gen id=110
2025-09-26T10:42:20.642Z [debug] [gen] START: session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=2 tag=part_2
2025-09-26T10:42:20.644Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T10:42:20.644Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T10:42:20.644Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T10:42:30.690Z [debug] [genWorker] Received job: gen id=111
2025-09-26T10:42:30.691Z [debug] [gen] START: session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=2 tag=part_2
2025-09-26T10:42:30.692Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T10:42:30.692Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T10:42:30.692Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T10:42:38.451Z [debug] [planner] Received response from Gemini in 20018ms
2025-09-26T10:42:38.452Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T10:42:38.453Z [debug] [plan] OK: session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 plan received with 5 steps
2025-09-26T10:42:38.454Z [debug] [plan] Enqueuing first step emit: session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 stepId=1
2025-09-26T10:42:38.455Z [debug] [plan] END: session=8ff1725a-e475-4ae2-9b86-1a12f2a66475
2025-09-26T10:43:08.553Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 14874
2025-09-26T10:43:08.553Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T10:43:08.553Z [debug] [codegen] SUCCESS: Generated 103 actions for step 2
2025-09-26T10:43:08.553Z [debug] [gen] OK: prefetch codegen completed for session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=2 in 47909ms
2025-09-26T10:43:08.553Z [debug] compilerRouter: routing to js
2025-09-26T10:43:08.554Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T10:43:08.554Z [debug] [debugger] Chunk is valid with 103 actions, allowing all for rich visualizations
2025-09-26T10:43:08.555Z [debug] [gen] Prefetched and cached session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=2
2025-09-26T10:43:08.557Z [debug] [genWorker] Received job: gen id=112
2025-09-26T10:43:08.557Z [debug] [gen] START: session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=1 tag=part_1
2025-09-26T10:43:08.558Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T10:43:08.560Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T10:43:08.560Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T10:43:30.693Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T10:43:30.694Z [error] [gen] Codegen failed for session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=2: Error: codegen/gemini timeout after 60000ms
2025-09-26T10:43:30.696Z [debug] [gen] EMITTING to room: 498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 with 3 actions
2025-09-26T10:43:30.696Z [debug] [gen] Sockets in room 498bf99d-1ee4-401e-bbfa-aeb8e30dfad8: 1
2025-09-26T10:43:30.697Z [debug] [gen] Emitted to room 498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 with 1 sockets
2025-09-26T10:43:30.697Z [debug] [gen] END: session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=2, emitted chunk
2025-09-26T10:43:30.702Z [debug] [genWorker] Received job: gen id=113
2025-09-26T10:43:30.702Z [debug] [gen] START: session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=3 tag=part_3
2025-09-26T10:43:30.704Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T10:43:30.704Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T10:43:30.704Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T10:43:37.543Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 4619
2025-09-26T10:43:37.544Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T10:43:37.544Z [debug] [codegen] SUCCESS: Generated 36 actions for step 1
2025-09-26T10:43:37.544Z [debug] [gen] OK: codegen completed for session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=1 in 28986ms
2025-09-26T10:43:37.544Z [debug] compilerRouter: routing to js
2025-09-26T10:43:37.544Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T10:43:37.544Z [debug] [debugger] Chunk is valid with 36 actions, allowing all for rich visualizations
2025-09-26T10:43:37.549Z [debug] [gen] EMITTING to room: 8ff1725a-e475-4ae2-9b86-1a12f2a66475 with 36 actions
2025-09-26T10:43:37.549Z [debug] [gen] Sockets in room 8ff1725a-e475-4ae2-9b86-1a12f2a66475: 0
2025-09-26T10:43:37.550Z [warn] [gen] No sockets in room 8ff1725a-e475-4ae2-9b86-1a12f2a66475! Using broadcast fallback.
2025-09-26T10:43:37.551Z [debug] [gen] END: session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=1, emitted chunk
2025-09-26T10:43:37.555Z [debug] [genWorker] Received job: gen id=115
2025-09-26T10:43:37.555Z [debug] [gen] START: session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=2 tag=part_2
2025-09-26T10:43:37.556Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T10:43:37.556Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T10:43:37.556Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T10:44:00.116Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 6860
2025-09-26T10:44:00.116Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T10:44:00.117Z [debug] [codegen] SUCCESS: Generated 50 actions for step 3
2025-09-26T10:44:00.117Z [debug] [gen] OK: prefetch codegen completed for session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=3 in 29413ms
2025-09-26T10:44:00.117Z [debug] compilerRouter: routing to js
2025-09-26T10:44:00.117Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T10:44:00.117Z [debug] [debugger] Chunk is valid with 50 actions, allowing all for rich visualizations
2025-09-26T10:44:00.118Z [debug] [gen] Prefetched and cached session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=3
2025-09-26T10:44:00.120Z [debug] [genWorker] Received job: gen id=114
2025-09-26T10:44:00.120Z [debug] [gen] START: session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=3 tag=part_3
2025-09-26T10:44:00.122Z [debug] [gen] Using cached chunk for session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=3
2025-09-26T10:44:00.126Z [debug] [gen] EMITTING to room: 498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 with 50 actions
2025-09-26T10:44:00.126Z [debug] [gen] Sockets in room 498bf99d-1ee4-401e-bbfa-aeb8e30dfad8: 1
2025-09-26T10:44:00.127Z [debug] [gen] Emitted to room 498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 with 1 sockets
2025-09-26T10:44:00.127Z [debug] [gen] END: session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=3, emitted chunk
2025-09-26T10:44:00.133Z [debug] [genWorker] Received job: gen id=116
2025-09-26T10:44:00.133Z [debug] [gen] START: session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=2 tag=part_2
2025-09-26T10:44:00.135Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T10:44:00.135Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T10:44:00.135Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T10:44:11.175Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 10014
2025-09-26T10:44:11.176Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T10:44:11.176Z [debug] [codegen] SUCCESS: Generated 68 actions for step 2
2025-09-26T10:44:11.176Z [debug] [gen] OK: prefetch codegen completed for session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=2 in 33620ms
2025-09-26T10:44:11.176Z [debug] compilerRouter: routing to js
2025-09-26T10:44:11.177Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T10:44:11.177Z [debug] [debugger] Chunk is valid with 68 actions, allowing all for rich visualizations
2025-09-26T10:44:11.178Z [debug] [gen] Prefetched and cached session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=2
2025-09-26T10:44:11.179Z [debug] [genWorker] Received job: gen id=117
2025-09-26T10:44:11.180Z [debug] [gen] START: session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=4 tag=part_4
2025-09-26T10:44:11.182Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T10:44:11.182Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T10:44:11.182Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T10:44:25.049Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 2627
2025-09-26T10:44:25.049Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T10:44:25.049Z [debug] [codegen] SUCCESS: Generated 17 actions for step 4
2025-09-26T10:44:25.049Z [debug] [gen] OK: prefetch codegen completed for session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=4 in 13867ms
2025-09-26T10:44:25.049Z [debug] compilerRouter: routing to js
2025-09-26T10:44:25.050Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T10:44:25.050Z [debug] [debugger] Chunk is valid with 17 actions, allowing all for rich visualizations
2025-09-26T10:44:25.050Z [debug] [gen] Prefetched and cached session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=4
2025-09-26T10:44:25.053Z [debug] [genWorker] Received job: gen id=118
2025-09-26T10:44:25.053Z [debug] [gen] START: session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=4 tag=part_4
2025-09-26T10:44:25.055Z [debug] [gen] Using cached chunk for session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=4
2025-09-26T10:44:25.057Z [debug] [gen] EMITTING to room: 498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 with 17 actions
2025-09-26T10:44:25.057Z [debug] [gen] Sockets in room 498bf99d-1ee4-401e-bbfa-aeb8e30dfad8: 1
2025-09-26T10:44:25.057Z [debug] [gen] Emitted to room 498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 with 1 sockets
2025-09-26T10:44:25.057Z [debug] [gen] END: session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=4, emitted chunk
2025-09-26T10:44:25.061Z [debug] [genWorker] Received job: gen id=119
2025-09-26T10:44:25.061Z [debug] [gen] START: session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=5 tag=part_5
2025-09-26T10:44:25.062Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T10:44:25.063Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T10:44:25.063Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T10:44:48.960Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 15053
2025-09-26T10:44:48.960Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T10:44:48.960Z [debug] [codegen] SUCCESS: Generated 108 actions for step 2
2025-09-26T10:44:48.960Z [debug] [gen] OK: codegen completed for session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=2 in 48826ms
2025-09-26T10:44:48.961Z [debug] compilerRouter: routing to js
2025-09-26T10:44:48.961Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T10:44:48.961Z [debug] [debugger] Chunk is valid with 108 actions, allowing all for rich visualizations
2025-09-26T10:44:48.967Z [debug] [gen] EMITTING to room: 8ff1725a-e475-4ae2-9b86-1a12f2a66475 with 108 actions
2025-09-26T10:44:48.967Z [debug] [gen] Sockets in room 8ff1725a-e475-4ae2-9b86-1a12f2a66475: 0
2025-09-26T10:44:48.967Z [warn] [gen] No sockets in room 8ff1725a-e475-4ae2-9b86-1a12f2a66475! Using broadcast fallback.
2025-09-26T10:44:48.969Z [debug] [gen] END: session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=2, emitted chunk
2025-09-26T10:44:48.975Z [debug] [genWorker] Received job: gen id=121
2025-09-26T10:44:48.975Z [debug] [gen] START: session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=3 tag=part_3
2025-09-26T10:44:48.977Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T10:44:48.977Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T10:44:48.977Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T10:45:00.086Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 4681
2025-09-26T10:45:00.086Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T10:45:00.086Z [debug] [codegen] SUCCESS: Generated 33 actions for step 5
2025-09-26T10:45:00.086Z [debug] [gen] OK: prefetch codegen completed for session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=5 in 35024ms
2025-09-26T10:45:00.086Z [debug] compilerRouter: routing to js
2025-09-26T10:45:00.086Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T10:45:00.086Z [debug] [debugger] Chunk is valid with 33 actions, allowing all for rich visualizations
2025-09-26T10:45:00.087Z [debug] [gen] Prefetched and cached session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=5
2025-09-26T10:45:00.089Z [debug] [genWorker] Received job: gen id=120
2025-09-26T10:45:00.089Z [debug] [gen] START: session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=5 tag=part_5
2025-09-26T10:45:00.091Z [debug] [gen] Using cached chunk for session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=5
2025-09-26T10:45:00.093Z [debug] [gen] EMITTING to room: 498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 with 33 actions
2025-09-26T10:45:00.093Z [debug] [gen] Sockets in room 498bf99d-1ee4-401e-bbfa-aeb8e30dfad8: 1
2025-09-26T10:45:00.095Z [debug] [gen] Emitted to room 498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 with 1 sockets
2025-09-26T10:45:00.095Z [debug] [gen] END: session=498bf99d-1ee4-401e-bbfa-aeb8e30dfad8 step=5, emitted chunk
2025-09-26T10:45:00.095Z [debug] [orchestrator] All steps completed for session 498bf99d-1ee4-401e-bbfa-aeb8e30dfad8
2025-09-26T10:45:00.096Z [debug] [genWorker] Received job: gen id=122
2025-09-26T10:45:00.096Z [debug] [gen] START: session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=3 tag=part_3
2025-09-26T10:45:00.098Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T10:45:00.098Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T10:45:00.098Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T10:45:12.154Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 6150
2025-09-26T10:45:12.155Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Bad escaped character in JSON at position 1430
2025-09-26T10:45:12.156Z [error] [codegen] JSON parse failed completely: SyntaxError: Bad escaped character in JSON at position 1028
2025-09-26T10:45:12.188Z [error] [gen:failed] id=121 Error: Failed to parse codegen response: SyntaxError: Bad escaped character in JSON at position 1028
2025-09-26T10:45:39.275Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 5776
2025-09-26T10:45:39.275Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T10:45:39.275Z [debug] [codegen] SUCCESS: Generated 42 actions for step 3
2025-09-26T10:45:39.276Z [debug] [gen] OK: codegen completed for session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=3 in 39178ms
2025-09-26T10:45:39.276Z [debug] compilerRouter: routing to js
2025-09-26T10:45:39.276Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T10:45:39.276Z [debug] [debugger] Chunk is valid with 42 actions, allowing all for rich visualizations
2025-09-26T10:45:39.279Z [debug] [gen] EMITTING to room: 8ff1725a-e475-4ae2-9b86-1a12f2a66475 with 42 actions
2025-09-26T10:45:39.280Z [debug] [gen] Sockets in room 8ff1725a-e475-4ae2-9b86-1a12f2a66475: 0
2025-09-26T10:45:39.280Z [warn] [gen] No sockets in room 8ff1725a-e475-4ae2-9b86-1a12f2a66475! Using broadcast fallback.
2025-09-26T10:45:39.280Z [debug] [gen] END: session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=3, emitted chunk
2025-09-26T10:45:39.283Z [debug] [genWorker] Received job: gen id=123
2025-09-26T10:45:39.283Z [debug] [gen] START: session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=4 tag=part_4
2025-09-26T10:45:39.286Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T10:45:39.287Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T10:45:39.287Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T10:45:49.360Z [debug] [genWorker] Received job: gen id=124
2025-09-26T10:45:49.360Z [debug] [gen] START: session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=4 tag=part_4
2025-09-26T10:45:49.362Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T10:45:49.362Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T10:45:49.362Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T10:45:54.648Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 3356
2025-09-26T10:45:54.649Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T10:45:54.649Z [debug] [codegen] SUCCESS: Generated 23 actions for step 4
2025-09-26T10:45:54.649Z [debug] [gen] OK: prefetch codegen completed for session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=4 in 15363ms
2025-09-26T10:45:54.649Z [debug] compilerRouter: routing to js
2025-09-26T10:45:54.650Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T10:45:54.650Z [debug] [debugger] Chunk is valid with 23 actions, allowing all for rich visualizations
2025-09-26T10:45:54.651Z [debug] [gen] Prefetched and cached session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=4
2025-09-26T10:46:08.282Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 2881
2025-09-26T10:46:08.282Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T10:46:08.282Z [debug] [codegen] SUCCESS: Generated 19 actions for step 4
2025-09-26T10:46:08.282Z [debug] [gen] OK: codegen completed for session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=4 in 18920ms
2025-09-26T10:46:08.283Z [debug] compilerRouter: routing to js
2025-09-26T10:46:08.283Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T10:46:08.283Z [debug] [debugger] Chunk is valid with 19 actions, allowing all for rich visualizations
2025-09-26T10:46:08.285Z [debug] [gen] EMITTING to room: 8ff1725a-e475-4ae2-9b86-1a12f2a66475 with 19 actions
2025-09-26T10:46:08.285Z [debug] [gen] Sockets in room 8ff1725a-e475-4ae2-9b86-1a12f2a66475: 0
2025-09-26T10:46:08.285Z [warn] [gen] No sockets in room 8ff1725a-e475-4ae2-9b86-1a12f2a66475! Using broadcast fallback.
2025-09-26T10:46:08.286Z [debug] [gen] END: session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=4, emitted chunk
2025-09-26T10:46:08.290Z [debug] [genWorker] Received job: gen id=125
2025-09-26T10:46:08.290Z [debug] [gen] START: session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=5 tag=part_5
2025-09-26T10:46:08.292Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T10:46:08.292Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T10:46:08.293Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T10:46:18.343Z [debug] [genWorker] Received job: gen id=126
2025-09-26T10:46:18.343Z [debug] [gen] START: session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=5 tag=part_5
2025-09-26T10:46:18.345Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T10:46:18.345Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T10:46:18.345Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T10:46:40.680Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 9265
2025-09-26T10:46:40.680Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T10:46:40.680Z [debug] [codegen] SUCCESS: Generated 63 actions for step 5
2025-09-26T10:46:40.680Z [debug] [gen] OK: prefetch codegen completed for session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=5 in 32388ms
2025-09-26T10:46:40.680Z [debug] compilerRouter: routing to js
2025-09-26T10:46:40.680Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T10:46:40.680Z [debug] [debugger] Chunk is valid with 63 actions, allowing all for rich visualizations
2025-09-26T10:46:40.682Z [debug] [gen] Prefetched and cached session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=5
2025-09-26T10:46:56.454Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 7415
2025-09-26T10:46:56.454Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T10:46:56.454Z [debug] [codegen] SUCCESS: Generated 56 actions for step 5
2025-09-26T10:46:56.455Z [debug] [gen] OK: codegen completed for session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=5 in 38110ms
2025-09-26T10:46:56.455Z [debug] compilerRouter: routing to js
2025-09-26T10:46:56.455Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T10:46:56.455Z [debug] [debugger] Chunk is valid with 56 actions, allowing all for rich visualizations
2025-09-26T10:46:56.459Z [debug] [gen] EMITTING to room: 8ff1725a-e475-4ae2-9b86-1a12f2a66475 with 56 actions
2025-09-26T10:46:56.459Z [debug] [gen] Sockets in room 8ff1725a-e475-4ae2-9b86-1a12f2a66475: 0
2025-09-26T10:46:56.459Z [warn] [gen] No sockets in room 8ff1725a-e475-4ae2-9b86-1a12f2a66475! Using broadcast fallback.
2025-09-26T10:46:56.460Z [debug] [gen] END: session=8ff1725a-e475-4ae2-9b86-1a12f2a66475 step=5, emitted chunk
2025-09-26T10:46:56.460Z [debug] [orchestrator] All steps completed for session 8ff1725a-e475-4ae2-9b86-1a12f2a66475
2025-09-26T11:20:26.142Z [debug] socket joined session f32d81b8-3fb3-4fff-aed1-061d4e9b3312
2025-09-26T11:20:26.151Z [debug] Received request on /api/query {"body":{"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H","sessionId":"f32d81b8-3fb3-4fff-aed1-061d4e9b3312"}}
2025-09-26T11:20:26.151Z [debug] [orchestrator] Enqueuing plan for session f32d81b8-3fb3-4fff-aed1-061d4e9b3312
2025-09-26T11:20:26.153Z [debug] [orchestrator] Plan job added with id 15 for session f32d81b8-3fb3-4fff-aed1-061d4e9b3312
2025-09-26T11:20:26.155Z [debug] [planWorker] Received job: plan id=15
2025-09-26T11:20:26.156Z [debug] [plan] START: session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 query=tell me H20 structure and draw Graph between the intermolecular force between OH and H
2025-09-26T11:20:26.156Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T11:20:26.157Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T11:20:27.144Z [debug] [test] Emitting test message to room f32d81b8-3fb3-4fff-aed1-061d4e9b3312
2025-09-26T11:20:41.198Z [debug] [planner] Received response from Gemini in 15042ms
2025-09-26T11:20:41.198Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T11:20:41.199Z [debug] [plan] OK: session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 plan received with 5 steps
2025-09-26T11:20:41.200Z [debug] [plan] Enqueuing first step emit: session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 stepId=1
2025-09-26T11:20:41.201Z [debug] [plan] END: session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312
2025-09-26T11:20:41.202Z [debug] [genWorker] Received job: gen id=127
2025-09-26T11:20:41.202Z [debug] [gen] START: session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=1 tag=part_1
2025-09-26T11:20:41.205Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T11:20:41.205Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T11:20:41.205Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:21:03.996Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 3270
2025-09-26T11:21:03.996Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:21:03.996Z [debug] [codegen] SUCCESS: Generated 24 actions for step 1
2025-09-26T11:21:03.996Z [debug] [gen] OK: codegen completed for session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=1 in 22791ms
2025-09-26T11:21:03.996Z [debug] compilerRouter: routing to js
2025-09-26T11:21:03.996Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T11:21:03.996Z [debug] [debugger] Chunk is valid with 24 actions, allowing all for rich visualizations
2025-09-26T11:21:03.999Z [debug] [gen] EMITTING to room: f32d81b8-3fb3-4fff-aed1-061d4e9b3312 with 24 actions
2025-09-26T11:21:03.999Z [debug] [gen] Sockets in room f32d81b8-3fb3-4fff-aed1-061d4e9b3312: 1
2025-09-26T11:21:04.000Z [debug] [gen] Emitted to room f32d81b8-3fb3-4fff-aed1-061d4e9b3312 with 1 sockets
2025-09-26T11:21:04.000Z [debug] [gen] END: session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=1, emitted chunk
2025-09-26T11:21:04.002Z [debug] [genWorker] Received job: gen id=128
2025-09-26T11:21:04.003Z [debug] [gen] START: session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=2 tag=part_2
2025-09-26T11:21:04.006Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T11:21:04.006Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T11:21:04.006Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:21:14.068Z [debug] [genWorker] Received job: gen id=129
2025-09-26T11:21:14.068Z [debug] [gen] START: session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=2 tag=part_2
2025-09-26T11:21:14.069Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T11:21:14.070Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T11:21:14.070Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:21:31.559Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 6890
2025-09-26T11:21:31.559Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:21:31.560Z [debug] [codegen] SUCCESS: Generated 49 actions for step 2
2025-09-26T11:21:31.560Z [debug] [gen] OK: prefetch codegen completed for session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=2 in 27554ms
2025-09-26T11:21:31.560Z [debug] compilerRouter: routing to js
2025-09-26T11:21:31.560Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T11:21:31.560Z [debug] [debugger] Chunk is valid with 49 actions, allowing all for rich visualizations
2025-09-26T11:21:31.561Z [debug] [gen] Prefetched and cached session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=2
2025-09-26T11:21:34.282Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 5116
2025-09-26T11:21:34.282Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:21:34.283Z [debug] [codegen] SUCCESS: Generated 50 actions for step 2
2025-09-26T11:21:34.283Z [debug] [gen] OK: codegen completed for session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=2 in 20214ms
2025-09-26T11:21:34.283Z [debug] compilerRouter: routing to js
2025-09-26T11:21:34.283Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T11:21:34.283Z [debug] [debugger] Chunk is valid with 50 actions, allowing all for rich visualizations
2025-09-26T11:21:34.284Z [debug] [gen] EMITTING to room: f32d81b8-3fb3-4fff-aed1-061d4e9b3312 with 50 actions
2025-09-26T11:21:34.284Z [debug] [gen] Sockets in room f32d81b8-3fb3-4fff-aed1-061d4e9b3312: 1
2025-09-26T11:21:34.285Z [debug] [gen] Emitted to room f32d81b8-3fb3-4fff-aed1-061d4e9b3312 with 1 sockets
2025-09-26T11:21:34.285Z [debug] [gen] END: session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=2, emitted chunk
2025-09-26T11:21:34.287Z [debug] [genWorker] Received job: gen id=130
2025-09-26T11:21:34.287Z [debug] [gen] START: session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=3 tag=part_3
2025-09-26T11:21:34.288Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T11:21:34.288Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T11:21:34.288Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:21:44.292Z [debug] [genWorker] Received job: gen id=131
2025-09-26T11:21:44.292Z [debug] [gen] START: session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=3 tag=part_3
2025-09-26T11:21:44.294Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T11:21:44.294Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T11:21:44.294Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:22:10.445Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 3371
2025-09-26T11:22:10.445Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:22:10.445Z [debug] [codegen] SUCCESS: Generated 23 actions for step 3
2025-09-26T11:22:10.445Z [debug] [gen] OK: prefetch codegen completed for session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=3 in 36157ms
2025-09-26T11:22:10.445Z [debug] compilerRouter: routing to js
2025-09-26T11:22:10.445Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T11:22:10.445Z [debug] [debugger] Chunk is valid with 23 actions, allowing all for rich visualizations
2025-09-26T11:22:10.446Z [debug] [gen] Prefetched and cached session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=3
2025-09-26T11:22:10.757Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 2529
2025-09-26T11:22:10.758Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:22:10.758Z [debug] [codegen] SUCCESS: Generated 19 actions for step 3
2025-09-26T11:22:10.758Z [debug] [gen] OK: codegen completed for session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=3 in 26464ms
2025-09-26T11:22:10.758Z [debug] compilerRouter: routing to js
2025-09-26T11:22:10.758Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T11:22:10.758Z [debug] [debugger] Chunk is valid with 19 actions, allowing all for rich visualizations
2025-09-26T11:22:10.760Z [debug] [gen] EMITTING to room: f32d81b8-3fb3-4fff-aed1-061d4e9b3312 with 19 actions
2025-09-26T11:22:10.760Z [debug] [gen] Sockets in room f32d81b8-3fb3-4fff-aed1-061d4e9b3312: 1
2025-09-26T11:22:10.761Z [debug] [gen] Emitted to room f32d81b8-3fb3-4fff-aed1-061d4e9b3312 with 1 sockets
2025-09-26T11:22:10.761Z [debug] [gen] END: session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=3, emitted chunk
2025-09-26T11:22:10.763Z [debug] [genWorker] Received job: gen id=132
2025-09-26T11:22:10.763Z [debug] [gen] START: session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=4 tag=part_4
2025-09-26T11:22:10.765Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T11:22:10.765Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T11:22:10.765Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:22:20.834Z [debug] [genWorker] Received job: gen id=133
2025-09-26T11:22:20.834Z [debug] [gen] START: session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=4 tag=part_4
2025-09-26T11:22:20.835Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T11:22:20.836Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T11:22:20.836Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:22:39.113Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 2953
2025-09-26T11:22:39.114Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:22:39.114Z [debug] [codegen] SUCCESS: Generated 21 actions for step 4
2025-09-26T11:22:39.114Z [debug] [gen] OK: codegen completed for session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=4 in 18279ms
2025-09-26T11:22:39.114Z [debug] compilerRouter: routing to js
2025-09-26T11:22:39.114Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T11:22:39.114Z [debug] [debugger] Chunk is valid with 21 actions, allowing all for rich visualizations
2025-09-26T11:22:39.117Z [debug] [gen] EMITTING to room: f32d81b8-3fb3-4fff-aed1-061d4e9b3312 with 21 actions
2025-09-26T11:22:39.117Z [debug] [gen] Sockets in room f32d81b8-3fb3-4fff-aed1-061d4e9b3312: 1
2025-09-26T11:22:39.117Z [debug] [gen] Emitted to room f32d81b8-3fb3-4fff-aed1-061d4e9b3312 with 1 sockets
2025-09-26T11:22:39.117Z [debug] [gen] END: session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=4, emitted chunk
2025-09-26T11:22:39.120Z [debug] [genWorker] Received job: gen id=134
2025-09-26T11:22:39.120Z [debug] [gen] START: session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=5 tag=part_5
2025-09-26T11:22:39.121Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T11:22:39.122Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T11:22:39.122Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:22:48.365Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 2233
2025-09-26T11:22:48.366Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:22:48.366Z [debug] [codegen] SUCCESS: Generated 16 actions for step 4
2025-09-26T11:22:48.366Z [debug] [gen] OK: prefetch codegen completed for session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=4 in 37601ms
2025-09-26T11:22:48.366Z [debug] compilerRouter: routing to js
2025-09-26T11:22:48.366Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T11:22:48.366Z [debug] [debugger] Chunk is valid with 16 actions, allowing all for rich visualizations
2025-09-26T11:22:48.367Z [debug] [gen] Prefetched and cached session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=4
2025-09-26T11:22:49.120Z [debug] [genWorker] Received job: gen id=135
2025-09-26T11:22:49.121Z [debug] [gen] START: session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=5 tag=part_5
2025-09-26T11:22:49.122Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"tell me H20 structure and draw Graph between the intermolecular force between OH and H"}
2025-09-26T11:22:49.122Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T11:22:49.123Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:23:17.973Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 10736
2025-09-26T11:23:17.974Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:23:17.974Z [debug] [codegen] SUCCESS: Generated 76 actions for step 5
2025-09-26T11:23:17.974Z [debug] [gen] OK: prefetch codegen completed for session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=5 in 38853ms
2025-09-26T11:23:17.974Z [debug] compilerRouter: routing to js
2025-09-26T11:23:17.974Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T11:23:17.974Z [debug] [debugger] Chunk is valid with 76 actions, allowing all for rich visualizations
2025-09-26T11:23:17.975Z [debug] [gen] Prefetched and cached session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=5
2025-09-26T11:23:38.308Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 7050
2025-09-26T11:23:38.308Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:23:38.308Z [debug] [codegen] SUCCESS: Generated 62 actions for step 5
2025-09-26T11:23:38.308Z [debug] [gen] OK: codegen completed for session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=5 in 49186ms
2025-09-26T11:23:38.308Z [debug] compilerRouter: routing to js
2025-09-26T11:23:38.308Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T11:23:38.308Z [debug] [debugger] Chunk is valid with 62 actions, allowing all for rich visualizations
2025-09-26T11:23:38.313Z [debug] [gen] EMITTING to room: f32d81b8-3fb3-4fff-aed1-061d4e9b3312 with 62 actions
2025-09-26T11:23:38.313Z [debug] [gen] Sockets in room f32d81b8-3fb3-4fff-aed1-061d4e9b3312: 1
2025-09-26T11:23:38.314Z [debug] [gen] Emitted to room f32d81b8-3fb3-4fff-aed1-061d4e9b3312 with 1 sockets
2025-09-26T11:23:38.314Z [debug] [gen] END: session=f32d81b8-3fb3-4fff-aed1-061d4e9b3312 step=5, emitted chunk
2025-09-26T11:23:38.315Z [debug] [orchestrator] All steps completed for session f32d81b8-3fb3-4fff-aed1-061d4e9b3312
2025-09-26T11:31:55.925Z [debug] Received request on /api/query {"body":{"query":"Draw a parabola y=x^2 with axes","sessionId":"position-test-1758886315908"}}
2025-09-26T11:31:55.925Z [debug] [orchestrator] Enqueuing plan for session position-test-1758886315908
2025-09-26T11:31:55.927Z [debug] [orchestrator] Plan job added with id 16 for session position-test-1758886315908
2025-09-26T11:31:55.929Z [debug] [planWorker] Received job: plan id=16
2025-09-26T11:31:55.929Z [debug] [plan] START: session=position-test-1758886315908 query=Draw a parabola y=x^2 with axes
2025-09-26T11:31:55.929Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T11:31:55.929Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T11:32:03.951Z [debug] Received request on /api/query {"body":{"query":"Draw H2O molecule structure with hydrogen bonds","sessionId":"position-test-1758886323947"}}
2025-09-26T11:32:03.952Z [debug] [orchestrator] Enqueuing plan for session position-test-1758886323947
2025-09-26T11:32:03.953Z [debug] [orchestrator] Plan job added with id 17 for session position-test-1758886323947
2025-09-26T11:32:11.979Z [debug] Received request on /api/query {"body":{"query":"Show vector addition with arrows on coordinate plane","sessionId":"position-test-1758886331973"}}
2025-09-26T11:32:11.979Z [debug] [orchestrator] Enqueuing plan for session position-test-1758886331973
2025-09-26T11:32:11.981Z [debug] [orchestrator] Plan job added with id 18 for session position-test-1758886331973
2025-09-26T11:32:12.270Z [debug] [planner] Received response from Gemini in 16341ms
2025-09-26T11:32:12.270Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T11:32:12.271Z [debug] [plan] OK: session=position-test-1758886315908 plan received with 5 steps
2025-09-26T11:32:12.272Z [debug] [plan] Enqueuing first step emit: session=position-test-1758886315908 stepId=1
2025-09-26T11:32:12.273Z [debug] [plan] END: session=position-test-1758886315908
2025-09-26T11:32:12.274Z [debug] [genWorker] Received job: gen id=136
2025-09-26T11:32:12.274Z [debug] [gen] START: session=position-test-1758886315908 step=1 tag=setup_axes
2025-09-26T11:32:12.275Z [debug] [planWorker] Received job: plan id=17
2025-09-26T11:32:12.275Z [debug] [plan] START: session=position-test-1758886323947 query=Draw H2O molecule structure with hydrogen bonds
2025-09-26T11:32:12.276Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T11:32:12.276Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T11:32:12.279Z [debug] [codegen] START: stepId=1 tag=setup_axes {"params":{},"query":"Draw a parabola y=x^2 with axes"}
2025-09-26T11:32:12.279Z [debug] [codegen] Sending prompt to Gemini for tag=setup_axes
2025-09-26T11:32:12.279Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:32:15.461Z [debug] [codegen] Received response from Gemini for tag=setup_axes, length: 506
2025-09-26T11:32:15.461Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:32:15.461Z [debug] [codegen] SUCCESS: Generated 5 actions for step 1
2025-09-26T11:32:15.461Z [debug] [gen] OK: codegen completed for session=position-test-1758886315908 step=1 in 3182ms
2025-09-26T11:32:15.461Z [debug] compilerRouter: routing to drawing
2025-09-26T11:32:15.462Z [error] [gen] Codegen failed for session=position-test-1758886315908 step=1: Error: Invalid compiler type
2025-09-26T11:32:15.462Z [debug] [gen] EMITTING to room: position-test-1758886315908 with 3 actions
2025-09-26T11:32:15.462Z [debug] [gen] Sockets in room position-test-1758886315908: 0
2025-09-26T11:32:15.463Z [warn] [gen] No sockets in room position-test-1758886315908! Using broadcast fallback.
2025-09-26T11:32:15.463Z [debug] [gen] END: session=position-test-1758886315908 step=1, emitted chunk
2025-09-26T11:32:15.465Z [debug] [genWorker] Received job: gen id=137
2025-09-26T11:32:15.465Z [debug] [gen] START: session=position-test-1758886315908 step=2 tag=identify_vertex
2025-09-26T11:32:15.467Z [debug] [codegen] START: stepId=2 tag=identify_vertex {"params":{},"query":"Draw a parabola y=x^2 with axes"}
2025-09-26T11:32:15.467Z [debug] [codegen] Sending prompt to Gemini for tag=identify_vertex
2025-09-26T11:32:15.467Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:32:25.514Z [debug] [genWorker] Received job: gen id=138
2025-09-26T11:32:25.515Z [debug] [gen] START: session=position-test-1758886315908 step=2 tag=identify_vertex
2025-09-26T11:32:25.516Z [debug] [codegen] START: stepId=2 tag=identify_vertex {"params":{},"query":"Draw a parabola y=x^2 with axes"}
2025-09-26T11:32:25.516Z [debug] [codegen] Sending prompt to Gemini for tag=identify_vertex
2025-09-26T11:32:25.516Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:32:25.893Z [debug] [planner] Received response from Gemini in 13617ms
2025-09-26T11:32:25.893Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T11:32:25.894Z [debug] [plan] OK: session=position-test-1758886323947 plan received with 5 steps
2025-09-26T11:32:25.897Z [debug] [plan] Enqueuing first step emit: session=position-test-1758886323947 stepId=1
2025-09-26T11:32:25.897Z [debug] [plan] END: session=position-test-1758886323947
2025-09-26T11:32:25.899Z [debug] [planWorker] Received job: plan id=18
2025-09-26T11:32:25.899Z [debug] [plan] START: session=position-test-1758886331973 query=Show vector addition with arrows on coordinate plane
2025-09-26T11:32:25.899Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T11:32:25.899Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T11:32:41.061Z [debug] [planner] Received response from Gemini in 15162ms
2025-09-26T11:32:41.061Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T11:32:41.062Z [debug] [plan] OK: session=position-test-1758886331973 plan received with 5 steps
2025-09-26T11:32:41.062Z [debug] [plan] Enqueuing first step emit: session=position-test-1758886331973 stepId=1
2025-09-26T11:32:41.063Z [debug] [plan] END: session=position-test-1758886331973
2025-09-26T11:32:44.022Z [debug] [codegen] Received response from Gemini for tag=identify_vertex, length: 2514
2025-09-26T11:32:44.022Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:32:44.022Z [debug] [codegen] SUCCESS: Generated 12 actions for step 2
2025-09-26T11:32:44.022Z [debug] [gen] OK: codegen completed for session=position-test-1758886315908 step=2 in 18506ms
2025-09-26T11:32:44.022Z [debug] compilerRouter: routing to drawing
2025-09-26T11:32:44.023Z [error] [gen] Codegen failed for session=position-test-1758886315908 step=2: Error: Invalid compiler type
2025-09-26T11:32:44.023Z [debug] [gen] EMITTING to room: position-test-1758886315908 with 3 actions
2025-09-26T11:32:44.023Z [debug] [gen] Sockets in room position-test-1758886315908: 0
2025-09-26T11:32:44.024Z [warn] [gen] No sockets in room position-test-1758886315908! Using broadcast fallback.
2025-09-26T11:32:44.024Z [debug] [gen] END: session=position-test-1758886315908 step=2, emitted chunk
2025-09-26T11:32:44.027Z [debug] [genWorker] Received job: gen id=139
2025-09-26T11:32:44.027Z [debug] [gen] START: session=position-test-1758886323947 step=1 tag=part_1
2025-09-26T11:32:44.028Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"Draw H2O molecule structure with hydrogen bonds"}
2025-09-26T11:32:44.028Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T11:32:44.029Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:32:56.939Z [debug] [codegen] Received response from Gemini for tag=identify_vertex, length: 2319
2025-09-26T11:32:56.939Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Expected ',' or '}' after property value in JSON at position 1570
2025-09-26T11:32:56.940Z [error] [codegen] JSON parse failed completely: SyntaxError: Expected ',' or '}' after property value in JSON at position 1028
2025-09-26T11:32:56.942Z [error] [gen:failed] id=137 Error: Failed to parse codegen response: SyntaxError: Expected ',' or '}' after property value in JSON at position 1028
2025-09-26T11:32:56.943Z [debug] [genWorker] Received job: gen id=140
2025-09-26T11:32:56.943Z [debug] [gen] START: session=position-test-1758886331973 step=1 tag=part_1
2025-09-26T11:32:56.944Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"Show vector addition with arrows on coordinate plane"}
2025-09-26T11:32:56.945Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T11:32:56.945Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:33:03.870Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 1694
2025-09-26T11:33:03.870Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:33:03.870Z [debug] [codegen] SUCCESS: Generated 20 actions for step 1
2025-09-26T11:33:03.870Z [debug] [gen] OK: codegen completed for session=position-test-1758886323947 step=1 in 19842ms
2025-09-26T11:33:03.870Z [debug] compilerRouter: routing to js
2025-09-26T11:33:03.871Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T11:33:03.871Z [debug] [debugger] Chunk is valid with 20 actions, allowing all for rich visualizations
2025-09-26T11:33:03.873Z [debug] [gen] EMITTING to room: position-test-1758886323947 with 20 actions
2025-09-26T11:33:03.873Z [debug] [gen] Sockets in room position-test-1758886323947: 0
2025-09-26T11:33:03.873Z [warn] [gen] No sockets in room position-test-1758886323947! Using broadcast fallback.
2025-09-26T11:33:03.873Z [debug] [gen] END: session=position-test-1758886323947 step=1, emitted chunk
2025-09-26T11:33:03.878Z [debug] [genWorker] Received job: gen id=141
2025-09-26T11:33:03.878Z [debug] [gen] START: session=position-test-1758886315908 step=3 tag=calculate_points
2025-09-26T11:33:03.879Z [debug] [codegen] START: stepId=3 tag=calculate_points {"params":{},"query":"Draw a parabola y=x^2 with axes"}
2025-09-26T11:33:03.879Z [debug] [codegen] Sending prompt to Gemini for tag=calculate_points
2025-09-26T11:33:03.879Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:33:09.397Z [debug] [codegen] Received response from Gemini for tag=part_1, length: 2869
2025-09-26T11:33:09.397Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:33:09.397Z [debug] [codegen] SUCCESS: Generated 22 actions for step 1
2025-09-26T11:33:09.397Z [debug] [gen] OK: codegen completed for session=position-test-1758886331973 step=1 in 12453ms
2025-09-26T11:33:09.397Z [debug] compilerRouter: routing to js
2025-09-26T11:33:09.397Z [debug] [debugger] START: Received chunk for stepId=1
2025-09-26T11:33:09.397Z [debug] [debugger] Chunk is valid with 22 actions, allowing all for rich visualizations
2025-09-26T11:33:09.399Z [debug] [gen] EMITTING to room: position-test-1758886331973 with 22 actions
2025-09-26T11:33:09.399Z [debug] [gen] Sockets in room position-test-1758886331973: 0
2025-09-26T11:33:09.399Z [warn] [gen] No sockets in room position-test-1758886331973! Using broadcast fallback.
2025-09-26T11:33:09.400Z [debug] [gen] END: session=position-test-1758886331973 step=1, emitted chunk
2025-09-26T11:33:09.403Z [debug] [genWorker] Received job: gen id=142
2025-09-26T11:33:09.403Z [debug] [gen] START: session=position-test-1758886315908 step=3 tag=calculate_points
2025-09-26T11:33:09.404Z [debug] [codegen] START: stepId=3 tag=calculate_points {"params":{},"query":"Draw a parabola y=x^2 with axes"}
2025-09-26T11:33:09.404Z [debug] [codegen] Sending prompt to Gemini for tag=calculate_points
2025-09-26T11:33:09.404Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:33:15.765Z [debug] [codegen] Received response from Gemini for tag=calculate_points, length: 2593
2025-09-26T11:33:15.765Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:33:15.765Z [debug] [codegen] SUCCESS: Generated 28 actions for step 3
2025-09-26T11:33:15.765Z [debug] [gen] OK: prefetch codegen completed for session=position-test-1758886315908 step=3 in 11886ms
2025-09-26T11:33:15.765Z [debug] compilerRouter: routing to math
2025-09-26T11:33:15.770Z [error] [gen:failed] id=141 Error: Invalid compiler type
2025-09-26T11:33:15.771Z [debug] [genWorker] Received job: gen id=143
2025-09-26T11:33:15.771Z [debug] [gen] START: session=position-test-1758886323947 step=2 tag=part_2
2025-09-26T11:33:15.772Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Draw H2O molecule structure with hydrogen bonds"}
2025-09-26T11:33:15.772Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T11:33:15.772Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:33:23.094Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 1795
2025-09-26T11:33:23.094Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:33:23.094Z [debug] [codegen] SUCCESS: Generated 13 actions for step 2
2025-09-26T11:33:23.094Z [debug] [gen] OK: prefetch codegen completed for session=position-test-1758886323947 step=2 in 7322ms
2025-09-26T11:33:23.095Z [debug] compilerRouter: routing to js
2025-09-26T11:33:23.095Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T11:33:23.095Z [debug] [debugger] Chunk is valid with 13 actions, allowing all for rich visualizations
2025-09-26T11:33:23.095Z [debug] [gen] Prefetched and cached session=position-test-1758886323947 step=2
2025-09-26T11:33:23.097Z [debug] [genWorker] Received job: gen id=145
2025-09-26T11:33:23.097Z [debug] [gen] START: session=position-test-1758886331973 step=2 tag=part_2
2025-09-26T11:33:23.098Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Show vector addition with arrows on coordinate plane"}
2025-09-26T11:33:23.099Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T11:33:23.099Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:33:35.250Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 2680
2025-09-26T11:33:35.250Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Expected ',' or ']' after array element in JSON at position 1759
2025-09-26T11:33:35.251Z [error] [codegen] JSON parse failed completely: SyntaxError: Expected ',' or ']' after array element in JSON at position 1424
2025-09-26T11:33:35.253Z [error] [gen:failed] id=145 Error: Failed to parse codegen response: SyntaxError: Expected ',' or ']' after array element in JSON at position 1424
2025-09-26T11:33:35.253Z [debug] [genWorker] Received job: gen id=144
2025-09-26T11:33:35.253Z [debug] [gen] START: session=position-test-1758886323947 step=2 tag=part_2
2025-09-26T11:33:35.254Z [debug] [gen] Using cached chunk for session=position-test-1758886323947 step=2
2025-09-26T11:33:35.257Z [debug] [gen] EMITTING to room: position-test-1758886323947 with 13 actions
2025-09-26T11:33:35.257Z [debug] [gen] Sockets in room position-test-1758886323947: 0
2025-09-26T11:33:35.257Z [warn] [gen] No sockets in room position-test-1758886323947! Using broadcast fallback.
2025-09-26T11:33:35.258Z [debug] [gen] END: session=position-test-1758886323947 step=2, emitted chunk
2025-09-26T11:33:35.260Z [debug] [genWorker] Received job: gen id=146
2025-09-26T11:33:35.261Z [debug] [gen] START: session=position-test-1758886331973 step=2 tag=part_2
2025-09-26T11:33:35.261Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"Show vector addition with arrows on coordinate plane"}
2025-09-26T11:33:35.262Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T11:33:35.262Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:33:52.991Z [debug] [codegen] Received response from Gemini for tag=calculate_points, length: 2745
2025-09-26T11:33:52.991Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Expected ',' or '}' after property value in JSON at position 717
2025-09-26T11:33:52.992Z [error] [codegen] JSON parse failed completely: SyntaxError: Expected ',' or '}' after property value in JSON at position 674
2025-09-26T11:33:52.992Z [error] [gen] Codegen failed for session=position-test-1758886315908 step=3: Error: Failed to parse codegen response: SyntaxError: Expected ',' or '}' after property value in JSON at position 674
2025-09-26T11:33:52.992Z [debug] [gen] EMITTING to room: position-test-1758886315908 with 3 actions
2025-09-26T11:33:52.993Z [debug] [gen] Sockets in room position-test-1758886315908: 0
2025-09-26T11:33:52.993Z [warn] [gen] No sockets in room position-test-1758886315908! Using broadcast fallback.
2025-09-26T11:33:52.993Z [debug] [gen] END: session=position-test-1758886315908 step=3, emitted chunk
2025-09-26T11:33:52.996Z [debug] [genWorker] Received job: gen id=147
2025-09-26T11:33:52.996Z [debug] [gen] START: session=position-test-1758886323947 step=3 tag=part_3
2025-09-26T11:33:52.997Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"Draw H2O molecule structure with hydrogen bonds"}
2025-09-26T11:33:52.998Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T11:33:52.998Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:33:54.071Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 3056
2025-09-26T11:33:54.072Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:33:54.072Z [debug] [codegen] SUCCESS: Generated 25 actions for step 2
2025-09-26T11:33:54.072Z [debug] [gen] OK: codegen completed for session=position-test-1758886331973 step=2 in 18811ms
2025-09-26T11:33:54.072Z [debug] compilerRouter: routing to js
2025-09-26T11:33:54.072Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T11:33:54.072Z [debug] [debugger] Chunk is valid with 25 actions, allowing all for rich visualizations
2025-09-26T11:33:54.075Z [debug] [gen] EMITTING to room: position-test-1758886331973 with 25 actions
2025-09-26T11:33:54.075Z [debug] [gen] Sockets in room position-test-1758886331973: 0
2025-09-26T11:33:54.075Z [warn] [gen] No sockets in room position-test-1758886331973! Using broadcast fallback.
2025-09-26T11:33:54.075Z [debug] [gen] END: session=position-test-1758886331973 step=2, emitted chunk
2025-09-26T11:33:54.079Z [debug] [genWorker] Received job: gen id=149
2025-09-26T11:33:54.079Z [debug] [gen] START: session=position-test-1758886315908 step=4 tag=plot_points
2025-09-26T11:33:54.080Z [debug] [codegen] START: stepId=4 tag=plot_points {"params":{},"query":"Draw a parabola y=x^2 with axes"}
2025-09-26T11:33:54.080Z [debug] [codegen] Sending prompt to Gemini for tag=plot_points
2025-09-26T11:33:54.081Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:34:34.365Z [debug] [codegen] Received response from Gemini for tag=plot_points, length: 2334
2025-09-26T11:34:34.365Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:34:34.365Z [debug] [codegen] SUCCESS: Generated 26 actions for step 4
2025-09-26T11:34:34.365Z [debug] [gen] OK: prefetch codegen completed for session=position-test-1758886315908 step=4 in 40285ms
2025-09-26T11:34:34.365Z [debug] compilerRouter: routing to drawing
2025-09-26T11:34:34.367Z [error] [gen:failed] id=149 Error: Invalid compiler type
2025-09-26T11:34:34.367Z [debug] [genWorker] Received job: gen id=148
2025-09-26T11:34:34.367Z [debug] [gen] START: session=position-test-1758886323947 step=3 tag=part_3
2025-09-26T11:34:34.368Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"Draw H2O molecule structure with hydrogen bonds"}
2025-09-26T11:34:34.368Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T11:34:34.368Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:34:53.000Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T11:34:53.003Z [error] [gen:failed] id=147 Error: codegen/gemini timeout after 60000ms
2025-09-26T11:34:53.003Z [debug] [genWorker] Received job: gen id=151
2025-09-26T11:34:53.003Z [debug] [gen] START: session=position-test-1758886331973 step=3 tag=part_3
2025-09-26T11:34:53.004Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"Show vector addition with arrows on coordinate plane"}
2025-09-26T11:34:53.005Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T11:34:53.005Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:34:59.242Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 1643
2025-09-26T11:34:59.242Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:34:59.242Z [debug] [codegen] SUCCESS: Generated 13 actions for step 3
2025-09-26T11:34:59.242Z [debug] [gen] OK: prefetch codegen completed for session=position-test-1758886331973 step=3 in 6238ms
2025-09-26T11:34:59.242Z [debug] compilerRouter: routing to js
2025-09-26T11:34:59.243Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T11:34:59.243Z [debug] [debugger] Chunk is valid with 13 actions, allowing all for rich visualizations
2025-09-26T11:34:59.243Z [debug] [gen] Prefetched and cached session=position-test-1758886331973 step=3
2025-09-26T11:34:59.244Z [debug] [genWorker] Received job: gen id=150
2025-09-26T11:34:59.245Z [debug] [gen] START: session=position-test-1758886315908 step=4 tag=plot_points
2025-09-26T11:34:59.246Z [debug] [codegen] START: stepId=4 tag=plot_points {"params":{},"query":"Draw a parabola y=x^2 with axes"}
2025-09-26T11:34:59.246Z [debug] [codegen] Sending prompt to Gemini for tag=plot_points
2025-09-26T11:34:59.246Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:35:10.977Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 4090
2025-09-26T11:35:10.977Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:35:10.977Z [debug] [codegen] SUCCESS: Generated 31 actions for step 3
2025-09-26T11:35:10.977Z [debug] [gen] OK: codegen completed for session=position-test-1758886323947 step=3 in 36609ms
2025-09-26T11:35:10.977Z [debug] compilerRouter: routing to js
2025-09-26T11:35:10.978Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T11:35:10.978Z [debug] [debugger] Chunk is valid with 31 actions, allowing all for rich visualizations
2025-09-26T11:35:10.980Z [debug] [gen] EMITTING to room: position-test-1758886323947 with 31 actions
2025-09-26T11:35:10.981Z [debug] [gen] Sockets in room position-test-1758886323947: 0
2025-09-26T11:35:10.981Z [warn] [gen] No sockets in room position-test-1758886323947! Using broadcast fallback.
2025-09-26T11:35:10.981Z [debug] [gen] END: session=position-test-1758886323947 step=3, emitted chunk
2025-09-26T11:35:10.984Z [debug] [genWorker] Received job: gen id=152
2025-09-26T11:35:10.984Z [debug] [gen] START: session=position-test-1758886331973 step=3 tag=part_3
2025-09-26T11:35:10.985Z [debug] [gen] Using cached chunk for session=position-test-1758886331973 step=3
2025-09-26T11:35:10.987Z [debug] [gen] EMITTING to room: position-test-1758886331973 with 13 actions
2025-09-26T11:35:10.987Z [debug] [gen] Sockets in room position-test-1758886331973: 0
2025-09-26T11:35:10.987Z [warn] [gen] No sockets in room position-test-1758886331973! Using broadcast fallback.
2025-09-26T11:35:10.987Z [debug] [gen] END: session=position-test-1758886331973 step=3, emitted chunk
2025-09-26T11:35:10.991Z [debug] [genWorker] Received job: gen id=153
2025-09-26T11:35:10.991Z [debug] [gen] START: session=position-test-1758886323947 step=4 tag=part_4
2025-09-26T11:35:10.992Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"Draw H2O molecule structure with hydrogen bonds"}
2025-09-26T11:35:10.992Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T11:35:10.992Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:35:45.522Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 2621
2025-09-26T11:35:45.522Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:35:45.522Z [debug] [codegen] SUCCESS: Generated 21 actions for step 4
2025-09-26T11:35:45.522Z [debug] [gen] OK: prefetch codegen completed for session=position-test-1758886323947 step=4 in 34530ms
2025-09-26T11:35:45.522Z [debug] compilerRouter: routing to js
2025-09-26T11:35:45.522Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T11:35:45.522Z [debug] [debugger] Chunk is valid with 21 actions, allowing all for rich visualizations
2025-09-26T11:35:45.523Z [debug] [gen] Prefetched and cached session=position-test-1758886323947 step=4
2025-09-26T11:35:45.525Z [debug] [genWorker] Received job: gen id=155
2025-09-26T11:35:45.525Z [debug] [gen] START: session=position-test-1758886331973 step=4 tag=part_4
2025-09-26T11:35:45.526Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"Show vector addition with arrows on coordinate plane"}
2025-09-26T11:35:45.526Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T11:35:45.526Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:35:56.700Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 3197
2025-09-26T11:35:56.700Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:35:56.700Z [debug] [codegen] SUCCESS: Generated 23 actions for step 4
2025-09-26T11:35:56.700Z [debug] [gen] OK: prefetch codegen completed for session=position-test-1758886331973 step=4 in 11174ms
2025-09-26T11:35:56.700Z [debug] compilerRouter: routing to js
2025-09-26T11:35:56.700Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T11:35:56.700Z [debug] [debugger] Chunk is valid with 23 actions, allowing all for rich visualizations
2025-09-26T11:35:56.701Z [debug] [gen] Prefetched and cached session=position-test-1758886331973 step=4
2025-09-26T11:35:56.702Z [debug] [genWorker] Received job: gen id=154
2025-09-26T11:35:56.702Z [debug] [gen] START: session=position-test-1758886323947 step=4 tag=part_4
2025-09-26T11:35:56.703Z [debug] [gen] Using cached chunk for session=position-test-1758886323947 step=4
2025-09-26T11:35:56.705Z [debug] [gen] EMITTING to room: position-test-1758886323947 with 21 actions
2025-09-26T11:35:56.705Z [debug] [gen] Sockets in room position-test-1758886323947: 0
2025-09-26T11:35:56.705Z [warn] [gen] No sockets in room position-test-1758886323947! Using broadcast fallback.
2025-09-26T11:35:56.705Z [debug] [gen] END: session=position-test-1758886323947 step=4, emitted chunk
2025-09-26T11:35:56.708Z [debug] [genWorker] Received job: gen id=156
2025-09-26T11:35:56.708Z [debug] [gen] START: session=position-test-1758886331973 step=4 tag=part_4
2025-09-26T11:35:56.709Z [debug] [gen] Using cached chunk for session=position-test-1758886331973 step=4
2025-09-26T11:35:56.711Z [debug] [gen] EMITTING to room: position-test-1758886331973 with 23 actions
2025-09-26T11:35:56.711Z [debug] [gen] Sockets in room position-test-1758886331973: 0
2025-09-26T11:35:56.711Z [warn] [gen] No sockets in room position-test-1758886331973! Using broadcast fallback.
2025-09-26T11:35:56.711Z [debug] [gen] END: session=position-test-1758886331973 step=4, emitted chunk
2025-09-26T11:35:56.714Z [debug] [genWorker] Received job: gen id=157
2025-09-26T11:35:56.714Z [debug] [gen] START: session=position-test-1758886323947 step=5 tag=part_5
2025-09-26T11:35:56.715Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"Draw H2O molecule structure with hydrogen bonds"}
2025-09-26T11:35:56.715Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T11:35:56.715Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:35:59.246Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T11:35:59.247Z [error] [gen] Codegen failed for session=position-test-1758886315908 step=4: Error: codegen/gemini timeout after 60000ms
2025-09-26T11:35:59.248Z [debug] [gen] EMITTING to room: position-test-1758886315908 with 3 actions
2025-09-26T11:35:59.248Z [debug] [gen] Sockets in room position-test-1758886315908: 0
2025-09-26T11:35:59.248Z [warn] [gen] No sockets in room position-test-1758886315908! Using broadcast fallback.
2025-09-26T11:35:59.248Z [debug] [gen] END: session=position-test-1758886315908 step=4, emitted chunk
2025-09-26T11:35:59.252Z [debug] [genWorker] Received job: gen id=159
2025-09-26T11:35:59.252Z [debug] [gen] START: session=position-test-1758886331973 step=5 tag=part_5
2025-09-26T11:35:59.254Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"Show vector addition with arrows on coordinate plane"}
2025-09-26T11:35:59.254Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T11:35:59.254Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:36:31.524Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 3115
2025-09-26T11:36:31.524Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:36:31.524Z [debug] [codegen] SUCCESS: Generated 26 actions for step 5
2025-09-26T11:36:31.524Z [debug] [gen] OK: prefetch codegen completed for session=position-test-1758886331973 step=5 in 32270ms
2025-09-26T11:36:31.524Z [debug] compilerRouter: routing to js
2025-09-26T11:36:31.524Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T11:36:31.524Z [debug] [debugger] Chunk is valid with 26 actions, allowing all for rich visualizations
2025-09-26T11:36:31.525Z [debug] [gen] Prefetched and cached session=position-test-1758886331973 step=5
2025-09-26T11:36:31.526Z [debug] [genWorker] Received job: gen id=161
2025-09-26T11:36:31.527Z [debug] [gen] START: session=position-test-1758886315908 step=5 tag=draw_curve
2025-09-26T11:36:31.528Z [debug] [codegen] START: stepId=5 tag=draw_curve {"params":{},"query":"Draw a parabola y=x^2 with axes"}
2025-09-26T11:36:31.528Z [debug] [codegen] Sending prompt to Gemini for tag=draw_curve
2025-09-26T11:36:31.528Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:36:39.055Z [debug] [codegen] Received response from Gemini for tag=draw_curve, length: 2135
2025-09-26T11:36:39.055Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:36:39.055Z [debug] [codegen] SUCCESS: Generated 14 actions for step 5
2025-09-26T11:36:39.055Z [debug] [gen] OK: prefetch codegen completed for session=position-test-1758886315908 step=5 in 7527ms
2025-09-26T11:36:39.055Z [debug] compilerRouter: routing to drawing
2025-09-26T11:36:39.058Z [error] [gen:failed] id=161 Error: Invalid compiler type
2025-09-26T11:36:39.059Z [debug] [genWorker] Received job: gen id=158
2025-09-26T11:36:39.059Z [debug] [gen] START: session=position-test-1758886323947 step=5 tag=part_5
2025-09-26T11:36:39.060Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"Draw H2O molecule structure with hydrogen bonds"}
2025-09-26T11:36:39.060Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T11:36:39.060Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:36:53.999Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 6924
2025-09-26T11:36:53.999Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Unexpected token '/', ..."5 },

    // Action "... is not valid JSON
2025-09-26T11:36:54.000Z [error] [codegen] JSON parse failed completely: SyntaxError: Unexpected token '/', ..."": 1.5 }, // Action "... is not valid JSON
2025-09-26T11:36:54.002Z [error] [gen:failed] id=157 Error: Failed to parse codegen response: SyntaxError: Unexpected token '/', ..."": 1.5 }, // Action "... is not valid JSON
2025-09-26T11:36:54.002Z [debug] [genWorker] Received job: gen id=160
2025-09-26T11:36:54.002Z [debug] [gen] START: session=position-test-1758886331973 step=5 tag=part_5
2025-09-26T11:36:54.004Z [debug] [gen] Using cached chunk for session=position-test-1758886331973 step=5
2025-09-26T11:36:54.005Z [debug] [gen] EMITTING to room: position-test-1758886331973 with 26 actions
2025-09-26T11:36:54.005Z [debug] [gen] Sockets in room position-test-1758886331973: 0
2025-09-26T11:36:54.005Z [warn] [gen] No sockets in room position-test-1758886331973! Using broadcast fallback.
2025-09-26T11:36:54.006Z [debug] [gen] END: session=position-test-1758886331973 step=5, emitted chunk
2025-09-26T11:36:54.006Z [debug] [orchestrator] All steps completed for session position-test-1758886331973
2025-09-26T11:36:54.008Z [debug] [genWorker] Received job: gen id=162
2025-09-26T11:36:54.008Z [debug] [gen] START: session=position-test-1758886315908 step=5 tag=draw_curve
2025-09-26T11:36:54.009Z [debug] [codegen] START: stepId=5 tag=draw_curve {"params":{},"query":"Draw a parabola y=x^2 with axes"}
2025-09-26T11:36:54.010Z [debug] [codegen] Sending prompt to Gemini for tag=draw_curve
2025-09-26T11:36:54.010Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:37:06.098Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 9479
2025-09-26T11:37:06.098Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:37:06.098Z [debug] [codegen] SUCCESS: Generated 59 actions for step 5
2025-09-26T11:37:06.098Z [debug] [gen] OK: codegen completed for session=position-test-1758886323947 step=5 in 27038ms
2025-09-26T11:37:06.098Z [debug] compilerRouter: routing to js
2025-09-26T11:37:06.098Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T11:37:06.098Z [debug] [debugger] Chunk is valid with 59 actions, allowing all for rich visualizations
2025-09-26T11:37:06.104Z [debug] [gen] EMITTING to room: position-test-1758886323947 with 59 actions
2025-09-26T11:37:06.104Z [debug] [gen] Sockets in room position-test-1758886323947: 0
2025-09-26T11:37:06.104Z [warn] [gen] No sockets in room position-test-1758886323947! Using broadcast fallback.
2025-09-26T11:37:06.105Z [debug] [gen] END: session=position-test-1758886323947 step=5, emitted chunk
2025-09-26T11:37:06.105Z [debug] [orchestrator] All steps completed for session position-test-1758886323947
2025-09-26T11:37:09.220Z [debug] [codegen] Received response from Gemini for tag=draw_curve, length: 2327
2025-09-26T11:37:09.221Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:37:09.221Z [debug] [codegen] SUCCESS: Generated 12 actions for step 5
2025-09-26T11:37:09.221Z [debug] [gen] OK: codegen completed for session=position-test-1758886315908 step=5 in 15212ms
2025-09-26T11:37:09.221Z [debug] compilerRouter: routing to drawing
2025-09-26T11:37:09.221Z [error] [gen] Codegen failed for session=position-test-1758886315908 step=5: Error: Invalid compiler type
2025-09-26T11:37:09.222Z [debug] [gen] EMITTING to room: position-test-1758886315908 with 3 actions
2025-09-26T11:37:09.222Z [debug] [gen] Sockets in room position-test-1758886315908: 0
2025-09-26T11:37:09.222Z [warn] [gen] No sockets in room position-test-1758886315908! Using broadcast fallback.
2025-09-26T11:37:09.222Z [debug] [gen] END: session=position-test-1758886315908 step=5, emitted chunk
2025-09-26T11:37:09.222Z [debug] [orchestrator] All steps completed for session position-test-1758886315908
2025-09-26T11:56:37.186Z [debug] NEW Plan worker created
2025-09-26T11:56:37.188Z [debug] NEW Gen worker created
2025-09-26T11:56:37.196Z [debug] Backend listening on http://localhost:3001
2025-09-26T11:57:53.873Z [debug] socket joined session d8567a62-a60d-4937-9432-301731c016cf
2025-09-26T11:57:53.901Z [debug] Received request on /api/query {"body":{"query":"tell me about solar system\n","sessionId":"d8567a62-a60d-4937-9432-301731c016cf"}}
2025-09-26T11:57:53.901Z [debug] [orchestrator] Enqueuing plan for session d8567a62-a60d-4937-9432-301731c016cf
2025-09-26T11:57:53.905Z [debug] [orchestrator] Plan job added with id 19 for session d8567a62-a60d-4937-9432-301731c016cf
2025-09-26T11:57:53.910Z [debug] [planWorker] Received job: plan id=19
2025-09-26T11:57:53.910Z [debug] [plan] START: session=d8567a62-a60d-4937-9432-301731c016cf query=tell me about solar system

2025-09-26T11:57:53.910Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T11:57:53.939Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T11:57:54.875Z [debug] [test] Emitting test message to room d8567a62-a60d-4937-9432-301731c016cf
2025-09-26T11:58:03.631Z [debug] [planner] Received response from Gemini in 9721ms
2025-09-26T11:58:03.632Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T11:58:03.637Z [debug] [plan] OK: session=d8567a62-a60d-4937-9432-301731c016cf plan received with 5 steps
2025-09-26T11:58:03.640Z [debug] [plan] Enqueuing first step emit: session=d8567a62-a60d-4937-9432-301731c016cf stepId=1
2025-09-26T11:58:03.641Z [debug] [plan] END: session=d8567a62-a60d-4937-9432-301731c016cf
2025-09-26T11:58:03.647Z [debug] [genWorker] Received job: gen id=163
2025-09-26T11:58:03.647Z [debug] [gen] START: session=d8567a62-a60d-4937-9432-301731c016cf step=1 tag=part_1
2025-09-26T11:58:03.650Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"tell me about solar system\n"}
2025-09-26T11:58:03.650Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T11:58:03.651Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:59:03.653Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T11:59:03.654Z [error] [gen] Codegen failed for session=d8567a62-a60d-4937-9432-301731c016cf step=1: Error: codegen/gemini timeout after 60000ms
2025-09-26T11:59:03.656Z [debug] [gen] EMITTING to room: d8567a62-a60d-4937-9432-301731c016cf with 3 actions
2025-09-26T11:59:03.656Z [debug] [gen] Sockets in room d8567a62-a60d-4937-9432-301731c016cf: 1
2025-09-26T11:59:03.657Z [debug] [gen] Emitted to room d8567a62-a60d-4937-9432-301731c016cf with 1 sockets
2025-09-26T11:59:03.657Z [debug] [gen] END: session=d8567a62-a60d-4937-9432-301731c016cf step=1, emitted chunk
2025-09-26T11:59:03.662Z [debug] [genWorker] Received job: gen id=164
2025-09-26T11:59:03.662Z [debug] [gen] START: session=d8567a62-a60d-4937-9432-301731c016cf step=2 tag=part_2
2025-09-26T11:59:03.665Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"tell me about solar system\n"}
2025-09-26T11:59:03.666Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T11:59:03.666Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:59:13.684Z [debug] [genWorker] Received job: gen id=165
2025-09-26T11:59:13.684Z [debug] [gen] START: session=d8567a62-a60d-4937-9432-301731c016cf step=2 tag=part_2
2025-09-26T11:59:13.687Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"tell me about solar system\n"}
2025-09-26T11:59:13.687Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T11:59:13.688Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:59:42.929Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 2646
2025-09-26T11:59:42.930Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:59:42.930Z [debug] [codegen] SUCCESS: Generated 32 actions for step 2
2025-09-26T11:59:42.930Z [debug] [gen] OK: codegen completed for session=d8567a62-a60d-4937-9432-301731c016cf step=2 in 29243ms
2025-09-26T11:59:42.930Z [debug] compilerRouter: routing to js
2025-09-26T11:59:42.930Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T11:59:42.930Z [debug] [debugger] Chunk is valid with 32 actions, allowing all for rich visualizations
2025-09-26T11:59:42.936Z [debug] [gen] EMITTING to room: d8567a62-a60d-4937-9432-301731c016cf with 32 actions
2025-09-26T11:59:42.937Z [debug] [gen] Sockets in room d8567a62-a60d-4937-9432-301731c016cf: 1
2025-09-26T11:59:42.937Z [debug] [gen] Emitted to room d8567a62-a60d-4937-9432-301731c016cf with 1 sockets
2025-09-26T11:59:42.937Z [debug] [gen] END: session=d8567a62-a60d-4937-9432-301731c016cf step=2, emitted chunk
2025-09-26T11:59:42.940Z [debug] [genWorker] Received job: gen id=166
2025-09-26T11:59:42.940Z [debug] [gen] START: session=d8567a62-a60d-4937-9432-301731c016cf step=3 tag=part_3
2025-09-26T11:59:42.941Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"tell me about solar system\n"}
2025-09-26T11:59:42.942Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T11:59:42.942Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T11:59:52.216Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 6223
2025-09-26T11:59:52.216Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T11:59:52.216Z [debug] [codegen] SUCCESS: Generated 43 actions for step 2
2025-09-26T11:59:52.216Z [debug] [gen] OK: prefetch codegen completed for session=d8567a62-a60d-4937-9432-301731c016cf step=2 in 48551ms
2025-09-26T11:59:52.216Z [debug] compilerRouter: routing to js
2025-09-26T11:59:52.217Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T11:59:52.217Z [debug] [debugger] Chunk is valid with 43 actions, allowing all for rich visualizations
2025-09-26T11:59:52.218Z [debug] [gen] Prefetched and cached session=d8567a62-a60d-4937-9432-301731c016cf step=2
2025-09-26T11:59:53.036Z [debug] [genWorker] Received job: gen id=167
2025-09-26T11:59:53.037Z [debug] [gen] START: session=d8567a62-a60d-4937-9432-301731c016cf step=3 tag=part_3
2025-09-26T11:59:53.038Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"tell me about solar system\n"}
2025-09-26T11:59:53.039Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T11:59:53.039Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T12:00:38.995Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 9970
2025-09-26T12:00:38.995Z [debug] [codegen] JSON parse failed, attempting to fix: SyntaxError: Expected ',' or '}' after property value in JSON at position 682
2025-09-26T12:00:38.997Z [error] [codegen] JSON parse failed completely: SyntaxError: Expected ',' or '}' after property value in JSON at position 482
2025-09-26T12:00:39.039Z [error] [gen:failed] id=166 Error: Failed to parse codegen response: SyntaxError: Expected ',' or '}' after property value in JSON at position 482
2025-09-26T12:00:45.567Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 7518
2025-09-26T12:00:45.567Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T12:00:45.568Z [debug] [codegen] SUCCESS: Generated 38 actions for step 3
2025-09-26T12:00:45.568Z [debug] [gen] OK: codegen completed for session=d8567a62-a60d-4937-9432-301731c016cf step=3 in 52530ms
2025-09-26T12:00:45.568Z [debug] compilerRouter: routing to js
2025-09-26T12:00:45.568Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T12:00:45.568Z [debug] [debugger] Chunk is valid with 38 actions, allowing all for rich visualizations
2025-09-26T12:00:45.576Z [debug] [gen] EMITTING to room: d8567a62-a60d-4937-9432-301731c016cf with 38 actions
2025-09-26T12:00:45.576Z [debug] [gen] Sockets in room d8567a62-a60d-4937-9432-301731c016cf: 1
2025-09-26T12:00:45.577Z [debug] [gen] Emitted to room d8567a62-a60d-4937-9432-301731c016cf with 1 sockets
2025-09-26T12:00:45.577Z [debug] [gen] END: session=d8567a62-a60d-4937-9432-301731c016cf step=3, emitted chunk
2025-09-26T12:00:45.580Z [debug] [genWorker] Received job: gen id=168
2025-09-26T12:00:45.580Z [debug] [gen] START: session=d8567a62-a60d-4937-9432-301731c016cf step=4 tag=part_4
2025-09-26T12:00:45.582Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"tell me about solar system\n"}
2025-09-26T12:00:45.582Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T12:00:45.583Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T12:00:55.338Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 3316
2025-09-26T12:00:55.338Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T12:00:55.338Z [debug] [codegen] SUCCESS: Generated 23 actions for step 4
2025-09-26T12:00:55.338Z [debug] [gen] OK: prefetch codegen completed for session=d8567a62-a60d-4937-9432-301731c016cf step=4 in 9756ms
2025-09-26T12:00:55.339Z [debug] compilerRouter: routing to js
2025-09-26T12:00:55.339Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T12:00:55.339Z [debug] [debugger] Chunk is valid with 23 actions, allowing all for rich visualizations
2025-09-26T12:00:55.340Z [debug] [gen] Prefetched and cached session=d8567a62-a60d-4937-9432-301731c016cf step=4
2025-09-26T12:00:55.623Z [debug] [genWorker] Received job: gen id=169
2025-09-26T12:00:55.623Z [debug] [gen] START: session=d8567a62-a60d-4937-9432-301731c016cf step=4 tag=part_4
2025-09-26T12:00:55.626Z [debug] [gen] Using cached chunk for session=d8567a62-a60d-4937-9432-301731c016cf step=4
2025-09-26T12:00:55.627Z [debug] [gen] EMITTING to room: d8567a62-a60d-4937-9432-301731c016cf with 23 actions
2025-09-26T12:00:55.627Z [debug] [gen] Sockets in room d8567a62-a60d-4937-9432-301731c016cf: 1
2025-09-26T12:00:55.628Z [debug] [gen] Emitted to room d8567a62-a60d-4937-9432-301731c016cf with 1 sockets
2025-09-26T12:00:55.628Z [debug] [gen] END: session=d8567a62-a60d-4937-9432-301731c016cf step=4, emitted chunk
2025-09-26T12:00:55.630Z [debug] [genWorker] Received job: gen id=170
2025-09-26T12:00:55.630Z [debug] [gen] START: session=d8567a62-a60d-4937-9432-301731c016cf step=5 tag=part_5
2025-09-26T12:00:55.632Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"tell me about solar system\n"}
2025-09-26T12:00:55.632Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T12:00:55.632Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T12:01:05.686Z [debug] [genWorker] Received job: gen id=171
2025-09-26T12:01:05.686Z [debug] [gen] START: session=d8567a62-a60d-4937-9432-301731c016cf step=5 tag=part_5
2025-09-26T12:01:05.688Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"tell me about solar system\n"}
2025-09-26T12:01:05.688Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T12:01:05.688Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T12:01:55.632Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T12:01:55.634Z [error] [gen:failed] id=170 Error: codegen/gemini timeout after 60000ms
2025-09-26T12:02:05.689Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T12:02:05.689Z [error] [gen] Codegen failed for session=d8567a62-a60d-4937-9432-301731c016cf step=5: Error: codegen/gemini timeout after 60000ms
2025-09-26T12:02:05.691Z [debug] [gen] EMITTING to room: d8567a62-a60d-4937-9432-301731c016cf with 3 actions
2025-09-26T12:02:05.691Z [debug] [gen] Sockets in room d8567a62-a60d-4937-9432-301731c016cf: 1
2025-09-26T12:02:05.692Z [debug] [gen] Emitted to room d8567a62-a60d-4937-9432-301731c016cf with 1 sockets
2025-09-26T12:02:05.692Z [debug] [gen] END: session=d8567a62-a60d-4937-9432-301731c016cf step=5, emitted chunk
2025-09-26T12:02:05.692Z [debug] [orchestrator] All steps completed for session d8567a62-a60d-4937-9432-301731c016cf
2025-09-26T12:05:57.081Z [debug] Shutting down server...
2025-09-26T12:18:17.469Z [debug] Shutting down server...
2025-09-26T12:18:19.915Z [debug] NEW Plan worker created
2025-09-26T12:18:19.916Z [debug] NEW Gen worker created
2025-09-26T12:18:19.924Z [debug] Backend listening on http://localhost:3001
2025-09-26T12:18:29.582Z [debug] Server shut down.
2025-09-26T12:18:52.798Z [debug] socket joined session 5acf98bf-32a1-43b9-a560-ba9179e8b3d5
2025-09-26T12:18:52.828Z [debug] Received request on /api/query {"body":{"query":"tell me about Comets in Astronomy?","sessionId":"5acf98bf-32a1-43b9-a560-ba9179e8b3d5"}}
2025-09-26T12:18:52.828Z [debug] [orchestrator] Enqueuing plan for session 5acf98bf-32a1-43b9-a560-ba9179e8b3d5
2025-09-26T12:18:52.835Z [debug] [orchestrator] Plan job added with id 20 for session 5acf98bf-32a1-43b9-a560-ba9179e8b3d5
2025-09-26T12:18:52.846Z [debug] [planWorker] Received job: plan id=20
2025-09-26T12:18:52.846Z [debug] [plan] START: session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 query=tell me about Comets in Astronomy?
2025-09-26T12:18:52.847Z [debug] [planner] Sending prompt to Gemini...
2025-09-26T12:18:52.879Z [debug] [timeout] Setting 60000ms timeout for planner/gemini
2025-09-26T12:18:53.801Z [debug] [test] Emitting test message to room 5acf98bf-32a1-43b9-a560-ba9179e8b3d5
2025-09-26T12:19:07.524Z [debug] [planner] Received response from Gemini in 14677ms
2025-09-26T12:19:07.525Z [debug] [planner] JSON parsed successfully on first attempt
2025-09-26T12:19:07.529Z [debug] [plan] OK: session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 plan received with 5 steps
2025-09-26T12:19:07.531Z [debug] [plan] Enqueuing first step emit: session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 stepId=1
2025-09-26T12:19:07.533Z [debug] [plan] END: session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5
2025-09-26T12:19:07.538Z [debug] [genWorker] Received job: gen id=172
2025-09-26T12:19:07.538Z [debug] [gen] START: session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=1 tag=part_1
2025-09-26T12:19:07.541Z [debug] [codegen] START: stepId=1 tag=part_1 {"params":{},"query":"tell me about Comets in Astronomy?"}
2025-09-26T12:19:07.541Z [debug] [codegen] Sending prompt to Gemini for tag=part_1
2025-09-26T12:19:07.542Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T12:20:07.544Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T12:20:07.545Z [error] [gen] Codegen failed for session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=1: Error: codegen/gemini timeout after 60000ms
2025-09-26T12:20:07.547Z [debug] [gen] EMITTING to room: 5acf98bf-32a1-43b9-a560-ba9179e8b3d5 with 3 actions
2025-09-26T12:20:07.547Z [debug] [gen] Sockets in room 5acf98bf-32a1-43b9-a560-ba9179e8b3d5: 1
2025-09-26T12:20:07.549Z [debug] [gen] Emitted to room 5acf98bf-32a1-43b9-a560-ba9179e8b3d5 with 1 sockets
2025-09-26T12:20:07.549Z [debug] [gen] END: session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=1, emitted chunk
2025-09-26T12:20:07.553Z [debug] [genWorker] Received job: gen id=173
2025-09-26T12:20:07.553Z [debug] [gen] START: session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=2 tag=part_2
2025-09-26T12:20:07.556Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"tell me about Comets in Astronomy?"}
2025-09-26T12:20:07.556Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T12:20:07.556Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T12:20:17.572Z [debug] [genWorker] Received job: gen id=174
2025-09-26T12:20:17.573Z [debug] [gen] START: session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=2 tag=part_2
2025-09-26T12:20:17.574Z [debug] [codegen] START: stepId=2 tag=part_2 {"params":{},"query":"tell me about Comets in Astronomy?"}
2025-09-26T12:20:17.574Z [debug] [codegen] Sending prompt to Gemini for tag=part_2
2025-09-26T12:20:17.575Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T12:20:41.651Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 4526
2025-09-26T12:20:41.651Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T12:20:41.652Z [debug] [codegen] SUCCESS: Generated 22 actions for step 2
2025-09-26T12:20:41.652Z [debug] [gen] OK: prefetch codegen completed for session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=2 in 34096ms
2025-09-26T12:20:41.652Z [debug] compilerRouter: routing to js
2025-09-26T12:20:41.652Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T12:20:41.652Z [debug] [debugger] Chunk is valid with 22 actions, allowing all for rich visualizations
2025-09-26T12:20:41.653Z [debug] [gen] Prefetched and cached session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=2
2025-09-26T12:20:52.158Z [debug] [codegen] Received response from Gemini for tag=part_2, length: 6402
2025-09-26T12:20:52.158Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T12:20:52.158Z [debug] [codegen] SUCCESS: Generated 40 actions for step 2
2025-09-26T12:20:52.158Z [debug] [gen] OK: codegen completed for session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=2 in 34584ms
2025-09-26T12:20:52.158Z [debug] compilerRouter: routing to js
2025-09-26T12:20:52.158Z [debug] [debugger] START: Received chunk for stepId=2
2025-09-26T12:20:52.158Z [debug] [debugger] Chunk is valid with 40 actions, allowing all for rich visualizations
2025-09-26T12:20:52.167Z [debug] [gen] EMITTING to room: 5acf98bf-32a1-43b9-a560-ba9179e8b3d5 with 40 actions
2025-09-26T12:20:52.167Z [debug] [gen] Sockets in room 5acf98bf-32a1-43b9-a560-ba9179e8b3d5: 1
2025-09-26T12:20:52.168Z [debug] [gen] Emitted to room 5acf98bf-32a1-43b9-a560-ba9179e8b3d5 with 1 sockets
2025-09-26T12:20:52.168Z [debug] [gen] END: session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=2, emitted chunk
2025-09-26T12:20:52.170Z [debug] [genWorker] Received job: gen id=175
2025-09-26T12:20:52.170Z [debug] [gen] START: session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=3 tag=part_3
2025-09-26T12:20:52.172Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"tell me about Comets in Astronomy?"}
2025-09-26T12:20:52.172Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T12:20:52.172Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T12:21:02.254Z [debug] [genWorker] Received job: gen id=176
2025-09-26T12:21:02.255Z [debug] [gen] START: session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=3 tag=part_3
2025-09-26T12:21:02.256Z [debug] [codegen] START: stepId=3 tag=part_3 {"params":{},"query":"tell me about Comets in Astronomy?"}
2025-09-26T12:21:02.256Z [debug] [codegen] Sending prompt to Gemini for tag=part_3
2025-09-26T12:21:02.256Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T12:21:22.768Z [debug] [codegen] Received response from Gemini for tag=part_3, length: 5226
2025-09-26T12:21:22.768Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T12:21:22.768Z [debug] [codegen] SUCCESS: Generated 35 actions for step 3
2025-09-26T12:21:22.769Z [debug] [gen] OK: codegen completed for session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=3 in 20513ms
2025-09-26T12:21:22.769Z [debug] compilerRouter: routing to js
2025-09-26T12:21:22.769Z [debug] [debugger] START: Received chunk for stepId=3
2025-09-26T12:21:22.769Z [debug] [debugger] Chunk is valid with 35 actions, allowing all for rich visualizations
2025-09-26T12:21:22.772Z [debug] [gen] EMITTING to room: 5acf98bf-32a1-43b9-a560-ba9179e8b3d5 with 35 actions
2025-09-26T12:21:22.773Z [debug] [gen] Sockets in room 5acf98bf-32a1-43b9-a560-ba9179e8b3d5: 1
2025-09-26T12:21:22.773Z [debug] [gen] Emitted to room 5acf98bf-32a1-43b9-a560-ba9179e8b3d5 with 1 sockets
2025-09-26T12:21:22.773Z [debug] [gen] END: session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=3, emitted chunk
2025-09-26T12:21:22.779Z [debug] [genWorker] Received job: gen id=177
2025-09-26T12:21:22.779Z [debug] [gen] START: session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=4 tag=part_4
2025-09-26T12:21:22.780Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"tell me about Comets in Astronomy?"}
2025-09-26T12:21:22.781Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T12:21:22.781Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T12:21:52.173Z [debug] [timeout] codegen/gemini timed out after 60000ms
2025-09-26T12:21:52.188Z [error] [gen:failed] id=175 Error: codegen/gemini timeout after 60000ms
2025-09-26T12:21:52.189Z [debug] [genWorker] Received job: gen id=178
2025-09-26T12:21:52.189Z [debug] [gen] START: session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=4 tag=part_4
2025-09-26T12:21:52.190Z [debug] [codegen] START: stepId=4 tag=part_4 {"params":{},"query":"tell me about Comets in Astronomy?"}
2025-09-26T12:21:52.190Z [debug] [codegen] Sending prompt to Gemini for tag=part_4
2025-09-26T12:21:52.190Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T12:21:52.801Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 7937
2025-09-26T12:21:52.801Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T12:21:52.801Z [debug] [codegen] SUCCESS: Generated 51 actions for step 4
2025-09-26T12:21:52.801Z [debug] [gen] OK: prefetch codegen completed for session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=4 in 30021ms
2025-09-26T12:21:52.801Z [debug] compilerRouter: routing to js
2025-09-26T12:21:52.801Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T12:21:52.801Z [debug] [debugger] Chunk is valid with 51 actions, allowing all for rich visualizations
2025-09-26T12:21:52.802Z [debug] [gen] Prefetched and cached session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=4
2025-09-26T12:22:20.125Z [debug] [codegen] Received response from Gemini for tag=part_4, length: 6205
2025-09-26T12:22:20.126Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T12:22:20.126Z [debug] [codegen] SUCCESS: Generated 44 actions for step 4
2025-09-26T12:22:20.126Z [debug] [gen] OK: codegen completed for session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=4 in 27936ms
2025-09-26T12:22:20.126Z [debug] compilerRouter: routing to js
2025-09-26T12:22:20.126Z [debug] [debugger] START: Received chunk for stepId=4
2025-09-26T12:22:20.126Z [debug] [debugger] Chunk is valid with 44 actions, allowing all for rich visualizations
2025-09-26T12:22:20.130Z [debug] [gen] EMITTING to room: 5acf98bf-32a1-43b9-a560-ba9179e8b3d5 with 44 actions
2025-09-26T12:22:20.131Z [debug] [gen] Sockets in room 5acf98bf-32a1-43b9-a560-ba9179e8b3d5: 1
2025-09-26T12:22:20.131Z [debug] [gen] Emitted to room 5acf98bf-32a1-43b9-a560-ba9179e8b3d5 with 1 sockets
2025-09-26T12:22:20.131Z [debug] [gen] END: session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=4, emitted chunk
2025-09-26T12:22:20.135Z [debug] [genWorker] Received job: gen id=179
2025-09-26T12:22:20.135Z [debug] [gen] START: session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=5 tag=part_5
2025-09-26T12:22:20.138Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"tell me about Comets in Astronomy?"}
2025-09-26T12:22:20.138Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T12:22:20.138Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T12:22:30.221Z [debug] [genWorker] Received job: gen id=180
2025-09-26T12:22:30.221Z [debug] [gen] START: session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=5 tag=part_5
2025-09-26T12:22:30.223Z [debug] [codegen] START: stepId=5 tag=part_5 {"params":{},"query":"tell me about Comets in Astronomy?"}
2025-09-26T12:22:30.223Z [debug] [codegen] Sending prompt to Gemini for tag=part_5
2025-09-26T12:22:30.224Z [debug] [timeout] Setting 60000ms timeout for codegen/gemini
2025-09-26T12:22:49.045Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 5526
2025-09-26T12:22:49.046Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T12:22:49.046Z [debug] [codegen] SUCCESS: Generated 38 actions for step 5
2025-09-26T12:22:49.046Z [debug] [gen] OK: codegen completed for session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=5 in 18823ms
2025-09-26T12:22:49.046Z [debug] compilerRouter: routing to js
2025-09-26T12:22:49.046Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T12:22:49.046Z [debug] [debugger] Chunk is valid with 38 actions, allowing all for rich visualizations
2025-09-26T12:22:49.050Z [debug] [gen] EMITTING to room: 5acf98bf-32a1-43b9-a560-ba9179e8b3d5 with 38 actions
2025-09-26T12:22:49.050Z [debug] [gen] Sockets in room 5acf98bf-32a1-43b9-a560-ba9179e8b3d5: 1
2025-09-26T12:22:49.051Z [debug] [gen] Emitted to room 5acf98bf-32a1-43b9-a560-ba9179e8b3d5 with 1 sockets
2025-09-26T12:22:49.051Z [debug] [gen] END: session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=5, emitted chunk
2025-09-26T12:22:49.051Z [debug] [orchestrator] All steps completed for session 5acf98bf-32a1-43b9-a560-ba9179e8b3d5
2025-09-26T12:22:54.168Z [debug] [codegen] Received response from Gemini for tag=part_5, length: 3535
2025-09-26T12:22:54.168Z [debug] [codegen] JSON parsed successfully on first attempt
2025-09-26T12:22:54.168Z [debug] [codegen] SUCCESS: Generated 25 actions for step 5
2025-09-26T12:22:54.168Z [debug] [gen] OK: prefetch codegen completed for session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=5 in 34030ms
2025-09-26T12:22:54.168Z [debug] compilerRouter: routing to js
2025-09-26T12:22:54.168Z [debug] [debugger] START: Received chunk for stepId=5
2025-09-26T12:22:54.168Z [debug] [debugger] Chunk is valid with 25 actions, allowing all for rich visualizations
2025-09-26T12:22:54.169Z [debug] [gen] Prefetched and cached session=5acf98bf-32a1-43b9-a560-ba9179e8b3d5 step=5
